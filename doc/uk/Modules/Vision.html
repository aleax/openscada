<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Модулі/Vision - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../../en/files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="http://oscada.org"><img alt="OpenSCADA" src="../../en/files/Logo-big.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="uk">Модулі/Vision</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="uk"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a class="external text" href="http://oscada.org/wiki/index.php?title=Special:Translate&amp;group=page-Modules%2FVision&amp;action=page&amp;filter=&amp;language=uk" rel="nofollow noreferrer noopener" target="_blank">translated version</a></span> of the page <a class="external" href="http://oscada.org/wiki/Modules/Vision" title="Modules/Vision">Modules/Vision</a> and the translation is 100% complete.</div><hr /><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" href="../../en/Modules/Vision.html" title="Modules/Vision (100% translated)">English</a>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../ru/Modules/Vision.html" title="Модули/Vision (100% translated)">российский</a>&nbsp;• ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">українська</span></div></div>
<table class="wikitable">

<tr>
<th> Модуль </th>
<th> Ім'я </th>
<th> Версія </th>
<th> Ліцензія </th>
<th> Джерело </th>
<th> Мови </th>
<th> Платформи </th>
<th> Тип </th>
<th> Автор </th>
<th> Опис
</th></tr>

<tr>
<td> <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a> </td>
<td> Робочий інтерфейс користувача (Qt)
</td>
<td> 7.0 </td>
<td> GPL2 </td>
<td> ui_Vision.so </td>
<td> en,uk,ru,de </td>
<td> x86,x86_64,ARM
</td>
<td> Користувацькі інтерфейси </td>
<td> Роман Савоченко<br />&nbsp;&nbsp;<font size="-2"><i>Максим Лисенко (2007-2012), Ксенія Яшина (2007-2008)</i></font> </td>
<td> Робочий інтерфейс користувача, заснований на бібліотеці Qt — зовнішній інтерфейс до рушія СВУ.
</td></tr></table>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9F.D1.80.D0.B8.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.BD.D1.8F"><span class="tocnumber">1</span> <span class="toctext">Призначення</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.86.D0.BD.D1.81.D1.82.D1.80.D1.83.D0.BC.D0.B5.D0.BD.D1.82_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.84.D0.BE.D1.80.D0.BC.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D1.96.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.83_.D0.A1.D0.92.D0.A3"><span class="tocnumber">2</span> <span class="toctext">Інструмент графічного формування інтерфейсу СВУ</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#.D0.A1.D1.82.D0.B8.D0.BB.D1.96"><span class="tocnumber">2.1</span> <span class="toctext">Стилі</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.D0.97.D0.B2.27.D1.8F.D0.B7.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.B7_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D1.96.D0.BA.D0.BE.D1.8E"><span class="tocnumber">2.2</span> <span class="toctext">Зв'язування з динамікою</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.92.D0.B8.D0.BA.D0.BE.D0.BD.D0.B0.D0.BD.D0.BD.D1.8F_.D1.96.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.96.D0.B2_.D0.A1.D0.92.D0.A3"><span class="tocnumber">3</span> <span class="toctext"><span>Виконання інтерфейсів СВУ</span></span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.9F.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.BD.D1.8F_.D0.B1.D0.B0.D0.B7.D0.BE.D0.B2.D0.B8.D1.85_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D1.96.D0.B2_.28.D0.BF.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2.D1.96.D0.B2.29"><span class="tocnumber">4</span> <span class="toctext"><span>Представлення базових елементів (примітивів)</span></span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.80.D0.BD.D0.BE.D1.97_.D1.84.D1.96.D0.B3.D1.83.D1.80.D0.B8_.28ElFigure.29"><span class="tocnumber">4.1</span> <span class="toctext">Примітив елементарної фігури (ElFigure)</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D1.82.D0.B5.D0.BA.D1.81.D1.82.D1.83_.28Text.29"><span class="tocnumber">4.2</span> <span class="toctext">Примітив тексту (Text)</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D1.83_.D1.84.D0.BE.D1.80.D0.BC.D0.B8_.28FormEl.29"><span class="tocnumber">4.3</span> <span class="toctext">Примітив елементу форми (FormEl)</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.B2.D1.96.D0.B4.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F_.D0.BC.D0.B5.D0.B4.D1.96.D0.B0-.D0.BC.D0.B0.D1.82.D0.B5.D1.80.D1.96.D0.B0.D0.BB.D1.96.D0.B2_.28Media.29"><span class="tocnumber">4.4</span> <span class="toctext">Примітив відображення медіа-матеріалів (Media)</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.BF.D0.BE.D0.B1.D1.83.D0.B4.D0.BE.D0.B2.D0.B8_.D0.B4.D1.96.D0.B0.D0.B3.D1.80.D0.B0.D0.BC_.28Diagram.29"><span class="tocnumber">4.5</span> <span class="toctext">Примітив побудови діаграм (Diagram)</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D1.84.D0.BE.D1.80.D0.BC.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.83_.28Protocol.29"><span class="tocnumber">4.6</span> <span class="toctext">Примітив формування протоколу (Protocol)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D1.84.D0.BE.D1.80.D0.BC.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.B7.D0.B2.D1.96.D1.82.D0.BD.D0.BE.D1.97_.D0.B4.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D1.96.D1.97_.28Document.29"><span class="tocnumber">4.7</span> <span class="toctext">Примітив формування звітної документації (Document)</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.BA.D0.BE.D0.BD.D1.82.D0.B5.D0.B9.D0.BD.D0.B5.D1.80.D1.83_.28Box.29"><span class="tocnumber">4.8</span> <span class="toctext">Примітив контейнеру (Box)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#.D0.92.D0.B5.D0.BA.D1.82.D0.BE.D1.80.D0.BD.D0.B8.D0.B9_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.B8.D0.B9_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80"><span class="tocnumber">5</span> <span class="toctext"><span>Векторний графічний редактор</span></span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#.D0.9F.D1.80.D0.B8.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.BD.D1.8F_2"><span class="tocnumber">5.1</span> <span class="toctext">Призначення</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#.D0.9F.D1.80.D0.B8.D0.BD.D1.86.D0.B8.D0.BF.D0.B8_.D1.82.D0.B0_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D1.96.D1.97_.D1.80.D0.BE.D0.B7.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80.D1.83"><span class="tocnumber">5.2</span> <span class="toctext">Принципи та функції розробленого графічного редактору</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#.D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D1.96_.D0.BF.D1.80.D0.B8.D0.BD.D1.86.D0.B8.D0.BF.D0.B8_.D1.80.D0.BE.D0.B1.D0.BE.D1.82.D0.B8_.D1.83_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.BC.D1.83_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80.D1.96"><span class="tocnumber">5.3</span> <span class="toctext">Основні принципи роботи у графічному редакторі</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#.D0.9A.D0.BE.D0.BD.D1.82.D0.B5.D0.BA.D1.81.D1.82.D0.BD.D0.B5_.D0.BC.D0.B5.D0.BD.D1.8E_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80.D1.83"><span class="tocnumber">5.4</span> <span class="toctext">Контекстне меню графічного редактору</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#.D0.94.D1.96.D0.B0.D0.BB.D0.BE.D0.B3_.D0.B2.D0.BB.D0.B0.D1.81.D1.82.D0.B8.D0.B2.D0.BE.D1.81.D1.82.D0.B5.D0.B9_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.80.D0.BD.D0.BE.D1.97_.D1.84.D1.96.D0.B3.D1.83.D1.80.D0.B8"><span class="tocnumber">5.5</span> <span class="toctext">Діалог властивостей елементарної фігури</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#.D0.97.D0.B0.D0.B3.D0.B0.D0.BB.D1.8C.D0.BD.D0.B0_.D0.BA.D0.BE.D0.BD.D1.84.D1.96.D0.B3.D1.83.D1.80.D0.B0.D1.86.D1.96.D1.8F_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F"><span class="tocnumber">6</span> <span class="toctext"><span>Загальна конфігурація модуля</span></span></a></li>
</ul>
</div>

<p>Модуль надає до OpenSCADA механізм кінцевої візуалізації середовища візуалізації та управління (СВУ). Модуль засновано на багатоплатформеній бібліотеці <a class="external text" href="http://qt.io" rel="nofollow noreferrer noopener" target="_blank">Qt</a> графічного користувацького інтерфейсу (GUI), початково створеного фірмою <a class="external text" href="http://www.trolltech.com" rel="nofollow noreferrer noopener" target="_blank">TrollTech</a>. У своїй роботі модуль використовує дані рушія СВУ — модуль <a href="../Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">VCAEngine</a>.
</p><p>Середовище візуалізації та управління (СВУ) є невід'ємною складовою SCADA системи. Воно застосовується на клієнтських станціях з метою доступного представлення інформації про об'єкт управління та видачі керуючого впливу на об'єкт. У різних практичних ситуаціях та умовах можуть застосовуватися СВУ, побудовані на різних принципах візуалізації. Наприклад, це можуть бути бібліотеки віджетів Qt, GTK+, wxWidgets або гіпертекстові механізми на основі технологій HTML, XHTML, XML, CSS та JavaScript або сторонні додатки візуалізації, реалізовані на різних мовах програмування Java, Python та інше. Будь-який з цих принципів має свої переваги та недоліки, комбінація яких може стати непереборною перепоною у можливості використання СВУ у тому або іншому практичному випадку. Наприклад, технології на кшталт бібліотеки Qt дозволяють створювати високопродуктивні СВУ, що безсумнівно важливо для станцій оператору управління технологічним процесом (ТП). Однак, необхідність інсталяції даного клієнтського ПЗ може зробити його використання неможливим у окремих випадках. З іншого боку, Web-технології не потребують інсталяції на клієнтські системи та є гранично багатоплатформними (достатньо вказати посилання на Web-сервер у будь-якому Web-браузері), що найбільш важливо для різних інженерних та адміністративних станцій. З іншого боку, продуктивність та надійність таких інтерфейсів нижче, що практично виключає їх використання на станціях оператору ТП.
</p><p>OpenSCADA має гранично гнучку архітектуру, яка дозволяє створювати зовнішні інтерфейси, у тому числі й користувацькі, на будь-якій основі та смак. Наприклад, середовище конфігурації OpenSCADA доступне як на Qt-бібліотеці, так і на Web-основі.
</p><p>У той-же час, незалежне створення реалізацій СВУ на різній основі може потягти за собою неможливість використання даних конфігурації однієї СВУ на іншій. Що незручно та обмежено з користувацького боку, а також витратно у плані реалізації та подальшої підтримки.
</p><p>З метою запобігання цим проблемам, а також створення у найкоротші терміни повного спектру різних типів СВУ, засновано <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/VCA" title="Special:MyLanguage/Sub-projects/VCA">проект створення концепції СВУ</a>. Результатом цього проекту і став даний модуль безпосередньої візуалізації (на основі бібліотеки Qt), модуль безпосередньої візуалізації <a href="../Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision</a> та рушій СВУ <a href="../Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">VCAEngine</a>.
</p>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.BD.D1.8F"><span class="mw-headline-number">1</span> Призначення</span></h2>
<p>Даний модуль безпосередньої візуалізації СВУ призначено для формування та виконання інтерфейсів СВУ у середовищі графічної бібліотеки Qt. Модуль СВУ, переважно, забезпечує:
</p><p>Перелічимо можливості, які зможе та забезпечує СВУ, побудована на основі даного проекту:
</p>
<ul><li> три рівні складності у формуванні інтерфейсу візуалізації, які дозволяють органічно освоювати та застосовувати інструментарій за принципом — від простого до складного:</li></ul>
<dl><dd><ol><li> формування з шаблонних кадрів, шляхом призначення динаміки та без графічної конфігурації;</li>
<li> графічне формування нових кадрів, шляхом використання готових елементів візуалізації з бібліотеки — мнемосхеми;</li>
<li> формування, у бібліотеці, нових: кадрів, шаблонних кадрів та елементів відображення.</li></ol></dd></dl>
<ul><li> побудова інтерфейсів візуалізації практично будь-якої складності (обмежену "дискретністю" функцій примітивів), починаючи від простих інтерфейсів моніторингу та, закінчуючи повноцінними ієрархічними інтерфейсами, що використовуються у SCADA системах;</li>
<li> надання різних способів формування та конфігурації користувацького інтерфейсу, заснованих на різних інтерфейсах графічного представлення (Qt, Web, ...), або-ж за посередництвом стандартного інтерфейсу управління OpenSCADA;</li>
<li> побудова та корекція інтерфейсу, призначення та зміна динаміки у процесі виконання;</li>
<li> побудова, на рівні користувача, нових шаблонних кадрів та формування спеціалізованих, під область застосування, бібліотек кадрів (наприклад, включення кадрів параметрів, графіків та інших елементів з ув'язкою їх один з другим), згідно до ідеї вторинного використання, накопичення та вдосконалення;</li>
<li> побудова нових користувацьких елементів візуалізації та формування спеціалізованих, під область застосування, бібліотек кадрів, згідно до ідеї вторинного використання, накопичення та вдосконалення;</li>
<li> опис логіки нових шаблонних кадрів та користувацьких елементів візуалізації як простими зв'язками, так і лаконічною, повноцінною мовою користувацького програмування;</li>
<li> можливість включення, до користувацьких елементів візуалізації, функцій (або кадрів обчислення функцій) об'єктної моделі OpenSCADA, практично зв'язуючи представлення з алгоритмом обчислення; наприклад, візуалізуючи бібліотеку моделей апаратів ТП, для подальшої візуальної побудови моделей ТП;</li>
<li> розподіл даних користувацьких інтерфейсів та інтерфейсів представлення цих даних, що дозволяє будувати інтерфейс користувача у одному середовищі, а виконувати у багатьох інших (Qt, Web, ...);</li>
<li> можливість підключення до виконуваного інтерфейсу для спостереження та корекції дій; наприклад, при навчанні операторів та контролю за його діями у реальному часі;</li>
<li> візуальна побудова різних схем з накладанням логічних зв'язків та подальшим централізованим виконанням у фоні — візуальна побудова та виконання математичних моделей, логічних схем, релейних схем та іншого;</li>
<li> надання, до OpenSCADA, функцій об'єктного API; може використовуватися для управління властивостями інтерфейсу візуалізації із користувацьких процедур;</li>
<li> побудова серверів для: кадрів, елементів візуалізації та проектів інтерфейсів візуалізації; з можливістю обслуговування множинних клієнтських підключень;</li>
<li> проста організація клієнтських станцій на різній основі (Qt, Web, ...), з підключенням до центрального серверу;</li>
<li> повноцінний механізм розподілу повноважень між користувачами, що дозволяє створювати та виконувати проекти з різними правами доступу до його компонентів;</li>
<li> гнучке формування правил сигналізацій та повідомлень, з урахуванням та підтримкою різних способів повідомлення;</li>
<li> підтримка користувацького формування палітри та шрифтових переваг інтерфейсу візуалізації, в стилях;</li>
<li> підтримка користувацького формування карт повідомлень під різне обладнання управління та переваги користувача;</li>
<li> підтримка профілів користувача, що дозволяють визначати різні властивості інтерфейсу візуалізації (гама кольорів, шрифтові особливості, переважні карти повідомлень);</li>
<li> гнучке зберігання та розповсюдження бібліотек віджетів, кадрів та проектів інтерфейсів візуалізації у БД, підтримуваних OpenSCADA; практично, користувачу треба тільки зареєструвати отриману БД з даними.</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.86.D0.BD.D1.81.D1.82.D1.80.D1.83.D0.BC.D0.B5.D0.BD.D1.82_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.84.D0.BE.D1.80.D0.BC.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D1.96.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.83_.D0.A1.D0.92.D0.A3"><span class="mw-headline-number">2</span> Інструмент графічного формування інтерфейсу СВУ</span></h2>
<p>Розробка інтерфейсу СВУ виконується у одному вікні, що реалізує багатодокументний інтерфейс (MDI) (рис.2.a). Даний підхід дозволяє одночасно відкривати декілька кадрів різних розмірів. Використано наступні механізми управління розробкою: панелі інструментів, пункти меню та контекстне меню. Більшість дій дублюються різними механізмами, що дозволяє швидко знайти інструмент зручним способом. Навігаційні інтерфейси реалізовано приєднуваними вікнами. Конфігурація панелей інструментів та приєднуваних вікон зберігається при виході та відновлюється при старті, що дозволяє налаштовувати інтерфейс під себе.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1012px;"><a class="image" href="http://oscada.org/wiki/File:Vision_win_uk.png"><img class="thumbimage" height="594" src="../files/Vision_win_uk.png" width="1010" /></a>  <div class="thumbcaption">Рис.2.a. Вікно розробки інтерфейсів СВУ.</div></div></div></div>
<p>Доступ до основних компонентів СВУ здійснюється за посередництвом приєднуваних вікон, на рисунку 2.a ці вікна зображено ліворуч. У цих вікнах міститься:
</p>
<ul><li> Дерево бібліотек віджетів. За допомогою навігатору можна швидко знайти потрібний віджет або бібліотеку та здійснити над ними потрібні операції. Реалізовано операції: додання, видалення, копіювання, виклику налаштування віджетів та бібліотек, очищення та виклику візуального редагування віджетів. Для гнучкого управління, підтримується контекстне меню у складі пунктів:
<ul><li> "Нова бібліотека" — створення нової бібліотеки.</li>
<li> "Додати візуальний елемент" — додавання візуального елементу до бібліотеки.</li>
<li> "Видалити візуальний елемент" — видалення візуального елементу з бібліотеки.</li>
<li> "Очистити візуальний елемент" — очищення візуального елементу з наслідуванням змінених властивостей або встановленням їх по замовченню.</li>
<li> "Опустити зміни візуального елементу" — опускання змін візуального елементу до його батька, які буде використано іншими наслідувальними.</li>
<li> "Властивості візуального елементу" — виклик конфігурації візуального елементу.</li>
<li> "Редагувати візуальний елемент" — виклик візуального редагування елементу.</li>
<li> "Копіювати візуальний елемент" — копіювання візуального елемента, під час вставки.</li>
<li> "Вирізати візуальний елемент" — вирізання-переміщення візуального елементу, на момент вставки.</li>
<li> "Вставити візуальний елемент" — вставка візуального елементу.</li>
<li> "Завантажити з БД" — завантаження даних візуального елементу з БД.</li>
<li> "Зберегти у БД" — збереження даних візуального елементу у БД.</li>
<li> "Підручник на ..." — виклик підручника на обрану бібліотеку.</li>
<li> "Оновити бібліотеки" — перечитування конфігурації та складу бібліотек з моделі даних.</li></ul></li>
<li> Дерево сторінок проектів. Передбачає механізм "Перетягни та кинь" для формування користувацьких кадрів на основі елементів бібліотек. Для гнучкого управління, підтримується контекстне меню, у складі пунктів:
<ul><li> "Запустити виконання проекту" — запуск виконання обраного проекту.</li>
<li> "Новий проект" — створення нового проекту.</li>
<li> "Додати візуальний елемент" — додавання візуального елементу до проекту-сторінки.</li>
<li> "Видалити візуальний елемент" — видалення візуального елементу з проекту-сторінки.</li>
<li> "Очистити візуальний елемент" — очищення візуального елементу з наслідуванням змінених властивостей або встановленням їх по замовченню.</li>
<li> "Опустити зміни візуального елементу" — опускання змін візуального елементу до його батька, які буде використано іншими наслідувальними.</li>
<li> "Властивості візуального елементу" — виклик конфігурації візуального елементу.</li>
<li> "Редагувати візуальний елемент" — виклик візуального редагування елементу.</li>
<li> "Копіювати візуальний елемент" — копіювання візуального елемента, під час вставки.</li>
<li> "Вирізати візуальний елемент" — вирізання-переміщення візуального елементу, на момент вставки.</li>
<li> "Вставити візуальний елемент" — вставка візуального елементу.</li>
<li> "Завантажити з БД" — завантаження даних візуального елементу з БД.</li>
<li> "Зберегти у БД" — збереження даних візуального елементу у БД.</li>
<li> "Оновити проекти" — перечитування конфігурації та складу проектів з моделі даних.</li></ul></li>
<li> Панель управління атрибутами віджетів;</li>
<li> Панель управління зовнішніми зв'язками віджетів.</li></ul>
<p>У основному просторі робочого вікна розташовуються вікна сторінок проектів, кадрів бібліотек віджетів, користувацьких елементів та елементів примітивів на момент їх візуального редагування.
</p><p>Нагорі робочого вікна міститься меню. У меню розташовано всі інструменти, потрібні для розробки інтерфейсів СВУ. Меню має наступну структуру:
</p>
<ul><li> "Файл" — Загальні операції.
<ul><li> "Завантажити з БД" — завантаження даних візуального елементу з БД.</li>
<li> "Примусово завантажити з БД" — примусове завантаження даних візуального елементу з БД, не тільки коли змінено.</li>
<li> "Зберегти у БД" — збереження даних візуального елементу у БД.</li>
<li> "Примусово зберегти у БД" — примусове збереження даних візуального елементу у БД, не тільки коли змінено.</li>
<li> "Закрити" — закриття вікна редактору.</li>
<li> "Вихід" — вихід з програми.</li></ul></li>
<li> "Редагування" — Операції редагування візуальних елементів.    
<ul><li> "Відмінити зміни візуального елементу" — здійснення відміни(відкату) останніх змін візуального елементу.</li>
<li> "Повторити зміни візуального елементу" — здійснення повтору змін візуального елементу.</li>
<li> "Копіювати візуальний елемент" — копіювання візуального елемента, під час вставки.</li>
<li> "Вирізати візуальний елемент" — вирізання-переміщення візуального елементу, на момент вставки.</li>
<li> "Вставити візуальний елемент" — вставка візуального елементу.</li></ul></li>
<li> "Проект" — Операції над проектами.
<ul><li> "Запустити проект" — запуск виконання обраного проекту.</li>
<li> "Новий проект" — створення нового проекту.</li>
<li> "Додати візуальний елемент" — додавання візуального елементу до проекту.</li>
<li> "Видалити візуальний елемент" — видалення візуального елементу з проекту.</li>
<li> "Очистити візуальний елемент" — очищення візуального елементу з наслідуванням змінених властивостей або встановленням їх по замовченню.</li>
<li> "Опустити зміни візуального елементу" — опускання змін візуального елементу до його батька, які буде використано іншими наслідувальними.</li>
<li> "Властивості візуального елементу" — виклик конфігурації візуального елементу.</li>
<li> "Редагувати візуальний елемент" — виклик візуального редагування елементу.</li></ul></li>
<li> "Віджет" — Операції над віджетами та бібліотеками віджетів.
<ul><li> "Нова бібліотека" — створення нової бібліотеки.</li>
<li> "Додати візуальний елемент" — додавання візуального елементу до бібліотеки.</li>
<li> "Видалити візуальний елемент" — видалення візуального елементу з бібліотеки.</li>
<li> "Очистити візуальний елемент" — очищення візуального елементу з наслідуванням змінених властивостей або встановленням їх по замовченню.</li>
<li> "Опустити зміни візуального елементу" — опускання змін візуального елементу до його батька, які буде використано іншими наслідувальними.</li>
<li> "Властивості візуального елементу" — виклик конфігурації візуального елементу.</li>
<li> "Редагувати візуальний елемент" — виклик візуального редагування елементу.</li>
<li> "Вид" — управління розташуванням візуальних елементів на кадрах.
<ul><li> "Підняти" — підняття віджету вище.</li>
<li> "Опустити" — опускання віджету нижче.</li>
<li> "Підняти нагору" — підняття віджета на самий верх.</li>
<li> "Опустити додолу" — опускання віджету на самий низ.</li>
<li> "Вирівняти ліворуч" — вирівнювання віджету ліворуч.</li>
<li> "Вирівняти у центрі вертикально" — вирівнювання віджету вертикально у центрі.</li>
<li> "Вирівняти праворуч" — вирівнювання віджету праворуч.</li>
<li> "Вирівняти зверху" — вирівнювання віджета догори.</li>
<li> "Вирівняти у центрі горизонтально" — вирівнювання віджету горизонтально у центрі.</li>
<li> "Вирівняти додолу" — вирівнювання віджету додолу.</li></ul></li>
<li> "Бібліотека: {Ім'я бібліотеки}" — пункти меню доступу до кадрів-віджетів, що містяться у бібліотеці.</li></ul></li>
<li> "Вікно" — Управління MDI вікнами.
<ul><li> "Закрити" — закриття активного вікна.</li>
<li> "Закрити всі" — закриття всіх вікон.</li>
<li> "Укласти" — укладка всіх вікон для одночасної видимості.</li>
<li> "Каскадувати" — розташування всіх вікон каскадом.</li>
<li> "Наступне" — активація наступного вікна.</li>
<li> "Попереднє" — активація попереднього вікна.</li>
<li> "Віджет: {Ім'я віджету}" — пункти активації конкретного вікна.</li></ul></li>
<li> "Вид" — Управління видимістю робочого вікна та панелей на ньому.
<ul><li> "Весь екран" — розгортання робочого вікна на весь екран.</li>
<li> "Панель візуальних елементів" — панель управління візуальними елементами.</li>
<li> "Функції розташування віджетів" — панель управління розташуванням віджетів на кадрах.</li>
<li> "Інструменти елементарної фігури" — додаткова панель інструментів редагування примітиву елементарної фігури ("ElFigure").</li>
<li> "Проекти" — пришвартоване вікно управління деревом проектів.</li>
<li> "Віджети" — пришвартоване вікно управління деревом бібліотек віджетів.</li>
<li> "Атрибути" — пришвартоване вікно диспетчеру атрибутів.</li>
<li> "Зв'язки" — пришвартоване вікно диспетчеру зв'язків.</li>
<li> "Бібліотека: {Ім'я бібліотеки}" — управління видимістю панелей бібліотек віджетів.</li></ul></li>
<li> "Допомога" — Допомога з OpenSCADA та цього модуля.
<ul><li> "Про" — інформація про даний модуль.</li>
<li> "Про Qt" — інформація по бібліотеці Qt, що використовується модулем.</li>
<li> "Підручник на 'Vision'" — виклик підручника на цей модуль.</li>
<li> "Підручник на 'VCAEngine'" — виклик підручника на рушій середовища візуалізації та управління.</li>
<li> "Підручник на 'OpenSCADA 0.9.0'" — виклик підручника на OpenSCADA загалом.</li>
<li> "Підручник на ..." — виклик підручника на обрану бібліотеку.</li>
<li> "Що це" — запит опису елементів інтерфейсу вікна.</li></ul></li>
<li> "QTStarter" — Пункт меню, створений модулем запуску модулів бібліотеки Qt. Містить кнопки запуску UI модулів OpenSCADA, заснованих на бібліотеці Qt. За допомогою цього пункту можна відкрити декілька екземплярів вікон даного модуля або інших модулів.</li></ul>
<p>Нагорі, під меню, або по сторонам розташовуються панелі інструментів. Панелі може бути приховано або розташовано, що керується у пункті меню "Вид". Передбачено наступні панелі інструментів:
</p>
<ul><li> "Панель візуальних елементів" — Панель управління візуальними елементами:
<ul><li> "Запуск виконання проекту для обраного елементу" — призводить запуск проекту на виконання та активацію обраної сторінки проекту.</li>
<li> "Завантажити дані елементу з БД" — виконує завантаження даних обраного(их) елементу з БД.</li>
<li> "Зберегти дані елементу у БД" — виконує збереження даних обраного(их) елементу у БД.</li>
<li> "Новий проект" — створення нового проекту.</li>
<li> "Нова бібліотека віджетів" — створення нової бібліотеки віджетів.</li>
<li> "Додати візуальний елемент" — додавання візуального елементу.</li>
<li> "Видалити візуальний елемент" — видалення візуального елементу.</li>
<li> "Властивості візуального елементу" — виклик конфігурації візуального елементу.</li>
<li> "Редагувати візуальний елемент" — виклик візуального редагування елементу.</li>
<li> "Відмінити зміни візуального елементу" — здійснення відміни(відкату) останніх змін візуального елементу.</li>
<li> "Повторити зміни візуального елементу" — здійснення повтору змін візуального елементу.</li>
<li> "Копіювати візуальний елемент" — копіювання візуального елемента, під час вставки.</li>
<li> "Вирізати візуальний елемент" — вирізання-переміщення візуального елементу, на момент вставки.</li>
<li> "Вставити візуальний елемент" — вставка візуального елементу.</li></ul></li>
<li> "Функції розташування віджетів" — Панель управління розташуванням віджетів на кадрі:
<ul><li> "Підняти" — підняття віджету вище.</li>
<li> "Опустити" — опускання віджету нижче.</li>
<li> "Підняти нагору" — підняття віджета на самий верх.</li>
<li> "Опустити додолу" — опускання віджету на самий низ.</li>
<li> "Вирівняти ліворуч" — вирівнювання віджету ліворуч.</li>
<li> "Вирівняти у центрі вертикально" — вирівнювання віджету вертикально у центрі.</li>
<li> "Вирівняти праворуч" — вирівнювання віджету праворуч.</li>
<li> "Вирівняти зверху" — вирівнювання віджета догори.</li>
<li> "Вирівняти у центрі горизонтально" — вирівнювання віджету горизонтально у центрі.</li>
<li> "Вирівняти додолу" — вирівнювання віджету додолу.</li></ul></li>
<li> "Інструменти елементарної фігури" — Додаткова панель інструментів редагування примітиву елементарної фігури ("ElFigure"):
<ul><li> "Повернення курсору" — повернення до курсору для дій над фігурами на віджеті.</li>
<li> "Додати лінію" — додання лінії до елементарної фігури.</li>
<li> "Додати дугу" — додання дуги до елементарної фігури.</li>
<li> "Додати криву Без'є" — додання кривої Без'є до елементарної фігури.</li>
<li> "Прив'язки" — включення прив'язок до елементарної фігури.</li></ul></li>
<li> "Бібліотека: {Ім'я бібліотеки}" — Вміст панелі залежить від вмісту бібліотеки та включає кнопки виклику елементів бібліотеки.</li></ul>
<p>Унизу вікна розробки СВУ розташовується рядок статусу. Праворуч рядка статусу розташовуються індикатори візуального масштабу редагованого кадру, режиму зміни розміру елементів, режиму поточної станції рушія СВУ та користувача, від ім'я якого ведеться розробка інтерфейсу СВУ. За подвійним кліком на індикаторі користувача можна користувача змінити, ввівши нове ім'я та пароль користувача. У головному полі рядка статусу виводяться різні інформаційні повідомлення та повідомлення допомоги.
</p><p>Для редагування властивостей візуальних елементів передбачено два діалоги. Перший діалог дозволяє редагувати властивості контейнерів візуальних елементів (рис.2.b) — бібліотек віджетів та проектів. Другий діалог для редагування властивостей самих візуальних елементів (рис.2.d). Зміни, внесені у діалогах, одразу-ж потрапляють до рушія СВУ. Для збереження цих змін у БД, або відновлення з БД, потрібно скористатися відповідними інструментами головного вікна розробки.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:791px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wlbpg_uk.png"><img class="thumbimage" height="525" src="../files/Vision_wlbpg_uk.png" width="789" /></a>  <div class="thumbcaption">Рис.2.b. Діалог редагування властивостей контейнерів візуальних елементів.</div></div></div></div>
<p>За допомогою головної вкладки цього діалогу можна встановити:
</p>
<ul><li> Стан контейнеру елементів, а саме: "Ввімкнено", БД контейнеру, лічильник використання, дата та час останньої модифікації.</li>
<li> Ідентифікатор, ім'я та опис контейнеру.</li>
<li> Для проекту:
<ul><li> користувач, група користувачів та доступ для: користувача, групи користувачів та всіх інших;</li>
<li> період обчислення проекту при виконанні.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:883px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wlbpg_diag_uk.png"><img class="thumbimage" height="376" src="../files/Vision_wlbpg_diag_uk.png" width="881" /></a>  <div class="thumbcaption">Рис.2.с. Вкладка "Діагностика" проекту.</div></div></div></div>
<p>У цій вкладці Ви можете, для отримання діагностичних повідомлень: обрати час, освіжити до поточного часу та обрати розмір-глибину.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:620px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_uk.png"><img class="thumbimage" height="493" src="../files/Vision_wdg_uk.png" width="618" /></a>  <div class="thumbcaption">Рис.2.d. Діалог редагування властивостей візуальних елементів.</div></div></div></div>
<p>За допомогою головної вкладки цього діалогу можна встановити:
</p>
<ul><li> Стан елементу, а саме: "Ввімкнено", батьківський віджет, тип сторінки (для сторінок проекту), лічильник використання, дата та час останьої модифікації.</li>
<li> Ідентифікатор, корінь, шлях, ім'я та опис елементу.</li></ul>
<p>Діалог редагування властивостей контейнерів візуальних елементів містить дві вкладки: вкладку конфігурації основних параметрів (рис.2.b) та вкладку конфігурації mime-даних контейнерів (рис.2.e).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:562px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wlbpg_mime_uk.png"><img class="thumbimage" height="553" src="../files/Vision_wlbpg_mime_uk.png" width="560" /></a>  <div class="thumbcaption">Рис.2.e. Вкладка редагування mime-даних контейнеру візуальних елементів.</div></div></div></div>
<p>Діалог редагування властивостей візуальних елементів містить чотири вкладки: вкладку конфігурації основних параметрів (рис.2.b), вкладку атрибутів елементу (рис.2.f), вкладку обробки елементу (рис.2.g) та вкладку зв'язків елементу (рис.2.h). На різних рівнях ієрархії візуальних елементів якісь вкладки можуть бути доступні, а якісь ні.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:666px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_attr_uk.png"><img class="thumbimage" height="546" src="../files/Vision_wdg_attr_uk.png" width="664" /></a>  <div class="thumbcaption">Рис.2.f. Вкладка атрибутів діалогу редагування властивостей візуального елементу.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:821px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_prc_uk.png"><img class="thumbimage" height="624" src="../files/Vision_wdg_prc_uk.png" width="819" /></a>  <div class="thumbcaption">Рис.2.g. Вкладка обробки діалогу редагування властивостей візуального елементу.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:620px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_lnk_uk.png"><img class="thumbimage" height="577" src="../files/Vision_wdg_lnk_uk.png" width="618" /></a>  <div class="thumbcaption">Рис.2.h. Вкладка зв'язків діалогу редагування властивостей візуального елементу.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.A1.D1.82.D0.B8.D0.BB.D1.96"><span class="mw-headline-number">2.1</span> Стилі</span></h3>
<p>Відомо, що людина може мати індивідуальні особливості сприйняття графічної інформації. Якщо ці особливості не враховувати то можна отримати несприйняття та відторгнення користувача до інтерфейсу ВУ. Таке несприйняття та відторгнення може призвести до фатальних помилок при управлінні ТП, а також травмувати людину постійною роботою з інтерфейсом. У SCADA системах прийнято домовленості, які регламентують вимоги по створенню уніфікованого інтерфейсу ВУ, що нормально сприймається більшістю людей. При цьому, практично відсутнє врахування особливостей людей з деякими відхиленнями.
</p><p>З метою врахувати цю обставину, та надати можливість централізовано та просто змінювати візуальні властивості інтерфейсу, проектом реалізується менеджер стилів інтерфейсу візуалізації.
</p><p>Користувачем може бути створено багато стилів, кожний з яких буде зберігати кольорові, шрифтові та інші властивості елементів кадру. Проста зміна стилю дозволить швидко видозмінити інтерфейс ВУ, та можливість призначення індивідуального стилю до користувача дозволить врахувати його особливості.
</p><p>Для реалізації цієї можливості, при створені кадрів, необхідно для властивостей кольору, шрифту та інших встановити параметр "Конфігурація" (таблиці у вкладці "Обробка") у значення "З стилю". А у параметрі "Конфігураційний шаблон" вказати ідентифікатор поля стиля. Далі, це поле автоматично з'явиться у менеджері стилів та його можна буде там змінювати. Менеджер стилів доступний на сторінці конфігурації проекту у вкладці "Стилі". На цій вкладці можна стилі створювати, видаляти та змінювати, видаляти їх поля.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_prj_stl_uk.png"><img alt="Vision prj stl uk.png" height="334" src="../files/Vision_prj_stl_uk.png" width="560" /></a></div></div>
<p>Загалом, стилі доступні починаючи з рівня проектів. На рівні бібліотек віджетів можна тільки визначати поля стилів у віджетів. На рівні проекту, при виборі стиля, включається робота зі стилями, що передбачає доступ до полів стилів замість безпосередніх значень атрибутів. Фактично, це означає, що при читанні або записі атрибуту віджету, вказані операції будуть здійснюватися над відповідним полем обраного стилю.
</p><p>При запуску проекту на виконання буде використано встановлений у проекті стиль. Надалі, користувач може обрати стиль з переліку доступних. Обраний користувачем стиль буде збережено та використано при наступному запуску проекту.
</p><p><br />
</p>
<h3><span class="mw-headline" id=".D0.97.D0.B2.27.D1.8F.D0.B7.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.B7_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D1.96.D0.BA.D0.BE.D1.8E"><span class="mw-headline-number">2.2</span> Зв'язування з динамікою</span></h3>
<p>Для надання до інтерфейсу візуалізації актуальних даних, повинні використовуватися дані підсистеми "Збір даних (DAQ)". Природа цих даних наступна:
</p>
<ol><li> параметри, що містять деяку кількість атрибутів;</li>
<li> атрибути параметру можуть надавати дані п'яти типів: Логічний, Цілий, Реальний, Рядок та Об'єкт;</li>
<li> атрибути параметру можуть мати архів (історію);</li>
<li> атрибути параметру можуть бути на читання, запис та з повним доступом.</li></ol>
<p>Враховуючи перший пункт, треба забезпечити можливість групового призначення посилання. Для цього використовуємо <a href="../DAQ.html#LogicLev" title="Special:MyLanguage/Documents/DAQ">концепцію логічного рівня</a>.
</p><p>Зв'язки забезпечують прозоре перетворення типів та не потребують спеціальної конфігурації.
</p><p>Для задоволення можливості доступу до архівам зв'язки виконують перевірку типу атрибуту та, у випадку підключення до "Адреси", до значення поміщається адреса зв'язку.
</p><p>У термінах СВУ, динамічні зв'язки та конфігурація динаміки є одним процесом, для опису конфігурації якого передбачено вкладку "Обробка" віджетів (рис.2.f). Вкладка містить таблицю конфігурації властивостей атрибутів та текст процедури обчислення віджету.
</p><p>Окрім полів конфігурації атрибутів, у таблиці передбачається стовпчик "Обробка", для вибіркового використання атрибутів у обчислювальній процедурі віджета, та стовпчика "Конфігурація", "Конфігураційний шаблон" для опису конфігурації зв'язків.
</p><p>Стовпчик "Конфігурація" дозволяє вказати тип зв'язку атрибуту віджета:
</p>
<ul><li> <i>Постійна</i> — у вкладці зв'язків віджету з'являється поле визначення постійної, наприклад, особливого кольору або заголовку шаблонних кадрів.</li>
<li> <i>Вхідний зв'язок</i> — зв'язок з динамікою тільки для читання.</li>
<li> <i>Вихідний зв'язок</i> — зв'язок з динамікою тільки для запису.</li>
<li> <i>Повний зв'язок</i> — повний зв'язок з динамікою, читання та запис.</li>
<li> <i>Зі стиля</i> — брати значення зі стиля проекту.</li></ul>
<p>Стовпчик "Конфігураційний шаблон" дозволяє зв'язати групи динамічних атрибутів. Наприклад, це можуть бути різні типи параметрів підсистеми "DAQ" та інші віджети інтерфейсу. При коректному формуванні цього поля працює механізм автоматичного призначення атрибутів, при визначені тільки параметру підсистеми "DAQ" або віджету інтерфейсу, що спрощує та прискорює процес конфігурації. Значення цього стовпчика має наступний формат:
</p>
<ul><li> <i>Для постійної:</i> пряме значення атрибуту.</li>
<li> <i>Для зв'язку:</i> "<b>{параметр}|{ідентифікатор}</b>", де:
<ul><li> <i>параметр</i> — група атрибутів;</li>
<li> <i>ідентифікатор</i> — ідентифікатор атрибуту; саме значення у цьому полі співставляється з атрибутами параметрів DAQ після указання групового зв'язку, при автоматичному зв'язувані;</li></ul></li>
<li> <i>Для стиля:</i> ідентифікатор-ім'я поля стиля.</li></ul>
<p>Встановлення зв'язків може бути декількох типів, який визначається префіксом:
</p>
<ul><li> <i>val:</i> — Пряме завантаження значення через механізм зв'язків. Наприклад, зв'язок "val:100" завантажує значення 100 до атрибуту віджета. Часто використовується у випадку відсутності кінцевої точки зв'язку, з метою прямого встановлення значення.</li>
<li> <i>prm:</i> — Зв'язок на атрибут параметру або параметр, загалом, для групи атрибутів підсистеми "Збір даних". Наприклад, зв'язок "prm:/LogicLev/experiment/Pi/var" здійснює доступ атрибуту віджета до атрибуту параметра підсистеми "Збір даних". Знак "(+)", у кінці адреси, вказує на вдалу лінковку та присутність цільового об'єкту. Для атрибутів об'єктного типу допустимий ієрархічний доступ до конкретної властивості об'єкту, шляхом вказання її шляху через символ '#', наприклад: "prm:/LogicLev/experiment/Pi/var#pr1/pr2".</li>
<li> <i>wdg:</i> — Зв'язок на атрибут іншого віджета або віджет, загалом, для групи атрибутів. Наприклад, зв'язок "wdg:/ses_AGLKS/pg_so/pg_1/pg_ggraph/pg_1/a_bordColor" здійснює доступ атрибуту одного віджету до атрибуту іншого. Підтримуються як абсолютні, так і відносні шляхи зв'язків. Точкою відліку адреси абсолютного зв'язку виступає об'єкт кореня модуля "VCAEngine", що означає — першим елементом абсолютної адреси є ідентифікатор сеансу або проекту. Перший елемент, на боці сеансу, опускається, тому зв'язки, встановлені у проекті, там працюють. Відносні зв'язки беруть відлік від віджету, де зв'язок вказано. Спеціальним елементом відносного зв'язку є елемент вищестоящого вузла "..".</li>
<li> <i>arh:</i> — Особливий тип зв'язку, доступний тільки для окремого атрибуту типу "Адреса", який дозволяє підключитися прямо до архіву значень ("arh:CPU_load"). Може бути корисний для вказання архіву у якості джерела даних примітиву "Діаграма".</li></ul>
<p>Обробка зв'язків відбувається з періодичністю обчислення віджету, у порядку:
</p>
<ul><li> отримання даних вхідних зв'язків;</li>
<li> виконання обчислення процедури віджету;</li>
<li> передача значень за вихідними зв'язками.</li></ul>
<p>На рисунку 2.g представлено вкладку зв'язків з можливістю групового та індивідуального призначення атрибутів.
</p><p>При розташуванні віджета до контейнеру віджетів всі зв'язки початкового віджета додаються до переліку результуючих зв'язків контейнеру віджетів, однак, тільки на глибину у один рівень вкладення.
</p><p>З вищесказаного видно, що зв'язки встановлюються користувачем у процесі конфігурації інтерфейсу. Однак, для надання можливості створення кадрів загального призначення з функцією надання деталізованих даних різних джерел одного типу, потрібен механізм <span id="DynLink" title="#DynLink">динамічного встановлення зв'язків</span>. Такий механізм передбачається:
</p>
<ul><li> резервуванням ключового ідентифікатору "<b>&lt;page&gt;</b>" для групи атрибутів зв'язків у кадрів загального призначення;</li>
<li> динамічним призначенням зв'язків з ідентифікатором "<b>&lt;page&gt;</b>", у процесі відкриття кадру загального призначення за сигналом від іншого віджета.</li></ul>
<p>Розглянемо приклад, коли є кадр загального призначення "Панель контролю графіком" та багато "Графіків" на різних кадрах. "Панель контролю графіком" має зв'язки з шаблонами:
</p>
<ul><li> tSek -&gt; "&lt;page&gt;|tSek"</li>
<li> tSize -&gt; "&lt;page&gt;|tSize"</li>
<li> trcPer -&gt; "&lt;page&gt;|trcPer"</li>
<li> valArch -&gt; "&lt;page&gt;|valArch"</li></ul>
<p>При цьому, кожний віджет "Графік" має атрибути "tSek", "tSize", "trcPer" та "valArch". За викликом сигналу відкриття "Панелі контролю графіком" з будь-якого віджету "Графік", відбувається зв'язування атрибутів "Панелі контролю графіком" з атрибутами віджету "Графік", згідно шаблону. як результат, всі зміни на "Панелі контролю графіком" будуть відображатися на графіку, за посередництвом цих зв'язків.
</p><p>Якщо у віджета "Графік" наявні зовнішні зв'язки на параметри підсистеми "Збір даних", зв'язки "Панелі контролю графіком" будуть встановлюватися на зовнішнє джерело. Крім того, якщо у "Панелі контролю графіком" будуть заявлені зв'язки на атрибути, відсутні безпосередньо у віджета "Графік", то буде здійснюватися пошук наявності таких атрибутів у зовнішнього джерела — першого на який встановлено прямий зв'язок, виконуючи, тим самим, доповнення відсутніх зв'язків.
</p><p>Для наочного зображення цього механізмі наведено таблицю.
</p><p><b>Таблиця.</b> Механізм динамічної лінковки.
</p>
<table class="wikitable">

<tr>
<th> Атрибути "Панелі контролю графіком" (шаблон динамичного зв'язку) </th>
<th> Атрибути "Графіка" </th>
<th> Атрибути зовнішнього "Параметру" </th>
<th> Результуючий зв'язок або значення атрибута, що зв'язується
</th></tr>
<tr>
<td> tSek (&lt;page&gt;|tSek) </td>
<td> tSek </td>
<td> - </td>
<td> "Графік".tSek
</td></tr>
<tr>
<td> tSize (&lt;page&gt;|tSize) </td>
<td> tSize </td>
<td> - </td>
<td> "Графік".tSize
</td></tr>
<tr>
<td> trcPer (&lt;page&gt;|trcPer) </td>
<td> trcPer </td>
<td> - </td>
<td> "Графік".trcPer
</td></tr>
<tr>
<td> valArch (&lt;page&gt;|valArch) </td>
<td> valArch </td>
<td> - </td>
<td> "Графік".valArch
</td></tr>
<tr>
<td> var (&lt;page&gt;|var) </td>
<td> var </td>
<td> var </td>
<td> "Параметр".var
</td></tr>
<tr>
<td> ed (&lt;page&gt;|ed) </td>
<td> - </td>
<td> ed </td>
<td> "Параметр".ed
</td></tr>
<tr>
<td> max (&lt;page&gt;|max) </td>
<td> - </td>
<td> - </td>
<td> EVAL
</td></tr>
<tr>
<td> min (&lt;page&gt;|min) </td>
<td> - </td>
<td> - </td>
<td> EVAL
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B8.D0.BA.D0.BE.D0.BD.D0.B0.D0.BD.D0.BD.D1.8F_.D1.96.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.96.D0.B2_.D0.A1.D0.92.D0.A3"><span class="mw-headline-number">3</span> <span id="RunTime" title="#RunTime">Виконання інтерфейсів СВУ</span></span></h2>
<p>Виконання інтерфейсу СВУ полягає у запуску нового сеансу проекту або підключені до чинного, на рівні рушія СВУ. Далі, модуль безпосередньої візуалізації відображає та керує даними сеансу. Головне вікно режиму виконання даного модуля має вигляд, представлений на рисунку 3.
</p><p>Реалізовано оновлення вмісту відкритих сторінок інтерфейсу візуалізації з періодичністю виконання візуалізованого сеансу проекту візуалізації. В процесі оновлення здійснюється:
</p>
<ul><li> запит у моделі переліку відкритих сторінок, з ознакою модифікації сторінки, та перевірка відповідності реально відкритих сторінок цьому переліку;</li>
<li> запит гілки даних модифікованих сторінок;</li>
<li> оновлення вмісту модифікованих сторінок та їх віджетів у відповідності до отриманих змінених даних.</li></ul>
<p>При закритті вікна "Виконання" здійснюється закриття сеансу проекту у моделі даних, якщо сеанс не фоновий та це було останнє підключення.
</p><p>Механізм запиту тільки змінених даних засновано на абсолютному лічильнику виконання сеансу. При внесенні реальних змін до атрибутів віджетів здійснюється запам'ятовування значення цього лічильника, що й дозволяє ідентифікувати змінені атрибути. Такий підхід дозволяє підвищити продуктивність та зменшити трафік, у випадку доступу до рушія СВУ через мережу.
</p><p>Ієрархічно, модулем передбачається можливість розташування сторінок проекту як на головному вікні виконання (рис.3), так і вкладаючи всередину віджетів контейнерів, а також шляхом відкриття додаткових вікон поверх основного.
</p><p>При розгортанні головного вікна виконання, або переході у повноекранний режим, виконується масштабування вмісту сторінки інтерфейсу СВУ, заповнюючи весь простір вікна та, дозволяючи, тим самим, виконувати проекти, розроблені на одну роздільну здатність екрану, на різних роздільних здатностях.
</p><p>Головне вікно складається з меню (нагорі) рядку статусу (нанизу) та виконуваного вмісту сеансу між ними. Меню, у режимі виконання, позиціюється як інструмент адміністратору OpenSCADA, який містить загальносистемні функції, та доступне тільки привілейованим користувачам, що стоять у групі "root". Меню має наступну структуру:
</p>
<ul><li> "Файл" — Загальні операції.
<ul><li> "Друк" — друк:
<ul><li> "Сторінка" — сторінку користувацького інтерфейсу;</li>
<li> "Діаграма" — діаграму на користувацькому інтерфейсі;</li>
<li> "Документ" — документ на користувацькому інтерфейсі.</li></ul></li>
<li> "Експорт" — експорт:
<ul><li> "Сторінка" — сторінку користувацького інтерфейсу, у зображення;</li>
<li> "Діаграма" — діаграму на користувацькому інтерфейсі, у зображення та CSV;</li>
<li> "Документ" — документ на користувацькому інтерфейсі, у HTML та CSV для експортних таблиць.</li></ul></li>
<li> "Закрити" — закрити вікно редактору.</li>
<li> "Вихід" — вихід з програми.</li></ul></li>
<li> "Порушення" — Квітація порушень:
<ul><li> "Рівень порушення" — всі порушення;</li>
<li> "Світло" — повідомлення світлом;</li>
<li> "Гудок" — повідомлення гудком;</li>
<li> "Звук/мова" — повідомлення звуком/мовою.</li></ul></li>
<li> "Вид" — Параметри відображення сеансу проекту.
<ul><li> "Весь екран" — перемикач повноекранного режиму виконання.</li></ul></li>
<li> "Допомога" — Допомога з проекту СВУ, цього модуля та OpenSCADA.
<ul><li> "Про" — інформація про даний модуль.</li>
<li> "Про Qt" — інформація про бібліотеку Qt, що використано модулем.</li>
<li> "Підручник проекту '{Ім'я}'" — виклик підручника на проект візуалізації — файл з ім'ям ідентифікатору проекту СВУ.</li>
<li> "Підручник на 'Vision'" — виклик підручника на цей модуль.</li>
<li> "Підручник на 'OpenSCADA 0.9.0'" — виклик підручника на OpenSCADA загалом.</li></ul></li>
<li> "QTStarter" — Пункт меню, створений модулем запуску модулів бібліотеки Qt. Містить кнопки запуску UI модулів OpenSCADA, заснованих на бібліотеці Qt. За допомогою цього пункту можна відкрити декілька екземплярів вікон даного модуля або інших модулів. У випадку з режимом виконання, це меню дозволяє відкрити вікно розробки з виконання, повторним викликом даного модуля.</li></ul>
<p>На рядку статусу розташовуються:
</p>
<ul><li> Праворуч:
<ul><li> годинник, у повноекраному режимі;</li>
<li> поточна станція рушія СВУ;</li>
<li> поточний користувач, від ім'я якого виконується інтерфейс СВУ — подвійним кліком можна змінити цього користувача, ввівши нове ім'я та пароль;</li>
<li> поточний стиль інтерфейсу, який можна змінити подвійним кліком;</li>
<li> панель з кнопками:
<ul><li> квітації порушень — кліком можна сквітувати порушення повністю або тільки потрібний тип повідомлення;</li>
<li> експорту та друку — кліком викликає діалог експорту та друку типового елемента або обраного з меню, де експорт для:
<ul><li> "Сторінка" — сторінку користувацького інтерфейсу, у зображення;</li>
<li> "Діаграма" — діаграму на користувацькому інтерфейсі, у зображення та CSV;</li>
<li> "Документ" — документ на користувацькому інтерфейсі, у HTML та CSV для експортних таблиць.</li></ul></li>
<li> підручнику на проект СВУ — кліком викликає підручник на проект візуалізації — файл з ім'ям ідентифікатору проекту СВУ.</li></ul></li>
<li> панель користувацьких дій, якщо визначено у <a href="#SpecAttrs">атрибуті "statLine"</a> — кліком лівою, правою та подвійним кліком формує подію до головної сторінки інтерфейсу.</li></ul></li>
<li> У головному полі рядка статусу виводяться різні інформаційні повідомлення та повідомлення допомоги.</li></ul>
<p>Режим виконання (Runtime) значним чином підтримує багатомовність, яка залежить від мови обраного користувача або вікна виконання, тобто, якщо Ви зміните користувача то отримаєте інтерфейс виконання на іншій мові цього користувач. Ця функція включається <a href="../Program_manual.html#ConfigTr" title="Special:MyLanguage/Documents/Program manual">динамічним перекладом повідомлень OpenSCADA</a>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1039px;"><a class="image" href="http://oscada.org/wiki/File:Vision_run_uk.png"><img class="thumbimage" height="768" src="../files/Vision_run_uk.png" width="1037" /></a>  <div class="thumbcaption">Рис.3. Головне вікно режиму виконання.</div></div></div></div>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.BD.D1.8F_.D0.B1.D0.B0.D0.B7.D0.BE.D0.B2.D0.B8.D1.85_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D1.96.D0.B2_.28.D0.BF.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2.D1.96.D0.B2.29"><span class="mw-headline-number">4</span> <span id="Primitives" title="#Primitives">Представлення базових елементів (примітивів)</span></span></h2>
<p>Даною версією модуля реалізовано не всі образи примітивів, закладені проектом. Загалом, проектом закладено примітиви:
</p>
<table class="wikitable">

<tr>
<th> Ідентифікатор </th>
<th> Найменування </th>
<th> Функція
</th></tr>
<tr>
<td> ElFigure </td>
<td> Елементарна графічна фігура </td>
<td>
<p>Примітив є основою відмальовки елементарних графічних фігур зі всілякими комбінаціями їх у одному об'єкті. Передбачається підтримка наступних елементарних фігур:
</p>
<ul><li> Лінія.</li>
<li> Дуга.</li>
<li> Крива Без'є.</li>
<li> Заливка замкненого простору.<br /></li></ul>
<p>Для всіх фігур, що містяться у віджеті, встановлюються єдині властивості товщини, кольору та інше, також, передбачається можливість указання вищеперелічених атрибутів для кожної фігури окремо та їх динамізація.
</p>
</td></tr>
<tr>
<td> FormEl </td>
<td> Елемент форми </td>
<td>
<p>Включає підтримку стандартних компонентів форми:
</p>
<ul><li> Редагування рядку.</li>
<li> Редагування тексту.</li>
<li> Прапорець.</li>
<li> Кнопка.</li>
<li> Вибір з переліку.</li>
<li> Перелік.</li>
<li> Дерево.</li>
<li> Таблиця.</li>
<li> Слайдер.</li>
<li> Стрічка прокрутки. </li></ul>
</td></tr>
<tr>
<td> Text </td>
<td> Текст </td>
<td> Елемент тексту-мітка. Характеризується типом шрифту, кольором, орієнтацією та вирівнюванням. Передбачається підтримка аргументів.
</td></tr>
<tr>
<td> Media </td>
<td> Медіа </td>
<td> Елемент відображення растрових та векторних зображень різних форматів, програвання анімованих зображень, програвання аудіо-фрагментів та перегляд відео-фрагментів.
</td></tr>
<tr>
<td> Diagram </td>
<td> Діаграма </td>
<td> Елемент діаграми з підтримкою можливості відображення декількох потоків у реальному часі для: трендів (часових графіків), частотного спектру, XY діаграм.
</td></tr>
<tr>
<td> Protocol </td>
<td> Протокол </td>
<td> Елемент протоколу — візуалізатор повідомлень програми, з підтримкою декількох режимів роботи.
</td></tr>
<tr>
<td> Document </td>
<td> Документ </td>
<td> Елемент формування звітів, журналів та іншої документації на основі доступних даних.
</td></tr>
<tr>
<td> Box </td>
<td> Контейнер </td>
<td> Містить механізм розташування-включення інших віджетів для формування нових, більш складних, віджетів та сторінок кінцевої візуалізації.
</td></tr>
<tr>
<td> Function, <span style="color: red">у планах</span> </td>
<td> Функція API об'єктної моделі OpenSCADA </td>
<td> Невізуальний віджет, на боці виконання, що дозволяє включати обчислювальні функції об'єктної моделі OpenSCADA до СВУ.
</td></tr></table>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../../en/files/At.png" width="22" /></a> Для всіх реалізованих примітивів, крім "FormEl", цей модуль підтримує умовну генерацію повідомлень від маніпулятору миші за прозорості вказаного пікселя, більш нуля — не повна прозорість.
</p><p><span id="SpecAttrs" title="#SpecAttrs">Модулем візуалізатору надається та використовується низка специфічних атрибутів</span> загального характеру, інформацію про які наведено у таблиці. Ці атрибути автоматично створюються візуалізатором за їх відсутності та під час першого запуску, або створюються користувачем у кадрі вказаної області, за потреби.
</p>
<table class="wikitable">

<tr>
<th> Ідентифікатор (область) </th>
<th> Ім'я </th>
<th> Призначення
</th></tr>
<tr>
<td> statLine (головна сторінка) </td>
<td> Елементи рядку статусу </td>
<td>
<p>Текстове поле з описом елементів рядка статусу користувача, у форматі рядка "<b>{Id}:{Label}:{ToolTip}:{Color}:{Img}</b>", де:
</p>
<ul><li> "Id" — ідентифікатор, використовується також для формування повідомлень від віджету "stIt_{Id}".</li>
<li> "Label" — візуальна мітка елементу статусу.</li>
<li> "ToolTip" — спливаюча підказка стосовно елементу.</li>
<li> "Color" — колір мітки.</li>
<li> "Img" — зображення елементу статусу, замість мітки.</li></ul>
</td></tr>
<tr>
<td> runWin (головна сторінка) </td>
<td> Вікно виконання </td>
<td>
<p>Встановлення режиму виконання головного вікна:
</p>
<ul><li> "Оригінальний розмір (0)".</li>
<li> "Максимізувати (1)".</li>
<li> "На весь екран (2)". </li></ul>
</td></tr>
<tr>
<td> keepAspectRatio (головна сторінка) </td>
<td> Зберігати пропорцію при масштабуванні </td>
<td> Зберігати пропорцію сторінок при масштабуванні.
</td></tr>
<tr>
<td> stBarNoShow (головна сторінка) </td>
<td> Не показувати рядок статусу </td>
<td> Приховати рядок статусу головного вікна.
</td></tr>
<tr>
<td> winPosCntrSave (головна сторінка) </td>
<td> Управління та збереження положення вікон </td>
<td> Ввімкнення управління та збереження положення вікон виконання.
</td></tr>
<tr>
<td> userSetVis (головна сторінка, створюється вручну, строковий тип) </td>
<td> Встановлення користувача </td>
<td>
<p>Зміна користувача або виклик діалогу для його обрання. Варіанти значення:
</p>
<ul><li> "*" — виклик діалогу обрання користувача;</li>
<li> "$" — зміна користувача на типового;</li>
<li> "{користувач}" — пряма зміна на <i>користувач</i>, якщо він доступний та його права менше або дорівнюють.</li></ul>
</td></tr>
<tr>
<td> vs_background (види "Line edit", "Text edit", "Combo box", "List", "Tree", "Table" примітиву "FormEl") </td>
<td> Користувацький фон </td>
<td> Визначає користувацький фон у формі <b>{color}-{transp} {image}</b>
</td></tr>
<tr>
<td> vs_border (види "Line edit", "Text edit", "Combo box", "List", "Tree", "Table" примітиву "FormEl") </td>
<td> Користувацька границя </td>
<td> Визначає користувацьку границю у стандартній формі CSS <b>{wdth}px {style} {color}</b>
</td></tr>
<tr>
<td> vs_winTitle (вид "Box") </td>
<td> Заголовок вікна </td>
<td> Значення динамічного заголовку вікна
</td></tr></table>
<p>Розглянемо реалізацію кожного примітиву більш детально.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.80.D0.BD.D0.BE.D1.97_.D1.84.D1.96.D0.B3.D1.83.D1.80.D0.B8_.28ElFigure.29"><span class="mw-headline-number">4.1</span> Примітив елементарної фігури (ElFigure)</span></h3>
<p>Реалізовано підтримку елементарних фігур: лінія, еліптична дуга, крива Без'є та заливка замкнених контурів кольором та зображенням. Для елементарних фігур реалізовано наступні операції:
</p>
<ul><li> створення/видалення фігур;</li>
<li> копіювання фігур;</li>
<li> переміщення та зміна розмірів фігур за допомогою маніпулятору миші та клавіатури;</li>
<li> можливість зв'язування елементарних фігур одна з одною, отримуючи більш складні, для яких доступні всі властивості вихідних елементарних фігур;</li>
<li> можливість одночасного переміщення декількох фігур;</li>
<li> заливка замкненого контуру кольором та зображенням;</li>
<li> генерація повідомлень клавіш миші під час кліку на залиті контури;</li>
<li> масштабування;</li>
<li> трансформація: поворот та віддзеркалення.</li></ul>
<p>На рисунку представлена частина екрану з кадром, що містить елементарні фігури.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_elfig_new.png"><img alt="Vision elfig new.png" height="298" src="../../en/files/Vision_elfig_new.png" width="299" /></a></div></div>
<p>Фігури, що лежать у основі даного віджету, містять точки(початкова та кінцева), які можуть стикуватися з відповідними точками інших фігур, та точки, за допомогою яких змінюється геометрія фігури.
</p><p>Додати фігуру можна з допомогою маніпулятору миші:
</p>
<ol><li> Обрати бажану фігуру з контекстного меню. </li>
<li> Задати, за допомогою лівої кнопки миші, початкову та кінцеву точки (для лінії, при утримані клавіші SHIFT відбувається ортогональне її відображення).</li></ol>
<p>Видалити фігуру(и) можна шляхом натискання кнопки "Del", маючи виділену(і) фігуру(и).
</p><p>Скопіювати фігуру(и) можна шляхом натиску комбінації клавіш "Ctrl"+"C", маючи виділену(і) фігуру(и).
</p><p>Пересунути/змінити габарити фігури можна за допомогою маніпулятору миші або клавіатури:
</p>
<ol><li> Виділити фігуру, клацнув по ні лівою кнопкою миші.</li>
<li> Перетягти (за допомогою миші або керуючих клавіш) фігуру або одну з її контрольних точок у бажане місце та відпустити кнопку миші(клавішу).</li></ol>
<p>Передбачено можливість переміщення декількох виділених фігур, обраних за допомогою утримання "Ctrl" (працює при відімкненій кнопці "Прив'язки") або мишею.
</p><p>Зв'язати фігури одна з одною можна наступним чином:
</p>
<ol><li> Натиснути кнопку "Прив'язки".</li>
<li> Виділити одну з фігур та перемістити її початкову або кінцеву точку до бажаної початкової або кінцевої точки другої фігури так, щоб вона попадала у коло, що виникло. Зв'язані фігури переміщаються так само як і окремі — загальна точка переміщається для всіх фігур, яких вона стосується, де пріоритет віддається дузі та дві дуги не може бути з'єднано безпосередньо одна з одною.</li></ol>
<p>Залити замкнений контур з фігур можна наступним чином:
</p>
<ol><li> Натиснути кнопку "Прив'язки".</li>
<li> Створити замкнений контур.</li>
<li> Два рази клацнути мишею всередині нього.</li></ol>
<p>Видалити заливку замкненого контуру можна:
</p>
<ul><li> з контекстного меню, клацнув правою кнопкою маніпулятору миші по заливці;</li>
<li> розірвавши контур заливки;</li>
<li> подвійним кліком маніпулятору миші по вже залитому контуру.</li></ul>
<p>Оберт фігури здійснюється довкола центру віджета.
</p><p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D1.82.D0.B5.D0.BA.D1.81.D1.82.D1.83_.28Text.29"><span class="mw-headline-number">4.2</span> Примітив тексту (Text)</span></h3>
<p>Реалізовано підтримку елементу тексту зі властивостями:
</p>
<ul><li> Шрифт зі властивостями: типу-класу, розміру, підсилення, нахилу, підкреслення та перекреслення. </li>
<li> Колір тексту.</li>
<li> Орієнтація тексту. </li>
<li> Автоматичний перенос за словами. </li>
<li> Вирівнювання тексту по горизонталі та вертикалі, з усіма варіантами.</li>
<li> Відображення фону у вигляді кольору та зображення.</li>
<li> Відображення бордюру довкола тексту з вказаним кольором, шириною та стилем.</li>
<li> Відображення HTML.</li>
<li> Доповнення тексту аргументами різного типу та властивостей.</li></ul>
<p>На рисунку представлено частину екрана з кадром, що містить приклади тексту з використанням різних параметрів.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_txt_uk.png"><img alt="Vision run txt uk.png" height="112" src="../files/Vision_run_txt_uk.png" width="161" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D1.83_.D1.84.D0.BE.D1.80.D0.BC.D0.B8_.28FormEl.29"><span class="mw-headline-number">4.3</span> Примітив елементу форми (FormEl)</span></h3>
<p>Реалізовано підтримку елементів форми на кадрах СВУ із закладеними властивостями, включаючи наступні типи:
</p>
<ul><li> <i>Редактор рядку</i> — Представлено наступними видами: "Текст", "Combo", "Ціле", "Реальне", "Час", "Дата", "Час та Дата". Всі види редактору рядка підтримують підтвердження вводу.</li>
<li> <i>Редактор тексту</i> — Надає редактор плаского тексту з підтвердженням або відмовою від вводу.</li>
<li> <i>Поле ознаки</i> — Надає поле бінарної ознаки.</li>
<li> <i>Кнопка</i> — Надає кнопку з підтримкою кольору кнопки, зображення у кнопці та режимів:
<ul><li> стандартний;</li>
<li> перемикальний;</li>
<li> виклик меню;</li>
<li> виклик завантаження файлу;</li>
<li> виклик збереження файлу.</li></ul></li>
<li> <i>Вибір з переліку</i> — Надає поле вибору елементу з переліку вказаних елементів.</li>
<li> <i>Перелік</i> — Надає поле переліку з контролем за поточним елементом.</li>
<li> <i>Дерево</i> — Надає елемент дерева з можливістю обрання елементів.</li>
<li> <i>Таблиця</i> — Надає елемент таблиці з можливістю вибору клітинок, рядків або стовпчиків, а також редагування вмісту клітинки.</li>
<li> <i>Слайдер</i> — Елемент слайдеру.</li>
<li> <i>Прогрес-бар</i> — Стрічка прогрес-бару.</li>
<li> <i>Пароль</i> — Приховане введення паролю.</li></ul>
<p>Реалізовано режими "Ввімкнено" та "Активний", а також передача змін та повідомлень у модель даних СВУ — рушій. Режим "Активний" призводить до встановлення курсору активності для непорожнього фону та додаткових умов різних видів "Text", "Media" та "Box":
</p>
<ul><li> <i>Text</i> — не порожній текст;</li>
<li> <i>Media</i> — не порожнє джерело зображення.</li></ul>
<p>На рисунку представлено частину екрану з кадром, що містить вищеперелічені елементи форми.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_formel_uk.png"><img alt="Vision run formel uk.png" height="256" src="../files/Vision_run_formel_uk.png" width="448" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.B2.D1.96.D0.B4.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.BD.D1.8F_.D0.BC.D0.B5.D0.B4.D1.96.D0.B0-.D0.BC.D0.B0.D1.82.D0.B5.D1.80.D1.96.D0.B0.D0.BB.D1.96.D0.B2_.28Media.29"><span class="mw-headline-number">4.4</span> Примітив відображення медіа-матеріалів (Media)</span></h3>
<p>Реалізовано підтримку елементу відображення медіа-матеріалів з властивостями:
</p>
<ul><li> Вказання джерела медіа даних: зображення або відео-матеріалу.</li>
<li> Перегляд зображень більшості відомих форматів з можливістю їх вписування у розмір віджету.</li>
<li> Програвання простих анімованих форматів зображень та відео з можливістю управління швидкістю програвання.</li>
<li> Програвання повноформатного відео та аудіо, за посередництвом <a class="extiw" href="https://en.wikipedia.org/wiki/Phonon" title="wikipedia:Phonon">Phonon</a>.</li>
<li> Відображення фону у вигляді кольору та зображення.</li>
<li> Відображення бордюру по периметру віджету, з вказаним кольором, шириною та стилем.</li>
<li> Формування активних областей та генерація повідомлень при їх активації.</li></ul>
<p>На рисунку представлено частину екрану з кадром, що містить приклади перегляду/програвання медіа-даних.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_media.png"><img alt="Vision run media.png" height="205" src="../../en/files/Vision_run_media.png" width="232" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.BF.D0.BE.D0.B1.D1.83.D0.B4.D0.BE.D0.B2.D0.B8_.D0.B4.D1.96.D0.B0.D0.B3.D1.80.D0.B0.D0.BC_.28Diagram.29"><span class="mw-headline-number">4.5</span> Примітив побудови діаграм (Diagram)</span></h3>
<p>Реалізовано підтримку елементу побудови діаграм для типів "Графік", "Спектр" та "XY", з властивостями:
</p>
<ul><li> Загальні властивості типів діаграми "Графік", "Спектр" та "XY":
<ul><li> можливість вибору архіватору, буферу архіву або всіх даних, при роботі з архівними даними;</li>
<li> адаптація графіку параметра до реальних значень даних шляхом підлаштування шкалы, у випадку відсутності прямо вказаного діапазону значень;</li>
<li> управління масштабом шкали значень шляхом збільшення, зменшення та зсуву;</li>
<li> широкий діапазон масштабування та адаптації шкали часу з автоматичним приведенням запитаних даних до якості достатньої до відображення, або потрібної для експорту — вказанням граничної кількості вимірів у пікселі;</li>
<li> відображення розмірної ґратки та маркерів по горизонталі та вертикалі з адаптацією до діапазону відображення;</li>
<li> слідкуючий режим за поточним часом шляхом періодичного оновлення та зміщення часу діаграми до поточного часу —  часу останніх даних у буфері архіву;</li>
<li> горизонтальний слайдинг/ковзання за допомогою миші;</li>
<li> масштабування ділянки обрамленої вікном, мишею.</li></ul></li>
<li> Властивості типу діаграми "Графік":
<ul><li> побудова графіків до 100 параметрів на одній діаграмі у процентній шкалі та можливістю відображення обраних параметрів у власній шкалі;</li>
<li> побудова графіку для: поточних, архівних та користувацьких даних;</li>
<li> формування проміжного буферу відображення для поточних значень;</li>
<li> підтримка активного режиму з курсором та отриманням значень під курсором;</li>
<li> можливість побудови графіків як у лінійній, так і логарифмічній шкалі значень.</li></ul></li>
<li> Властивості типу діаграми "Спектр":
<ul><li> побудова графіків частотного спектру параметрів до 100 на одній діаграмі у процентній шкалі та можливістю відображення обраних параметрів у власній шкалі;</li>
<li> побудова графіку для: архівних та користувацьких даних;</li>
<li> підтримка активного режиму з курсором та отриманням значень під курсором.</li></ul></li>
<li> Властивості типу діаграми "XY":
<ul><li> побудова XY графіків параметрів до 50 на одній діаграмі у процентній шкалі та можливістю відображення обраних параметрів у власній шкалі;</li>
<li> побудова графіку для: поточних, архівних та користувацьких даних;</li>
<li> формування проміжного буферу відображення для поточних значень;</li>
<li> параметри розподіляються парами на графік, де парні за осі Y (0,2,4...) та непарні за осі X (1,3,5...);</li>
<li> можливість побудови графіків як у лінійній, так і логарифмічній шкалі значень.</li></ul></li></ul>
<p>Модулем візуалізатору надається та використовується низка специфічних атрибутів даного примітиву, інформацію про який наведено у таблиці.
</p>
<table class="wikitable">

<tr>
<th> Ідентифікатор </th>
<th> Ім'я </th>
<th> Призначення
</th></tr>
<tr>
<td> sclWin </td>
<td> Масштабування ділянки обрамленої вікном, мишею </td>
<td> Логічний тип атрибуту, створюваний користувачем вручну, за потреби. Для значення "істина" вмикається режим масштабування ділянки тренду обрамленої вікном за допомогою миші.
</td></tr></table>
<p>На рисунку представлено частину екрану з кадром, що містить приклади діаграм: "Графік", "Спектр" та "XY".
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_diag.png"><img alt="Vision run diag.png" height="447" src="../../en/files/Vision_run_diag.png" width="347" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D1.84.D0.BE.D1.80.D0.BC.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.83_.28Protocol.29"><span class="mw-headline-number">4.6</span> Примітив формування протоколу (Protocol)</span></h3>
<p>Реалізовано підтримку елементу формування протоколу з властивостями:
</p>
<ul><li> Формування протоколу з архіву повідомлень на вказаний час та глибину.</li>
<li> Запит даних з вказаних архіваторів повідомлень.</li>
<li> Вибірка даних з архівів за рівнем важливості та шаблоном категорії повідомлень.</li>
<li> Підтримка режиму слідкування за появою повідомлень у архіві повідомлень.</li></ul>
<p>На рисунку представлено частину екрану з кадром, що містить приклад протоколу.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_prot_uk.png"><img alt="Vision prot uk.png" height="244" src="../files/Vision_prot_uk.png" width="741" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D1.84.D0.BE.D1.80.D0.BC.D1.83.D0.B2.D0.B0.D0.BD.D0.BD.D1.8F_.D0.B7.D0.B2.D1.96.D1.82.D0.BD.D0.BE.D1.97_.D0.B4.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D1.96.D1.97_.28Document.29"><span class="mw-headline-number">4.7</span> Примітив формування звітної документації (Document)</span></h3>
<p>Реалізовано підтримку елементу формування звітної документації з властивостями:
</p>
<ul><li> Гнучке формування структури документу на основі мови гіпертекстової розмітки, що надає підтримку широких можливостей форматування документів.</li>
<li> Формування документів за командою або розкладом, що необхідно для формування звітної документації до архіву, з подальшим переглядом архіву.</li>
<li> Формування документів у режимі реального часу, для надання їх повністю динамічно та на основі архівів за вказаний час.</li>
<li> Використання атрибутів віджету для передачі у документ значень та адрес на архіви, що дозволяє використовувати віджет документу як шаблон, при формуванні звітів з іншими вхідними даними.</li></ul>
<p>У основі будь-якого документу лежить XHTML-шаблон. XHTML-шаблон це тег "body" WEB-сторінки, що містить статику документу у стандарті XHTML 1.0 та елементи виконувальних інструкцій на мові користувацького програмування OpenSCADA, у вигляді <b>&lt;?dp {procedure}&nbsp;?&gt;</b>. Результуючий документ формується шляхом виконання процедур та вставки їх результату у документ.
</p><p>Джерелом значень виконуваних інструкцій є атрибути віджету цього примітиву, а також всі механізми мови користувацького програмування OpenSCADA. Атрибути можуть додаватися користувачем та лінкуватися на реальні атрибути параметрів або-ж бути автономними, значення яких будуть формуватися у процедурі віджету. У випадку зі злінкованими атрибутами, значення можуть вийматися з архіву-історії.
</p><p>На рисунку представлено кадр, що містить приклад документу.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_doc_uk.png"><img alt="Vision doc uk.png" height="580" src="../files/Vision_doc_uk.png" width="900" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D1.96.D1.82.D0.B8.D0.B2_.D0.BA.D0.BE.D0.BD.D1.82.D0.B5.D0.B9.D0.BD.D0.B5.D1.80.D1.83_.28Box.29"><span class="mw-headline-number">4.8</span> Примітив контейнеру (Box)</span></h3>
<p>Реалізовано підтримку примітиву контейнеру, що, за сумісництвом, виконує роль сторінок проектів. Даний примітив є єдиним елементом-контейнером, який може включати у себе посилання на кадри з бібліотеки, формуючи тим самим користувацькі елементи потрібної конфігурації. Примітив реалізує передбачені проектом властивості. Перелічимо, по пунктах, властивості даного примітиву:
</p>
<ul><li> <i>Контейнер</i> — Дозволяє формувати потрібні об'єкти шляхом групування базових у межах даного примітиву.</li>
<li> <i>Сторінка</i> — Елементи, побудовані на даному примітиві, можуть виконувати роль сторінки користувацького інтерфейсу.</li>
<li> <i>Контейнер сторінок</i> — Властивість заміщення, у процесі виконання, власного вмісту іншою сторінкою. Використовується для формування фреймів на сторінках користувацького інтерфейсу. Наприклад, головна сторінка типової SCADA-системи з об'єктами сигналізації будується саме таким чином.</li>
<li> <i>Фон</i> — Підтримує можливість указання фону у вигляді кольору та зображення.</li>
<li> <i>Бордюр</i> — Підтримує можливість зображення бордюру з вказаним кольором, товщиною та стилем.</li></ul>
<p><br />
Приклад редагування кадру, заснованого на даному примітиві, наведено на рисунку 2.a, а на рисунку 3 зображено сторінку, що містить контейнер сторінок, побудований на основі даного примітиву.
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B5.D0.BA.D1.82.D0.BE.D1.80.D0.BD.D0.B8.D0.B9_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.B8.D0.B9_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80"><span class="mw-headline-number">5</span> <span id="ElFigure" title="#ElFigure">Векторний графічний редактор</span></span></h2>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.BD.D1.8F_2"><span class="mw-headline-number">5.1</span> Призначення</span></h3>
<p>Наявність власного векторного графічного редактору є невід'ємною складовою поважаючої себе SCADA системи. Досвід показує, що найбільш інформативною формою представлення технологічних процесів є мнемосхеми — сукупність сигнальних пристроїв, зображень обладнання та внутрішніх зв'язків контрольованого об'єкту, виконувані на персональному комп'ютері. Для їх створення можна використати будь-який з існуючих графічних редакторів. Однак, отримані таким чином мнемосхеми є статичними та не відображають динаміки зміни характеристик процесу, а відтак, вони неадекватні та незручні для сприйняття. Таким чином, однією з задач, що стоять перед розробником SCADA систем, є створення графічного редактору для зображення об'єктів, характеристики яких можуть бути динамічно змінені.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BD.D1.86.D0.B8.D0.BF.D0.B8_.D1.82.D0.B0_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D1.96.D1.97_.D1.80.D0.BE.D0.B7.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80.D1.83"><span class="mw-headline-number">5.2</span> Принципи та функції розробленого графічного редактору</span></h3>
<p>Основою редактору, що описується, є три графічні примітиви: лінія, дуга та крива Без'є. До динамічно змінюваних характеристик цих примітивів відносяться:
</p>
<ul><li> Координати контрольних точок, які використовуються для задання форми лінії, дуги або кривої Без'є. При цьому, лінія має — 2 контрольні точки, дуга — 5, крива Без'є — 4 (рис.5.2.a).</li>
<li> Ширина лінії.</li>
<li> Ширина бордюру (границі).</li>
<li> Колір бордюру (границі).</li>
<li> Стиль лінії (суцільна, пунктирна, точкова).</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigCntrPoints.png"><img class="thumbimage" height="150" src="../../en/files/Vision_ElFigCntrPoints.png" width="400" /></a>  <div class="thumbcaption">Рис.5.2.a. Контрольні точки лінії, дуги та кривої Без'є.</div></div></div></div>
<p>Приклади примітивів, різного кольору, товщини, стилів, з бордюрами та без них, наведено на рисунку 5.2.b.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigExamples.png"><img class="thumbimage" height="150" src="../../en/files/Vision_ElFigExamples.png" width="400" /></a>  <div class="thumbcaption">Рис.5.2.b. Приклади примітивів, зліва направо: лінія, дуга та крива Без'є.</div></div></div></div>
<p>Передбачено можливість зв'язку різних графічних примітивів, для створення складних графічних об'єктів. Якщо пов'язані примітиви утворюють замкнений контур, то він може бути залитий кольором та зображенням (рис.5.2.c).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigFills.png"><img class="thumbimage" height="150" src="../../en/files/Vision_ElFigFills.png" width="250" /></a>  <div class="thumbcaption">Рис.5.2.c. Заливки замкненого контуру кольором та зображенням.</div></div></div></div>
<p>Графічний редактор дозволяє масштабувати та повертати фігури (рис.5.2.d) — примітиви та складні графічні об'єкти.
</p><p>До можливостей редактору також відносяться: виділення, переміщення, копіювання та видалення фігур.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigScaleRotate.png"><img class="thumbimage" height="150" src="../../en/files/Vision_ElFigScaleRotate.png" width="300" /></a>  <div class="thumbcaption">Рис.5.2.d. Масштабування та обертання фігур.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D1.96_.D0.BF.D1.80.D0.B8.D0.BD.D1.86.D0.B8.D0.BF.D0.B8_.D1.80.D0.BE.D0.B1.D0.BE.D1.82.D0.B8_.D1.83_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.BC.D1.83_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80.D1.96"><span class="mw-headline-number">5.3</span> Основні принципи роботи у графічному редакторі</span></h3>
<p>Для того щоб приступити до роботи з графічним редактором, після запуску проекту OpenSCADA, необхідно викликати "Робочий користувацький інтерфейс (Qt)". У вкладці "Віджети" міститься перелік існуючих графічних бібліотек та елементів, що їм належать.
</p><p>Припустимо, що нам необхідно додати графічний елемент до однієї з чинних бібліотек. Для цього виділимо ім'я бібліотеки та натиснемо кнопку (<a class="image" href="http://oscada.org/wiki/File:Vision_ElFigCreate.png"><img alt="Vision ElFigCreate.png" height="36" src="../../en/files/Vision_ElFigCreate.png" width="32" /></a>) на панелі інструментів. У вікні, що з'явилося, введемо ідентифікатор та ім'я нового графічного елементу. Після чого перейдемо до цього елементу та натиснемо кнопку (<a class="image" href="http://oscada.org/wiki/File:Vision_ElFigEdit.png"><img alt="Vision ElFigEdit.png" height="23" src="../../en/files/Vision_ElFigEdit.png" width="25" /></a>). Праворуч з'явиться поле для рисування. За допомогою подвійного кліку мишею по цьому полю, або за допомогою контекстного меню, ввійдемо у режим редагування — режим графіченого редактору, що дозволяє здійснювати всі передбачені маніпуляції з фігурами. В той момент, коли створений нами графічний елемент знаходиться у фокусі, вкладка "Атрибути" набуде вигляду, що представлений на рисунку 5.3.a.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:368px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigAttrs_uk.png"><img class="thumbimage" height="469" src="../files/Vision_ElFigAttrs_uk.png" width="366" /></a>  <div class="thumbcaption">Рис.5.3.a. Атрибути елементарної фігури.</div></div></div></div>
<p>За допомогою миші, або поля "Геометрія" вкладки "Атрибути", задамо розміри поля для рисування та масштабні коефіцієнти.
</p><p>Скориставшись полем "Лінія" вкладки "Атрибути", задамо ширину, колір, стиль ліній, якими будемо рисувати. За допомогою поля "Границя", задамо ширину та колір бордюру. Поле "Заповнення" дозволяє задати колір та зображення заливки. "Перелік елементів" містить перелік примітивів, що використовуються при створені графічного об'єкту. Елементи всіх полів вкладки "Атрибути" можуть динамічно змінюватися у процедурах користувача.
</p><p>Графічні примітиви може бути зображено за допомогою миші або зображено за допомогою переліку графічних примітивів ("Перелік елементів"). У першому випадку, координати контрольних точок створюваного примітиву обчислюються автоматично, а ширина, колір, стиль лінії, ширина та колір бордюру встановлюються по замовченню, з вкладки "Атрибути". У другому випадку, примітив необхідно описати у "Перелік елементів" наступним чином:
</p>
<dl><dd><i>line:(x1|y1):(x2|y2):width:color:border_width:border_color:style</i> <b>(1)</b></dd>
<dd><i>arc:(x1|y1):(x2|y2):(x3|y3):(x4|y4):(x5|y5):width:color:border_width:border_color:style</i> <b>(2)</b> </dd>
<dd><i>bezier:(x1|y1):(x2|y2):(x3|y3):(x4|y4):width:color:border_width:border_color:style,</i> <b>(3)</b></dd></dl>
<p>Де:
</p>
<dl><dd><i>(x1|y1)</i> — координати першої контрольної точки примітиву;</dd>
<dd><i>(x2|y2)</i> — координати другої контрольної точки примітиву;</dd>
<dd><i>(x3|y3)</i> — координати третьої контрольної точки примітиву;</dd>
<dd><i>(x4|y4)</i> — координати четвертої контрольної точки примітиву;</dd>
<dd><i>(x5|y5)</i> — координати п'ятої контрольної точки примітиву;</dd>
<dd><i>width</i> — ширина лінії, якою буде намальовано примітив;</dd>
<dd><i>color</i> — колір лінії, якою буде намальовано примітив;</dd>
<dd><i>border_width</i> — ширина бордюру;</dd>
<dd><i>border_color</i> — колір бордюру;</dd>
<dd><i>style</i> — стиль лінії ("0" — суцільна, "1" — пунктир, "2" — точкова).</dd></dl>
<p>При цьому, пріоритетними є значення ширини, кольору, стилю лінії, ширини та кольору бордюру, задані у переліку елементів. Якщо необхідно використати які-небудь характеристики, встановлювані полями "Лінія" або "Границя" вкладки "Атрибути", то, при описі примітиву, їх потрібно опустити. Наприклад, ми хочемо створити лінію з: шириною 3, червоного кольору, суцільну та без бордюру. При цьому, у полі "Лінія" задано: ширина лінії 3, чорний колір та суцільний стиль; у полі "Границя" задано: ширина бордюру 5, зелений колір. Тоді опис примітиву у переліку елементів має виглядати наступним чином:
</p>
<dl><dd><i>line:(x1|y1):(x2|y2)::red:0::</i> <b>(4)</b></dd></dl>
<p>Форми запису (1) - (4) задають статичні характеристики примітивів, які не може бути змінено програмно. Для задання динамічних характеристик необхідно використати форму запису:
</p>
<dl><dd><i>line:1:2:w1:c1:w2:c2:s1</i> <b>(5)</b></dd></dl>
<p>Тоді, у вікні "Атрибути", додадуться поля: Точка 1 (<i>1</i>), Точка 2 (<i>2</i>), Ширина 1 (<i>w1</i>), Ширина 2 (<i>w2</i>), Колір 1 (<i>c1</i>), Колір 2 (<i>c2</i>), Стиль 1 (<i>s1</i>) (рис.5.3.b). Значення цих полів можна міняти програмно, за допомогою мови користувацького програмування OpenSCADA. Очевидно, що при бажані, динамічними може бути оголошено не всі властивості примітиву, а одна або декілька, крім того, одна динамічна властивість може бути використана багаторазово.
</p><p>Редагування координат контрольних точок здійснюється за допомогою миші або шляхом їх зміни у переліку елементів, для статичних точок; або прямо у вкладці "Атрибути", маючи у наявності динамічні точки ("Точка 1", ...). Редагування інших характеристик здійснюється за допомогою зміни вмісту полів "Лінія", "Границя", "Заповнення" на вкладці "Атрибути" або у переліку элементів.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:369px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDynAttrs_uk.png"><img class="thumbimage" height="430" src="../files/Vision_ElFigDynAttrs_uk.png" width="367" /></a>  <div class="thumbcaption">Рис.5.3.b. Динамічні атрибути елементарної фігури.</div></div></div></div>
<p>Передбачено можливості:
</p>
<ul><li> виділення:
<ul><li> кліком лівої кнопки миші по фігурі;</li>
<li> спільного виділення примітивів — лівою кнопкою миші + натиснута клавіша "Ctrl", при вимкненій кнопці "Прив'язки";</li>
<li> спільного виділення рамкою, що малюється за допомогою натиснутої лівої кнопки миші.</li></ul></li>
<li> переміщення, клавіатурою/мишею;</li>
<li> копіювання та вставки — "Ctrl"+"C", "Ctrl"+"V" або з контекстного меню;</li>
<li> видалення — "Del".</li></ul>
<p>Для зв'язування примітивів один з одним необхідно:
</p>
<ol><li> Натиснути кнопку "Прив'язки".</li>
<li> Виділити одну з фігур та перемістити її початкову або кінцеву точку до бажаної початкової або кінцевої точки другої фігури так, щоб вона попадала у коло, що виникло.</li></ol>
<p>Для заливки замкненого контуру необхідно два рази клікнути мишею усередині нього або наступним чином задати заливку у переліку елементів:
</p>
<dl><dd><i>fill:(x1:y1):(x2:y2):...:(xn:yn):color:image</i> — статика;</dd>
<dd><i>fill:1:2:3:...:c1:i1</i> — динаміка.</dd></dl>
<p>Де:
</p>
<dl><dd><i>(x1:y1):(x2:y2):...:(xn:yn)</i> — координати початкових та кінцевих точок примітивів, що утворюють замкнений контур;</dd>
<dd><i>color</i> — колір заливки;</dd>
<dd><i>image</i> — зображення заливки.</dd></dl>
<p>При цьому, пріоритетними є значення кольору та зображення заливки, задані у переліку елементів. Якщо необхідно використовувати характеристики, встановлювані полем "Заповнення" вкладки "Атрибути", то, при описі примітиву, їх треба опустити.
</p><p>Для масштабування фігур необхідно, у полі "Геометрія", задати значення масштабу за осями "X" та "Y". Крім того, існує можливість візуально збільшити/зменшити зображення не міняючи масштаб. Для цього, необхідно вийти з режиму редагування, клацнути правою кнопкою миші по полю віджета, у контекстному меню, що з'явилося, обрати пункт "Збільшити (+10%)"/"Зменшити (-10%)" або покрутити колесо миші, утримуючи при цьому натиснутою клавішу "Ctrl". Вихід з режиму редагування здійснюється за допомогою натиску клавіші "Esc" або за допомогою контекстного меню віджету.
</p><p>Існує можливість повертати вміст віджету, для чого треба, у вікні "Атрибути", задати "Кут повороту" від -360 до 360.
</p><p>Графічний редактор підтримує прозорість кольору, що задається наступним чином: <b>{color}-{t}</b>, де <i>color</i> — колір, а <i>t</i> — прозорість від 0 (повністю прозорий) до 255 (непрозорий).
</p>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.82.D0.B5.D0.BA.D1.81.D1.82.D0.BD.D0.B5_.D0.BC.D0.B5.D0.BD.D1.8E_.D0.B3.D1.80.D0.B0.D1.84.D1.96.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.BE.D1.80.D1.83"><span class="mw-headline-number">5.4</span> Контекстне меню графічного редактору</span></h3>
<p>Передбачено контекстне меню, що викликається кліком правої кнопки миші у області редагованого віджету. Залежно від того, який об'єкт знаходиться під вказівником миші, контекстне меню може приймати дещо різний вид. Нижче, на рисунку 5.4, наведено приклади контекстного меню.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:792px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigPopup_uk.png"><img class="thumbimage" height="393" src="../files/Vision_ElFigPopup_uk.png" width="790" /></a>  <div class="thumbcaption">Рис.5.4. Контекстне меню для ліній (лінія, дуга, крива Без'є) та для заливки, зліва направо.</div></div></div></div>
<p>Контекстне меню включає наступні секції (зверху донизу):
</p>
<ul><li> рисування:
<ul><li> вибір фігури для рисування;</li>
<li> вибір режиму "Прив'язки";</li>
<li> повернення у режим вибору — "Курсор".</li></ul></li>
<li> відміна/повтор змін;</li>
<li> копіювання та вставка обраних фігур, у межах одного віджету;</li>
<li> підняття та опускання обраних фігур по осі "Z";</li>
<li> управління атрибутами примітивів: зробити статичними або динамічними;</li>
<li> виклик діалогу властивостей елементарної фігури;</li>
<li> вихід з режиму редагування.</li></ul>
<h3><span class="mw-headline" id=".D0.94.D1.96.D0.B0.D0.BB.D0.BE.D0.B3_.D0.B2.D0.BB.D0.B0.D1.81.D1.82.D0.B8.D0.B2.D0.BE.D1.81.D1.82.D0.B5.D0.B9_.D0.B5.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.80.D0.BD.D0.BE.D1.97_.D1.84.D1.96.D0.B3.D1.83.D1.80.D0.B8"><span class="mw-headline-number">5.5</span> Діалог властивостей елементарної фігури</span></h3>
<p>Діалог, варіанти якого представлено на рисунках 5.5.a, 5.5.b, 5.5.c, реалізований для інтерактивного та зручного управління властивостями фігур(и).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:824px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDlgLine_uk.png"><img class="thumbimage" height="338" src="../files/Vision_ElFigDlgLine_uk.png" width="822" /></a>  <div class="thumbcaption">Рис.5.5.a. Діалог властивостей елементарної фігури для однієї лінії (лінія, дуга або крива Без'є).</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:947px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDlgLines_uk.png"><img class="thumbimage" height="328" src="../files/Vision_ElFigDlgLines_uk.png" width="945" /></a>  <div class="thumbcaption">Рис.5.5.b. Діалог властивостей елементарної фігури для групи обраних ліній.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:496px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDlgFill_uk.png"><img class="thumbimage" height="190" src="../files/Vision_ElFigDlgFill_uk.png" width="494" /></a>  <div class="thumbcaption">Рис.5.5.c. Діалог властивостей елементарної фігури для заливки.</div></div></div></div>
<p>Як видно з рисунків вище, діалог може мати три різних форми, залежно від об'єкту для якого викликається. У заголовку діалогу перелічено номера фігур, для яких він викликаний. Ці номери відповідають позиції фігури у переліку елементів, починаючи згори.
</p><p>Якщо діалог викликано для одиночної фігури (лінія, дуга або крива Без'є), то у ньому існує можливість редагувати координати точок фігури (рис.5.5.a). Якщо точка з'єднана з точкою іншої фігури або фігур, та включено режим "Прив'язки", то введені координати будуть застосовано до всіх фігур, для яких ця точка загальна, а заливки, у яких приймає участь фігура, будуть відповідно перемальовані.
</p><p>Якщо-ж діалог викликано для групи обраних фігур (рис.5.5.b), то властивості (атрибути), вказані у діалозі, будуть застосовані до всіх фігур, перелічених у заголовку діалогу. При виклику діалогу, у полях властивостей будуть відображатися дані тієї фігури з групи обраних, відносно якої було викликано контекстне меню. Існує можливість включати/виключати окремі властивості діалогу. Для цього передбачено кнопку (<a class="image" href="http://oscada.org/wiki/File:Vision_disableButton.png"><img alt="Vision disableButton.png" height="28" src="../../en/files/Vision_disableButton.png" width="32" /></a>). У випадку виключення окремих властивостей вони не будуть оброблятися при підтвердженні діалогу (кнопка "Прийняти"). При підтверджені діалогу, всі вказані дані для ввімкнених властивостей будуть застосовані для всієї групи фігур.
</p><p>Діалог властивостей заливки (рис.5.5.c) дозволяє керувати властивостями окремої заливки.
</p><p>При виборі ознаки праворуч від властивості вона (властивість), після підтвердження діалогу, встановлюється у значення по замовченню, яке вказано у вкладці "Атрибути". Кнопки "Дін/Стат" роблять відповідні властивості динамічними або статичними.
</p>
<h2><span class="mw-headline" id=".D0.97.D0.B0.D0.B3.D0.B0.D0.BB.D1.8C.D0.BD.D0.B0_.D0.BA.D0.BE.D0.BD.D1.84.D1.96.D0.B3.D1.83.D1.80.D0.B0.D1.86.D1.96.D1.8F_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F"><span class="mw-headline-number">6</span> <span id="Cfg" title="#Cfg">Загальна конфігурація модуля</span></span></h2>
<p>Для налаштування власної поведінки у неочевидних ситуаціях, модулем надається можливість налаштування окремих параметрів за посередництвом інтерфейсу управління OpenSCADA (рис.6). Такими параметрами є:
</p>
<ul><li> Стан модуля: "Виконується", доступна кількість екранів у бібліотеці Qt та перелік відкритих основних вікон.</li>
<li> Ім'я віддаленої OpenSCADA станції з рушієм візуалізації СВУ та посилання на сторінку конфігурації переліку зовнішніх OpenSCADA станцій.</li>
<li> Початковий користувач — вказує, від ім'я якого користувача відкривати вікно модуля без запиту пароля, для локальної станції. Для віддаленої станції вказує на користувача, відмінного від типового, вказаного у конфігурації хосту.</li>
<li> Пароль користувача (віддалена станція) — пароль користувача, відмінного від типового, вказаного у конфігурації хосту.</li>
<li> Час відновлення підключення, у секундах — вказує на час повтору відновлення втраченого віддаленого підключення.</li>
<li> Час життя та максимальна кількість сторінок у кеші. Візуалізатор здійснює прискорення роботи користувацького інтерфейсу шляхом розташування раніш відкритих сторінок у кеш, для контролю часу зберігання та максимальної кількості сторінок у якому дані властивості й призначено. Вказання нульового значення взагалі виключить очищення кешу.</li>
<li> Проекти, через символ роздільника ';', для запуску їх автоматичного виконання із запуском модуля. Для надання можливості вказання відкриття вікна виконання проекту на потрібному дисплеї, багато-дисплейних систем, передбачено формат запису ім'я проекту "PrjName-1", де 1 — номер цільового дисплею. Для підключення до фонового або іншого відкритого сеансу використати "<b>ses_{SesID}</b>".</li></ul>
<dl><dd><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../../en/files/At.png" width="22" /></a> Функція вибору дисплею можлива для невіртуального та не повторення робочого столу, тобто при використанні xinerma або NVidia у відповідному режимі. Технічно, функція Qt screen() має повертати різні віджети дисплею за їх номерами.</dd></dl>
<ul><li> Вихід при закритті останнього виконуваного проекту — корисно для рішень, що одразу запускаються на інтерфейсі виконання проекту.</li>
<li> Скидати стилі віджетів до загального — потрібне для деяких стилів віджетів на кшталт "gtk" у роботі деяких специфічних віджетів у режимі виконання, на кшталт кнопок для кольору фону та зображень.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1057px;"><a class="image" href="http://oscada.org/wiki/File:Vision_cfg_uk.png"><img class="thumbimage" height="567" src="../files/Vision_cfg_uk.png" width="1055" /></a>  <div class="thumbcaption">Рис.6. Сторінка конфігурації модуля.</div></div></div></div>






</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Modules/Vision/uk">Modules/Vision/uk</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">June 2020</td><td style="text-align: right;" width="40%">OpenSCADA 1+r2687</td></tr></table></body>
</html>