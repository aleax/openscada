<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Документы/Релиз 0.9 - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../en/files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="index.html"><img src="../en/files/index.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="ru">Документы/Релиз 0.9</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="ru"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a class="external text" href="http://oscada.org/wiki/index.php?title=Special:Translate&amp;group=page-Documents%2FRelease+0.9&amp;action=page&amp;filter=&amp;language=ru" rel="nofollow noreferrer noopener" target="_blank">translated version</a></span> of the page <a class="external" href="http://oscada.org/wiki/Documents/Release_0.9" title="Documents/Release 0.9">Documents/Release 0.9</a> and the translation is 100% complete.</div><hr /><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" href="../en/Release_0.9.html" title="Documents/Release 0.9 (100% translated)">English</a>&nbsp;• ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">mRussian</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../uk/Release_0.9.html" title="Документи/Реліз 0.9 (100% translated)">Українська</a></div></div>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.9E.D0.B1.D1.89.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">1.1</span> <span class="toctext">Общая информация</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1.2</span> <span class="toctext">Применение</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#.D0.A0.D0.B5.D0.B7.D1.83.D0.BB.D1.8C.D1.82.D0.B0.D1.82.D1.8B_.D0.BF.D1.80.D0.B5.D0.B4.D1.8B.D0.B4.D1.83.D1.89.D0.B5.D0.B3.D0.BE_.D1.80.D0.B5.D0.BB.D0.B8.D0.B7.D1.83_0.8.0_LTS"><span class="tocnumber">2</span> <span class="toctext">Результаты предыдущего релизу 0.8.0 LTS</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.9F.D0.BB.D0.B0.D0.BD.D0.BE.D0.B2.D1.8B.D0.B5_.D0.B7.D0.B0.D0.B4.D0.B0.D1.87.D0.B8_.D1.80.D0.B5.D0.BB.D0.B8.D0.B7.D0.B0"><span class="tocnumber">3</span> <span class="toctext">Плановые задачи релиза</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.9E.D0.B1.D1.89.D0.B5.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.81.D0.B2.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"><span class="tocnumber">4</span> <span class="toctext">Общесистемные свойства</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#.D0.92.D0.BD.D1.83.D1.82.D1.80.D0.B5.D0.BD.D0.BD.D0.B8.D0.B5"><span class="tocnumber">4.1</span> <span class="toctext">Внутренние</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.D0.A3.D1.81.D0.BE.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.D1.81.D1.82.D0.B2.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B8_.D0.B0.D0.B4.D0.B0.D0.BF.D1.82.D0.B0.D1.86.D0.B8.D1.8F_.D0.B4.D0.BB.D1.8F_.D1.80.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.BD.D1.8B.D1.85_.D0.BF.D0.BB.D0.B0.D1.82.D1.84.D0.BE.D1.80.D0.BC"><span class="tocnumber">4.2</span> <span class="toctext">Усовершенствования и адаптация для различных платформ</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.D0.9E.D0.BF.D1.82.D0.B8.D0.BC.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F.2C_.D1.81.D1.82.D0.B0.D0.B1.D0.B8.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.B8_.D0.BF.D1.80.D0.BE.D0.B4.D1.83.D0.BA.D1.82.D0.B8.D0.B2.D0.BD.D0.BE.D1.81.D1.82.D1.8C"><span class="tocnumber">4.3</span> <span class="toctext">Оптимизация, стабилизация и продуктивность</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"><span class="tocnumber">4.4</span> <span class="toctext">Сбор данных</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#.D0.93.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">4.5</span> <span class="toctext">Графическое окружение</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#.D0.9D.D0.BE.D0.B2.D1.8B.D0.B5_.D0.B8_.D0.B7.D0.BD.D0.B0.D1.87.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B8"><span class="tocnumber">5</span> <span class="toctext">Новые и значительно обновленные модули</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#.D0.92.D1.8B.D0.B2.D0.BE.D0.B4.D1.8B"><span class="tocnumber">6</span> <span class="toctext">Выводы</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#.D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">7</span> <span class="toctext">Обновления</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#.5B22.02.2022.5D_.D0.9F.D0.AF.D0.A2.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">7.1</span> <span class="toctext">[22.02.2022] ПЯТОЕ обновление</span></a>
<ul>
<li class="toclevel-3"><a href="#Service_updates"><span class="tocnumber">7.1.1</span> <span class="toctext">Service updates</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#.5B14.06.2021.5D_.D0.A7.D0.95.D0.A2.D0.92.D0.81.D0.A0.D0.A2.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">7.2</span> <span class="toctext">[14.06.2021] ЧЕТВЁРТОЕ обновление</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">7.2.1</span> <span class="toctext">Сервисные обновления</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#.5B20.12.2020.5D_.D0.A2.D0.A0.D0.95.D0.A2.D0.AC.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">7.3</span> <span class="toctext">[20.12.2020] ТРЕТЬЕ обновление</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_2"><span class="tocnumber">7.3.1</span> <span class="toctext">Сервисные обновления</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18"><a href="#.5B17.08.2020.5D_.D0.92.D0.A2.D0.9E.D0.A0.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">7.4</span> <span class="toctext">[17.08.2020] ВТОРОЕ обновление</span></a>
<ul>
<li class="toclevel-3"><a href="#.D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_3"><span class="tocnumber">7.4.1</span> <span class="toctext">Сервисные обновления</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#.5B08.04.2020.5D_.D0.9F.D0.95.D0.A0.D0.92.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">7.5</span> <span class="toctext">[08.04.2020] ПЕРВОЕ обновление</span></a>
<ul>
<li class="toclevel-3"><a href="#OpenSCADA_.D0.B1.D0.B8.D0.B1.D0.BB.D0.B8.D0.BE.D1.82.D0.B5.D0.BA.D0.B8_.D0.B8_.D0.BF.D1.80.D0.BE.D0.B5.D0.BA.D1.82.D1.8B"><span class="tocnumber">7.5.1</span> <span class="toctext"><span>OpenSCADA библиотеки и проекты</span></span></a></li>
<li class="toclevel-3"><a href="#API"><span class="tocnumber">7.5.2</span> <span class="toctext">API</span></a></li>
<li class="toclevel-3"><a href="#.D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0"><span class="tocnumber">7.5.3</span> <span class="toctext">Система</span></a></li>
<li class="toclevel-3"><a href="#.D0.91.D0.94"><span class="tocnumber">7.5.4</span> <span class="toctext">БД</span></a></li>
<li class="toclevel-3"><a href="#.D0.A1.D0.B1.D0.BE.D1.80_.D0.94.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"><span class="tocnumber">7.5.5</span> <span class="toctext">Сбор Данных</span></a></li>
<li class="toclevel-3"><a href="#.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B-.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F"><span class="tocnumber">7.5.6</span> <span class="toctext">Архивы-История</span></a></li>
<li class="toclevel-3"><a href="#.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B"><span class="tocnumber">7.5.7</span> <span class="toctext">Транспорты</span></a></li>
<li class="toclevel-3"><a href="#.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.9F.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B"><span class="tocnumber">7.5.8</span> <span class="toctext">Транспортные Протоколы</span></a></li>
<li class="toclevel-3"><a href="#.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"><span class="tocnumber">7.5.9</span> <span class="toctext">Интерфейс Пользователя</span></a></li>
<li class="toclevel-3"><a href="#.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5"><span class="tocnumber">7.5.10</span> <span class="toctext">Специальные</span></a></li>
<li class="toclevel-3"><a href="#.D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_4"><span class="tocnumber">7.5.11</span> <span class="toctext">Сервисные обновления</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#.D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="tocnumber">8</span> <span class="toctext">Ссылки</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">1</span> Введение</span></h2>
<p>Релиз OpenSCADA, открытой SCADA(Supervisory control and data acquisition) системы, версии 0.9 является стабильным промышленным релизом продолжительной поддержки (LTS).
</p><p>Основной целью релиза является предоставление обновленной и стабильной платформы построения решений комплексных систем автоматизации и других смежных решений для сообщества пользователей и разработчиков свободного программного обеспечения. Также, релиз предназначен стать актуальным и прочным фундаментом в построении коммерческих решений.
</p><p>Релиз является следующей версией стабильной ветви для которого, в течении продолжительного времени, предоставляется техническая поддержка от разработчиков и обеспечивается выпуск исправлений в виде публичных сборок для основных и стабильных окружений Linux, а также оперативных сборок для владельцев пакетов технической поддержки. Жизненный цикл предыдущего релизу 0.8.0 LTS прекращается его последним обновлением, непосредственно перед первыми сборками пакетов 0.9 LTS.
</p><p>Именно на этой версии осуществляется окончательный переход на схему разработки Work/LTS, т.е., разработка осуществляется в рамках рабочей версии и на её основе периодически выпускаются стабильные релизы, которые, в свою очередь и параллельно разработке, обновляются путём обратного портирования совместимых изменений из рабочей версии. Инициирующий переход произошёл в 2013 году, когда текущей стабильной версией определено 0.8.0&nbsp;LTS, а рабочей 0.9&nbsp;Work. На данный момент, стабильной версией становится анонсированная 0.9 LTS, а рабочей 1 Work.
</p><p>В целом, новая стабильная версия является результатом шести лет работы с разработки, внедрения в различные решения, стабилизации и эксплуатации OpenSCADA в её рабочей ветви, которая на данный момент выпускается текущей стабильной. Всё это время обновления для 0.8.0 LTS продолжали выпускаться и что будет осуществляться для анонсированной 0.9 LTS.
</p><p>Этот документ является обобщение протокола изменений (ChangeLog), начиная с нулевой ревизии предыдущей LTS версии, через её обновления и заканчивая текущей. Документ призван коротко и наглядно осветить новые возможности OpenSCADA. Детально ознакомиться с изменениями можно в файле "ChangeLog" дистрибутивных пакетов или из первоисточника: <a class="external free" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog" rel="nofollow noreferrer noopener" target="_blank">http://oscada.org/svn/tags/openscada_0.9/ChangeLog</a>.
</p>
<h3><span class="mw-headline" id=".D0.9E.D0.B1.D1.89.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"><span class="mw-headline-number">1.1</span> Общая информация</span></h3>
<p>Проект OpenSCADA основан Савоченко Романом в 2003 году как свободную реализация Системы Диспетчерского Контроля и Сбора Данных (SCADA) или Человеко Машинный Интерфейс (HMI), на основе её фундаментального проектирования в течении 2002 года и опыта использования и разработки коммерческой SCADA-системы до этого.
</p><p>SCADA или HMI системы в целом предназначены и используются для осуществления человеком оперативного контроля за работой сложного и ответственного технологического оборудования и процессов различных производственных предприятий.
</p><p>На время анонса 0.9 LTS, OpenSCADA является развитой SCADA/HMI системой, которая довольно широко используется как по прямому назначению, так, благодаря своей гибкости, и во многих смежных областях, и которая с уверенностью может называться более обобщённо — динамическая система работы с данными реального времени.
</p><p>Номер стабильной версии OpenSCADA меньше единицы только из-за того, что её целью была заявлена многоплатформенность, достичь которой в запланированном объёме планируется следующим стабильным релизом с номером 1. В целом, целями OpenSCADA являются:
</p>
<ul><li> <b>открытость</b> — в основном GPLv2;</li>
<li> <b>масштабируемость, гибкость, расширяемость</b> — модульность и внутренняя динамичность;</li>
<li> <b>исполняемая избыточность</b> — резервирование;</li>
<li> <b>доступность</b> — открытые исходные тексты; автоматическая сборка архивов, пакетов, живых дисков, ...; многоязычность; динамическая многоязычность; сборка и исполнение на Linux окружениях широкого возрастного диапазона, от 2002 года (2009-<a class="external text" href="http://ftp.oscada.org/ALTLinux/6" rel="nofollow noreferrer noopener" target="_blank">ALTLinux 6</a>, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/ICPDAS_LP8x81" title="Special:MyLanguage/Using/ICPDAS LP8x81">LP8x81</a>, <a class="external text" href="http://ftp.oscada.org/OpenSCADA/LTS/Fedora/12" rel="nofollow noreferrer noopener" target="_blank">Fedora 12</a>; 2012-<a class="external text" href="http://ftp.oscada.org/Debian/7" rel="nofollow noreferrer noopener" target="_blank">Debian 7</a>) по современные;</li>
<li> <b>надёжность</b> — практическое применение, быстрое решение проблем;</li>
<li> <b>безопасность</b> — распределение прав, SSL;</li>
<li> <b>многоплатформенность</b> — x86_32, x86_64, ARM, Web, Android, QNX (<a class="external text" href="http://oscada.org/ru/forum/posts/razrabotka_openscada/popytka_adaptacii_openscada_k_qnx_65/" rel="nofollow noreferrer noopener" target="_blank">предадаптировано</a>), MS Windows (<a class="external text" href="http://oscada.org/en/development/tasks/posts/tasks_forming_formirovanie_zadach/adapting_openscada_to_work_on_os_ms_windows/" rel="nofollow noreferrer noopener" target="_blank">запланировано</a>);</li>
<li> <b>единый, унифицированных, удобный и развитый интерфейс пользователя</b> — Qt, Web, прозрачное и многоуровневое удалённое управление;</li>
<li> <b>широкий спектр источников данных</b> — универсальные, платы DAQ и низкоуровневые шины, созданные в окружении OpenSCADA.</li></ul>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">1.2</span> Применение</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_use_ru.png"><img class="thumbimage" height="367" src="files/300px-Oscada_use_ru.png" srcset="/wiki/images/thumb/7/77/Oscada_use_ru.png/450px-Oscada_use_ru.png 1.5x, /wiki/images/7/77/Oscada_use_ru.png 2x" width="300" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:Oscada_use_ru.png" title="Enlarge" /></div>Роли OpenSCADA.</div></div></div>
<p>К актуальным отраслям применения, где известно хотя-бы одно внедрение и с коротким перечнем которых от участников проекта можно ознакомиться по <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using" title="Special:MyLanguage/Using">этой ссылке</a>, относятся:
</p>
<ul><li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using" title="Special:MyLanguage/Using">АСУ ТП (SCADA/HMI)</a> или системы телемеханики — основное направление и тут существует множество внедрений;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Model_AGLKS" title="Special:MyLanguage/Using/Model AGLKS">динамические модели, имитаторы и тренажеры</a> технологических процессов в реальном времени;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Vacuum_processing_unit" title="Special:MyLanguage/Using/Vacuum processing unit">станки и промышленные роботы</a>;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Yaroslavskij_broiler" title="Special:MyLanguage/Using/Yaroslavskij broiler">системы сельско-хозяйственной диспетчеризации и управления, птичники</a>;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using#Devices" title="Special:MyLanguage/Using">встроенные и мобильные системы</a> — окружение исполнения Программируемого Логического Контролера (ПЛК), роботы, ...;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Server" title="Special:MyLanguage/Sub-projects/Server">мониторинг оборудования серверов</a>;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/HouseSpirit" title="Special:MyLanguage/Using/HouseSpirit">умные дома и автоматика зданий</a>.</li></ul>
<p>С некоторыми ограничениями и доработками, в основном во внутреннем окружении пользователя, OpenSCADA может использоваться и в таких отраслях:
</p>
<ul><li> управление ресурсами предприятия (ERP);</li>
<li> Geo-локация и отслеживание положения;</li>
<li> торговые системы;</li>
<li> медицинские диагностические системы;</li>
<li> бухгалтерский учёт;</li>
<li> билинговые системы.</li></ul>
<h2><span class="mw-headline" id=".D0.A0.D0.B5.D0.B7.D1.83.D0.BB.D1.8C.D1.82.D0.B0.D1.82.D1.8B_.D0.BF.D1.80.D0.B5.D0.B4.D1.8B.D0.B4.D1.83.D1.89.D0.B5.D0.B3.D0.BE_.D1.80.D0.B5.D0.BB.D0.B8.D0.B7.D1.83_0.8.0_LTS"><span class="mw-headline-number">2</span> Результаты предыдущего релизу 0.8.0 LTS</span></h2>
<p>Релиз 0.8.0 LTS выпущен в апреле 2012 года и в течении этих шести лет он претерпел 20 обновлений, которыми, в целом, исправлено более 500 ошибок и добавлено множество усовершенствований, которые не нарушают совместимости библиотечных БД и конфигурации.
</p><p>Конфигурация и библиотечные БД 0.8.0 LTS были в целом заморожены, ввиду больших несовместимых изменений в 0.9 Work, для методов запуска OpenSCADA, и несовершенство распространение библиотечных БД на момент выпуска 0.8.0 LTS. Поэтому, обновление и переход на версию 0.9 LTS будет нетривиальным, хотя в 0.9 LTS предусмотрено всё возможное для упрощения <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Release_0.9/Updating_0.8.0_LTS" title="Special:MyLanguage/Documents/Release 0.9/Updating 0.8.0 LTS">этой процедуры</a>. Обновление-же 0.9 LTS до запланированной в будущем 1 LTS уже не будет таким сложным и фактически может превратиться исключительно в формальное изменение версии рабочей ветви, поскольку теперь планируется обновление всего, включая и библиотечные БД.
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.BB.D0.B0.D0.BD.D0.BE.D0.B2.D1.8B.D0.B5_.D0.B7.D0.B0.D0.B4.D0.B0.D1.87.D0.B8_.D1.80.D0.B5.D0.BB.D0.B8.D0.B7.D0.B0"><span class="mw-headline-number">3</span> Плановые задачи релиза</span></h2>
<p>Развитие OpenSCADA, после предыдущей LTS версии и в рамках рабочей ветви, в основном осуществлялось путём глубокой стабилизации и через практическую адаптацию с элементами расширения существующего функционала, нацеленные на предоставление стабильного и надёжного окружения автоматизации промышленных и смежных задач, а соответственно и не существовало чётко определённого плана. Но за три года до этого релиза такой план появился и составил следующие задачи, что видно из <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Works/Road_map" title="Special:MyLanguage/Works/Road map">общего плана развития</a>:
</p>
<ul><li> Полная ревизия основной документации и подготовка анонса этого релиза.</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Adaption_to_Android" title="Special:MyLanguage/Sub-projects/Adaption to Android">Адаптация к работе на программной платформе "Android"</a>.</li>
<li> Перенос базы знаний OpenSCADA и Wiki-ресурса документирования на новый движок с унификацией структуры под многоязычность с приоритетом: Английский, Украинский, mRussian; и генерация автономной документации по её изменению.</li>
<li> Ревизия, актуализация и некоторое расширение Web-модулей OpenSCADA.</li>
<li> Расширение и адаптация OpenSCADA к прямой работе с низкоуровневыми шинами и устройствами вроде 1Wire, I2C и реализация проекта умного дома в собственной квартире.</li>
<li> Формальное создание и документирование <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">проекта дистрибутива Linux автоматизации с OpenSCADA</a>.</li>
<li> Создание автоматизированной системы сборки пакетов OpenSCADA.</li>
<li> Перенос серверной инфраструктуры OpenSCADA на <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Server" title="Special:MyLanguage/Sub-projects/Server">собственное оборудование и канал интернета</a>.</li>
<li> <a href="Modules/OPC_UA.html" title="Special:MyLanguage/Modules/OPC UA">DAQ.OPC_UA</a>: Упрощение, увеличение функциональности и перенос протокольного кода в отдельную LGPL v3 библиотеку.</li></ul>
<p>Эти задачи выполнены и некоторые детали около них приведены далее.
</p>
<h2><span class="mw-headline" id=".D0.9E.D0.B1.D1.89.D0.B5.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D0.B5_.D1.81.D0.B2.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"><span class="mw-headline-number">4</span> Общесистемные свойства</span></h2>
<p>Новая стабильная версия OpenSCADA получила заметные общесистемные расширения, приобрела большей стабильности в работе и увеличение продуктивности, а также получила заметные усовершенствования графического интерфейса и окружения около неё, вроде: расширенной настройки, документации, доступной прямо из программы (offline и online), и которая значительным образом пересмотрена и актуализирована.
</p><p>Основная часть документации проекта перенесена на новую Wiki, на основе MediaWiki, и значительный объём этой части был отревизирован и переведен на три языка — Английский, Украинский, mRussian. Для переноса была создана <a href="Libs_Service_procedures.html#wacko2media" title="Special:MyLanguage/Libs/Service procedures">процедура конвертации статей из диалекта движка WackoWiki на MediaWiki</a>, которая была полностью написана на внутреннем языке программирования OpenSCADA и которую многократно использовано для переноса большого объёма старой Wiki. Формат автономной (offline) документации был изменён со статичных PDF-файлов, которые не обновлялись после предыдущей LTS версии, на HTML-файлы, которые динамически генерируются из актуальной базы знаний проекта (Wiki), а также имеют актуальные крос-ссылки между страницами и ссылки на online-документацию, для исключительно внешних материалов. Генерация offline-документации также производится <a href="Libs_Service_procedures.html#docOffLine" title="Special:MyLanguage/Libs/Service procedures">специально написанной процедурой</a> на внутреннем языке OpenSCADA, что, вместе с процедурой конвертации Wiki-диалекта и <a href="Libs_Service_procedures.html#releaseTests" title="Special:MyLanguage/Libs/Service procedures">комплексного тестирования релиза OpenSCADA</a>, является ярким показателем мощности и текущего уровня развитости внутреннего языка OpenSCADA.
</p><p>В рамках старой Wiki, после выпуска 0.8.0 LTS были добавлены и обновлены некоторые документы, а с переносом на новую Wiki, кроме ревизии и перевода основной части документации, была осуществлена общая унификацию её структуры из соображений: многоязычности (Английского как первичного языка), логичности организации, удобства перевода и возможности убрать дублирование статей с официальным сайтом, которые сейчас просто используются из Wiki. Отдельно отметим значительно-расширенные главные документы:
</p>
<ul><li> <a href="Quick_start.html" title="Special:MyLanguage/Documents/Quick start">Быстрый старт</a>;</li>
<li> <a href="Program_manual.html" title="Special:MyLanguage/Documents/Program manual">Руководство по программе</a>;</li>
<li> <a href="User_API.html" title="Special:MyLanguage/Documents/User API">API пользователя OpenSCADA</a>;</li>
<li> <a href="FAQ.html" title="Special:MyLanguage/Documents/FAQ">ЧаВо</a> и <a href="How_to.html" title="Special:MyLanguage/Documents/How to">Как сделать ...</a>;</li>
<li> <a href="How_to_Create_module.html" title="Special:MyLanguage/Documents/How to/Create module">Создание модуля OpenSCADA</a>.</li></ul>
<p>Первичный язык (Английский) был полностью отревизирован в оригинальных сообщениях программы и во многом для основных статей документации-Wiki OpenSCADA, что на данное время делает OpenSCADA адекватно воспринимаемой для аудитории, которая не понимает исходных языков — Украинского или mRussian. И, вместе с реализацией в полном объёме механизма динамического перевода, делает возможным построение на основе OpenSCADA динамично многоязыковых интерфейсов пользователя, что Вы можете кроме всего прочего посмотреть на публично доступном Web-интерфейсе динамических моделей ТП: <a class="external text" href="http://oscada.org:10002" rel="nofollow noreferrer noopener" target="_blank">АГЛКС</a>, <a class="external text" href="http://oscada.org:10003" rel="nofollow noreferrer noopener" target="_blank">Котёл</a>.
</p><p>Рабочей версией, в основе этой стабильной, впервые было определено понятие проекту OpenSCADA и реализован сценарий командной строки для запуска и создания проектов OpenSCADA. Непосредственно перед выпуском этой версии, понятие проекта OpenSCADA было окончательно закреплено за директорий с данными отдельного проекта и конфигурационным файлом OpenSCADA, а реализация менеджера проекта была интегрировано непосредственно в OpenSCADA. Соответственно, эта LTS версия имеет развитое понятие менеджера проектов, что позволяет гибко с ними работать и исключить опасную возможность многократного запуска с общими данными одного проекту.
</p><p>Рабочей версией, также, внедрено изменение версий модулей по изменению в коде модуля и непосредственно перед их выгрузкой в репозиторию исходных текстов, а соответственно, версии модулей OpenSCADA этого релиза наглядно отражают общий уровень их развитости и стабильности.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:502px;"><a class="image" href="http://oscada.org/wiki/File:HowTo_livebootlang.png"><img class="thumbimage" height="192" src="../en/files/500px-HowTo_livebootlang.png" srcset="/wiki/images/thumb/0/02/HowTo_livebootlang.png/750px-HowTo_livebootlang.png 1.5x, /wiki/images/thumb/0/02/HowTo_livebootlang.png/1000px-HowTo_livebootlang.png 2x" width="500" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:HowTo_livebootlang.png" title="Enlarge" /></div>Живые диски дистрибутива Linux автоматизации проекта OpenSCADA.</div></div></div>
<p>В процессе осуществления работ над рабочей ветвью, в основе этой стабильной, было внедрено формирование репозиториев пакетов дистрибутивов Linux со сборками OpenSCADA, которые до этого предоставлялись только как отдельные пакеты. Что заметно упростило развёртывание OpenSCADA и содержание её актуальной. Затем был создан <a class="external text" href="http://oscada.org/en/development/tasks/posts/core/the_automatic_openscada_builder/" rel="nofollow noreferrer noopener" target="_blank">автоматических сборщик этих пакетов</a>, который на данный момент насчитывает до 100 целей, и что значительно упростило выпуск обновлений как для рабочей ветви так и для этой стабильной. Соответственно, к этой LTS версии предоставляются сборки пакетов для основных окружений Linux и вся историю публичных обновлений будет сохранена.
</p><p>К пакетам сборок OpenSCADA предоставляются также и сборки <a href="How_to_Live_disk.html" title="Special:MyLanguage/Documents/How to/Live disk">живых дисков</a> быстрого ознакомления и развёртывания OpenSCADA вместе с системным окружением. Которые до этого момента получили формальное основание в виде <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Linux дистрибутива автоматизации проекта OpenSCADA</a>.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:Server_net.png"><img class="thumbimage" height="244" src="../en/files/300px-Server_net.png" srcset="/wiki/images/thumb/6/68/Server_net.png/450px-Server_net.png 1.5x, /wiki/images/thumb/6/68/Server_net.png/600px-Server_net.png 2x" width="300" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:Server_net.png" title="Enlarge" /></div>Основной сервер OpenSCADA.</div></div></div>
<p>Сборки и пакеты OpenSCADA сопровождаются рядом открытого и свободного материала внутреннего окружения программы, а именно, это: наработки слоя сбора и обработки данных, элементы графического представления и целые-комплексные проекты моделей ТП. Эти материалы предоставляются в виде файлов БД SQLite и включают:
</p>
<ul><li> <i>Библиотеки функций</i> (<b>OscadaLibs</b>), "LibsDB/OscadaLibs.db" — содержит все наработки проекта OpenSCADA в слое сбора и обработки данных включая <a href="DAQ.html#UserPrt" title="Special:MyLanguage/Documents/DAQ">элементы источников данных пользовательского протокола</a>.</li>
<li> <i>СВУ: Главные библиотеки</i> (<b>vcaBase</b>), "LibsDB/vcaBase.db" — содержит <a href="Libs_Main_graphical_elements.html" title="Special:MyLanguage/Libs/Main graphical elements">основные элементы графического представления</a> и <a href="Libs_Mnemo_elements.html" title="Special:MyLanguage/Libs/Mnemo elements">элементы мнемосхем</a> проекта OpenSCADA.</li>
<li> <i>СВУ: Тесты</i> (<b>vcaTest</b>), "LibsDB/vcaTest.db" — содержит элементы тестов примитивов графического представления.</li>
<li> <i>СВУ: Библиотека электро-элементов мнемосхем пользовательского интерфейса</i> (<b>vcaElectroEls</b>), "LibsDB/vcaElectroEls.db" — содержит элементы графического представления компонентов электрических схем.</li></ul>
<p>Хостинг проекта в целом и материалов 0.9 LTS в частности, был перенесен на <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Server" title="Special:MyLanguage/Sub-projects/Server">собственный сервер проекта</a>, где дополнительно были развёрнуты: демонстрационные Web-интерфейсы моделей OpenSCADA, проект мониторинга сервера и умного дома на основе OpenSCADA и сборщик пакетов репозиториев OpenSCADA.
</p>
<h3><span class="mw-headline" id=".D0.92.D0.BD.D1.83.D1.82.D1.80.D0.B5.D0.BD.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">4.1</span> Внутренние</span></h3>
<p>Разрешающая способность внутренних данных целого типа окружения OpenSCADA увеличена до 64 разрядов. В целом-же, внутренние данные OpenSCADA, с резервированием значения ошибки (EVAL) для каждого, унифицированы общими типами: логическое, целое, реальное, строка и объект. Что в первую очередь касается источников данных.
</p><p>В ядро OpenSCADA, <a href="Modules/UserProtocol.html" title="Special:MyLanguage/Modules/UserProtocol">собственный протокол</a> и все узлы что работают с удалёнными станциями OpenSCADA; добавлена возможность "поднятия" узлов OpenSCADA, которые находятся за другими узлами и, как правило, в другой сети. Что в целом позволяет централизовано управлять сетью станций OpenSCADA на любом уровне иерархии.
</p>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D0.BE.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.D1.81.D1.82.D0.B2.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B8_.D0.B0.D0.B4.D0.B0.D0.BF.D1.82.D0.B0.D1.86.D0.B8.D1.8F_.D0.B4.D0.BB.D1.8F_.D1.80.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.BD.D1.8B.D1.85_.D0.BF.D0.BB.D0.B0.D1.82.D1.84.D0.BE.D1.80.D0.BC"><span class="mw-headline-number">4.2</span> Усовершенствования и адаптация для различных платформ</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:AsusNexus7.png"><img class="thumbimage" height="172" src="../en/files/300px-AsusNexus7.png" srcset="/wiki/images/thumb/6/69/AsusNexus7.png/450px-AsusNexus7.png 1.5x, /wiki/images/thumb/6/69/AsusNexus7.png/600px-AsusNexus7.png 2x" width="300" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:AsusNexus7.png" title="Enlarge" /></div>OpenSCADA на Android.</div></div></div>
<p>Эта версия OpenSCADA получила углублённую поддержку и способность к адаптации для различных платформ. Что в основном случилось благодаря адаптации для работы на программной платформе Android и восстановления сборки и работы с ucLibC, и что планируется использовать в дальнейшей адаптации для работы на программных платформах QNX и MS Windows.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:RaspberryPi.png"><img class="thumbimage" height="110" src="../en/files/300px-RaspberryPi.png" srcset="/wiki/images/thumb/e/ed/RaspberryPi.png/450px-RaspberryPi.png 1.5x, /wiki/images/thumb/e/ed/RaspberryPi.png/600px-RaspberryPi.png 2x" width="300" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:RaspberryPi.png" title="Enlarge" /></div>Raspberry Pi.</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:152px;"><a class="image" href="http://oscada.org/wiki/File:OrangePi.png"><img class="thumbimage" height="106" src="../en/files/150px-OrangePi.png" srcset="/wiki/images/thumb/b/b2/OrangePi.png/225px-OrangePi.png 1.5x, /wiki/images/b/b2/OrangePi.png 2x" width="150" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:OrangePi.png" title="Enlarge" /></div>Orange Pi.</div></div></div>
<p>Работа на одноплатных ПК была расширена платами <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Raspberry_Pi" title="Special:MyLanguage/Using/Raspberry Pi">Raspberry Pi</a> и <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Orange_Pi" title="Special:MyLanguage/Using/Orange Pi">Orange Pi</a>.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a class="image" href="http://oscada.org/wiki/File:Nokia_N9.png"><img class="thumbimage" height="105" src="../en/files/200px-Nokia_N9.png" srcset="/wiki/images/thumb/7/75/Nokia_N9.png/300px-Nokia_N9.png 1.5x, /wiki/images/thumb/7/75/Nokia_N9.png/400px-Nokia_N9.png 2x" width="200" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:Nokia_N9.png" title="Enlarge" /></div>Nokia N9.</div></div></div>
<p>Поддержка Linux смартфорнов Nokia дополнена последним, основанным на MeeGo 1.2, это — Nokia N9. Или это было обновление поддержки Nokia N950.
</p><p>Кроме непосредственной работы (нативно) на различных платформах, был значительно расширен Web-интерфейс, который сейчас реализует все общие возможности концепции среды визуализации и управления (СВУ).
</p>
<h3><span class="mw-headline" id=".D0.9E.D0.BF.D1.82.D0.B8.D0.BC.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F.2C_.D1.81.D1.82.D0.B0.D0.B1.D0.B8.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.B8_.D0.BF.D1.80.D0.BE.D0.B4.D1.83.D0.BA.D1.82.D0.B8.D0.B2.D0.BD.D0.BE.D1.81.D1.82.D1.8C"><span class="mw-headline-number">4.3</span> Оптимизация, стабилизация и продуктивность</span></h3>
<p>Значительной стабилизации ядра OpenSCADA, и программы в целом, достигнуто через унификацию контроля внутренних ресурсов и расширения <a href="How_to_Debug.html" title="Special:MyLanguage/Documents/How to/Debug">возможностей отладки пользователем</a>. В общем, пользовательская диагностика и отладка расширена:
</p>
<ul><li> общим включением-выключением отладки и целевым контролем узлов отладки;</li>
<li> особенной отладкой объектов контролеров источников данных;</li>
<li> особенной отладкой исполнения проектов СВУ;</li>
<li> формированием углублённой статистики исполнения динамических объектов OpenSCADA, таких как: объекты контроллеров источников данных и их параметров, входных и выходных транспортов, сеансов СВУ с детализацией до виджетов;</li>
<li> <a href="Program_manual.html#Transports" title="Special:MyLanguage/Documents/Program manual">протоколирование входного и выходного трафика транспортов</a>.</li></ul>
<p>Глубокой и всесторонней стабилизации претерпели почти все модули OpenSCADA и многие были оптимизированы, из которых особенно нужно отметить:
</p>
<ul><li> <i><a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules#DB" title="Special:MyLanguage/Modules">Все модули БД</a></i> — добавлена обработка и проверка ошибок БД или СУБД, а также выдача сообщений про эти ошибки в случае пользовательской загрузки и записи; увеличена производительность (до порядка) БД поддерживающих SQL, через реализацию режима предзагрузки сканирующего запроса;</li>
<li> <i>Вычислитель на основе Java-подобного языка</i> (<a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">DAQ.JavaLikeCalc</a>) — увеличена производительность через: сохранение контекста исполнения функции, предзагрузку постоянных и прямой доступ к строке.</li>
<li> <i>Архиватор на БД</i> (<a href="Modules/DBArch.html" title="Special:MyLanguage/Modules/DBArch">Archive.DBArch</a>) — значительно оптимизирована запись и чтение БД, а именно это: групповая запись нескольких архивов в одну таблицу и чтение блоками (кратными десяти) в одном запросе.</li>
<li> <i><a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules#Transports" title="Special:MyLanguage/Modules">Все транспорты</a></i> — в целом увеличена производительность.</li>
<li> <i>Рабочий пользовательский интерфейс (WEB)</i> (<a href="Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">UI.WebVision</a>) — увеличена чувствительность интерфейса использованием асинхронных запросов в общем цикле обновления.</li></ul>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:DAQ_red_ru.png"><img class="thumbimage" height="205" src="files/300px-DAQ_red_ru.png" srcset="/wiki/images/thumb/c/cc/DAQ_red_ru.png/450px-DAQ_red_ru.png 1.5x, /wiki/images/c/cc/DAQ_red_ru.png 2x" width="300" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:DAQ_red_ru.png" title="Enlarge" /></div>Резервирование OpenSCADA станций.</div></div></div>
<p>Надёжность резервируемой станции в масштабе комплексного решения, точнее сохранение данных истории, была усовершенствована расширением механизма резервирования, который потенциально предусматривает резервирование любой подсистемы и реализует сейчас резервирование подсистем "Сбор данных" и "Архивы-История".
</p><p>И, для программы в целом, был выполнен <a class="external" href="http://oscada.org/wiki/Documents/Release_0.9/Tests" title="Documents/Release 0.9/Tests">ряд формальных всесторонних тестов</a>, которые были предварительно расширены во <a href="Libs_Service_procedures.html#releaseTests" title="Special:MyLanguage/Libs/Service procedures">внутренней процедуре комплексного тестирования релиза OpenSCADA</a>. В результате этих тестов было выявлено несколько ошибок, которые исправлены.
</p>
<h3><span class="mw-headline" id=".D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"><span class="mw-headline-number">4.4</span> Сбор данных</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_UserOM_ru.png"><img class="thumbimage" height="180" src="files/400px-Oscada_UserOM_ru.png" srcset="/wiki/images/thumb/c/c6/Oscada_UserOM_ru.png/600px-Oscada_UserOM_ru.png 1.5x, /wiki/images/thumb/c/c6/Oscada_UserOM_ru.png/800px-Oscada_UserOM_ru.png 2x" width="400" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:Oscada_UserOM_ru.png" title="Enlarge" /></div>Пользовательская объектная модель ядра OpenSCADA.</div></div></div>
<p>Учитывая ключевую роль сбора данных в программах такого роду, эта функция, в лице подсистемы "Сбор данных" и её модулей, получила значительные усовершенствования, из которых особенно нужно отметить: смещение акцента в расширении поддерживаемых источников данных из реализации отдельных модулей подсистемы "Сбор данных" на системном языке "C/C++", на их реализацию в окружении OpenSCADA и на её внутреннем языке — <a href="DAQ.html" title="Special:MyLanguage/Documents/DAQ">логический уровень OpenSCADA</a>. Т.е., на логическом уровне OpenSCADA, может и реализуется все, что: для доступа к данным использует сеть, не требует использования специфических библиотек и функций и не является очень сложным. На данный момент, таким образом реализовано:
</p>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:RaspberryPi_experiments.jpg"><img class="thumbimage" height="390" src="../en/files/400px-RaspberryPi_experiments.jpg" srcset="/wiki/images/thumb/1/1f/RaspberryPi_experiments.jpg/600px-RaspberryPi_experiments.jpg 1.5x, /wiki/images/thumb/1/1f/RaspberryPi_experiments.jpg/800px-RaspberryPi_experiments.jpg 2x" width="400" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:RaspberryPi_experiments.jpg" title="Enlarge" /></div>Низкоуровневые устройства подключенный к Raspberry Pi.</div></div></div> <div class="thumb tright"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:RaspberryPi_LCD.png"><img class="thumbimage" height="267" src="../en/files/400px-RaspberryPi_LCD.png" srcset="/wiki/images/4/47/RaspberryPi_LCD.png 1.5x, /wiki/images/4/47/RaspberryPi_LCD.png 2x" width="400" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:RaspberryPi_LCD.png" title="Enlarge" /></div>OpenSCADA на LCD экране Raspberry Pi.</div></div></div>
<ul><li> Отправка SMS сообщений (SMS) и электронных писем (SMTP).</li>
<li> Источник Бесперебойного Питания (UPS), как объект данных с атрибутами и значениями.</li>
<li> Простые сенсоры и датчики:
<ul><li> Елемер TM510x;</li>
<li> EDWARDS TURBOMOLECULAR PUMPS (SCU750);</li>
<li> Sycon Multi Drop Protocol (SMDP);</li>
<li> Блок питания турбо-молекулярного насоса (TMP-xx03);</li>
<li> Измерение температуры IT-3 (IT3);</li>
<li> IVE-452HS-02;</li>
<li> OPTRIS CT/CTL;</li>
<li> CTR 100, 101.</li></ul></li>
<li> Компьютер теплового счётчика VKT7.</li>
<li> IEC-60870-104.</li>
<li> Тестовые реализации и примеры: DCON, OWEN.</li>
<li> Шина "One Wire" с помощью {DS9097,DS9097U} (1W_{DS9097,DS9097}) для чипов: DS1820, DS1820/DS18S20/DS1920, DS1822, DS2413, DS2408, DS2450, DS2438.</li>
<li> Шина I2C: PCF8591, PCF8574, BMP180, DS3231, AT24C{32|64}.</li>
<li> Общие порты ВВ (GPIO): DHT11,22 (AM23XX). GPIO|I2C: 1602A(HD44780).</li></ul>
<p>Учитывая рост роли логического уровня OpenSCADA, выросли и требования к гибкости модели данных источников данных и в целом, что было удовлетворено:
</p>
<ul><li> завершением покрытия внутренней модели данных всеми функциями, характерными для области применения;</li>
<li> добавлением иерархичности к параметрам объектов контроллеров источников данных;</li>
<li> добавлением возможности произвольного и динамического формирования модели данных — набору атрибутов параметров.</li></ul>
<p>Внутренний язык программирования OpenSCADA приобрёл значительные усовершенствования и, сейчас, удовлетворяет всем требования отраслей применения OpenSCADA. Многие из этих усовершенствований попали в предыдущую версию 0.8.0 LTS, а ряд из них не мог туда попасть из-за нарушения обратной совместимости или недостаточной стабильности на то время. Из этих, существенных усовершенствований, нужно ещё раз отметить: увеличение разрешающей способности данных внутреннего окружения OpenSCADA целого типа до 64 разрядов и сохранение контекста исполнения внутренних процедур.
</p>
<h3><span class="mw-headline" id=".D0.93.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">4.5</span> Графическое окружение</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a class="image" href="http://oscada.org/wiki/File:QTStarter_dialog_ru.png"><img class="thumbimage" height="292" src="files/200px-QTStarter_dialog_ru.png" srcset="/wiki/images/thumb/8/84/QTStarter_dialog_ru.png/300px-QTStarter_dialog_ru.png 1.5x, /wiki/images/thumb/8/84/QTStarter_dialog_ru.png/400px-QTStarter_dialog_ru.png 2x" width="200" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:QTStarter_dialog_ru.png" title="Enlarge" /></div>Диалог выбора проектов OpenSCADA.</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:QTStarter_cfg_ru.png"><img class="thumbimage" height="395" src="files/400px-QTStarter_cfg_ru.png" srcset="/wiki/images/thumb/a/ab/QTStarter_cfg_ru.png/600px-QTStarter_cfg_ru.png 1.5x, /wiki/images/a/ab/QTStarter_cfg_ru.png 2x" width="400" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:QTStarter_cfg_ru.png" title="Enlarge" /></div>Пользовательский контроль вида интерфейса Qt.</div></div></div>
<p>В целом, графическое окружение получило значительное развитие и главным из них стало расширение <a href="Modules/QTStarter.html" title="Special:MyLanguage/Modules/QTStarter">модуля запуска Qt-интерфейса</a>, как основы для остальных локальных. В первую очередь, этот модуль и ядро OpenSCADA адаптированы для возможности запуска библиотеки графической среды Qt в основном потоке программы, что исключило много проблем, связанных с исполнением в неглавном потоке, а также обеспечена работа с версией 5 этой библиотеки. Во вторых, этот модуль взял на себя роль интерфейса выбора проектов OpenSCADA при её запуске и переключении, а также создание новых. И в третьих, ввиду его первичности к запуску Qt, он получил функцию управления видом программы независимо от графического окружения и возможность его запуска-закрытия в системный лоток. Что в целом сделало возможным настройку OpenSCADA под персональные требования пользователя и адаптировать её к очень специфическим окружениям вроде <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Android</a>.
</p><p>Заметных усовершенствований получили модули конфигурации Qt и Web, где особенно нужно отметить:
</p>
<ul><li> <i>Конфигуратор-Qt</i> (<a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>): осуществление запросов к удалённым станциям в отдельном потоке от потока Qt, что сделало его удобнее и более прогнозируемым и что даже, вместе с одним из обновлений, попало в предыдущую стабильную версию 0.8.0 LTS.</li>
<li> <i>Конфигуратор-WEB</i> (<a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">UI.WebCfgD</a>): в целом, был полностью обновлен на предмет интерфейса, который сейчас является более динамическим, удобным и может быть расширен темами.</li></ul>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:WebVision_wvis_run_ru.png"><img class="thumbimage" height="303" src="files/400px-WebVision_wvis_run_ru.png" srcset="/wiki/images/thumb/d/df/WebVision_wvis_run_ru.png/600px-WebVision_wvis_run_ru.png 1.5x, /wiki/images/thumb/d/df/WebVision_wvis_run_ru.png/800px-WebVision_wvis_run_ru.png 2x" width="400" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:WebVision_wvis_run_ru.png" title="Enlarge" /></div>OpenSCADA на Web.</div></div></div>
<p>Заметных усовершенствований также получила среда визуализации и управления (СВУ), в составе всех её модулей:
</p>
<ul><li> <i>Движок СВУ и модули визуализаторов вообще</i> (<a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">UI.VCAEngine</a>):
<ul><li> позволяет осуществлять полноценную-горячую разработку, т.е. — редактирование проекту СВУ на момент его исполнения сеансами;</li>
<li> оригинальные сообщения интерфейса являются полностью откорректированными, грамматически и орфографически корректными для Английского языка;</li>
<li> предоставлено ряд дополнительных видов примитива "Элементы формы", "Диаграмма" и расширено примитив "Text" отображением "HTML";</li>
<li> предоставлено механизм специфических для визуализатора атрибутов виджетов, что позволило раскрыть и использовать их индивидуальные свойства;</li>
<li> новый-гибкий механизм сообщений пользователя про внештатные события в контролируемом системой процессе, который предусматривает возможность свободного формирования пользовательских извещателей с нужными свойствами, как: моно-тонный сигнал, синтез речи.</li></ul></li>
<li> <i>Визуализатор-Qt</i> (<a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">UI.Vision</a>):
<ul><li> заметно улучшена работа исполнения удалённых интерфейсов и обеспечено осуществление запросов к удалённой станции в отдельном потоке от потока Qt, что упростило удалённую разработку с параллельным исполнением проекта;</li>
<li> формирование примитива "Документ" может осуществляться с помощью WebKit.</li></ul></li>
<li> <i>Визуализатор-WEB</i> (<a href="Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">UI.WebVision</a>):
<ul><li> унифицирован, оптимизирован и расширен использованием CSS3;</li>
<li> предоставлена реализацию всех элементов-примитивов унифицированного интерфейса;</li>
<li> осуществляется масштабирование до доступного пространства окна браузера;</li>
<li> увеличена производительность работы и чувствительность интерфейса, через использование исключительно асинхронного механизма при обновлении.</li></ul></li></ul>
<p>Все Web-модули, в целом, получили возможность изменения вида посредством тем, через общесистемные интерфейсы <a href="Modules/HTTP.html" title="Special:MyLanguage/Modules/HTTP">модуля протокола HTTP</a> и его механизмы обработки запросов и формирования ответов. Также, все они получили поддержку динамического перевода интерфейса, что особенно актуально для многопользовательских Web-интерфейсов и с чем Вы можете ознакомиться на демонстрационных Web-интерфейсах моделей OpenSCADA: <a class="external text" href="http://oscada.org:10002" rel="nofollow noreferrer noopener" target="_blank">АГЛКС</a>, <a class="external text" href="http://oscada.org:10003" rel="nofollow noreferrer noopener" target="_blank">Котел</a>. Добавлен также механизм разделения доступа по страницам, который, кроме всего прочего, позволяет разграничить доступ к Web-модулям вообще.
</p>
<h2><span class="mw-headline" id=".D0.9D.D0.BE.D0.B2.D1.8B.D0.B5_.D0.B8_.D0.B7.D0.BD.D0.B0.D1.87.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B8"><span class="mw-headline-number">5</span> Новые и значительно обновленные модули</span></h2>
<p>В новой версии были добавлены новые модули и значительным образом обновлен ряд существующих:
</p>
<ul><li> Добавлены новые модули:
<ul><li> <i>MMS(IEC-9506)</i> (<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/MMS" title="Special:MyLanguage/Modules/MMS">DAQ.MMS</a>) — модуль поддержки обмена данных по протоколу "Manufacturing Message Specification (MMS, IEC-9506)".</li>
<li> <i>Comedi</i> (<a href="Modules/Comedi.html" title="Special:MyLanguage/Modules/Comedi">DAQ.Comedi</a>) — модуль поддержки источников данных реального времени (библиотека "Comedi"), которые основаны на платах сбора данных различных производителей и устанавливаются на шинах: ISA, PCI, PCMCIA и USB.</li>
<li> <i>SMH2Gi</i> (<a href="Modules/SMH2Gi.html" title="Special:MyLanguage/Modules/SMH2Gi">DAQ.SMH2Gi</a>) — модуль реализации доступа к аппаратным модулям источников данных ПЛК Segnetics SMH2Gi,SMH4 для "MC", "MR", а также взаимодействия с оригинальным окружением "SMLogix".</li>
<li> <i>Fastwel IO</i> (<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/Fastwel" title="Special:MyLanguage/Modules/Fastwel">DAQ.Fastwel</a>) — модуль обмена данными с аппаратными модулями Fastwel IO.</li>
<li> <i>FT3 (АПСТМ)</i> (<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/FT3" title="Special:MyLanguage/Modules/FT3">DAQ.FT3</a>) — модуль обмена данными с контроллерами АПСТМ, АСДКУ, СУАП.</li>
<li> <i>GPIO</i> (<a href="Modules/GPIO.html" title="Special:MyLanguage/Modules/GPIO">DAQ.GPIO</a>) — модуль доступа к GPIO одноплатных ПК вроде Raspberry Pi, Orange Pi и другие.</li></ul></li>
<li> <i>Вычислитель на основе Java-подобного языка</i> (<a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">DAQ.JavaLikeCalc</a>) расширен: поддержкой внутренних функций, динамическим переводом сообщений и многими другими функциями интерфейса пользовательского программирования в целом.</li>
<li> <i>Шлюз источников данных</i> (<a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQ.DAQGate</a>) расширен шлюзованием сообщений, связанных с выбранным источником данных.</li>
<li> <i>Сбор данных ОС</i> (<a href="Modules/System.html" title="Special:MyLanguage/Modules/System">DAQ.System</a>) расширен источниками данных: "Файловая Система", "ИБП", "QSensor" и возможностью отделения медленных источников от быстрых.</li>
<li> <i>ModBus</i> (<a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">{DAQ,Protocol}.ModBus</a>) расширен поддержкой строки, как последовательности значений регистров.</li>
<li> <i>Клиент DCON</i> (<a href="Modules/DCON.html" title="Special:MyLanguage/Modules/DCON">DAQ.DCON</a>) значительно расширен поддержкой специфических модулей.</li>
<li> <div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_use_opcua_ru.png"><img class="thumbimage" height="286" src="files/300px-Oscada_use_opcua_ru.png" srcset="/wiki/images/thumb/f/fa/Oscada_use_opcua_ru.png/450px-Oscada_use_opcua_ru.png 1.5x, /wiki/images/f/fa/Oscada_use_opcua_ru.png 2x" width="300" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:Oscada_use_opcua_ru.png" title="Enlarge" /></div>Роли OpenSCADA как OPC-UA сервер.</div></div></div> <i>OPC-UA</i> (<a href="Modules/OPC_UA.html" title="Special:MyLanguage/Modules/OPC UA">DAQ.OPC_UA</a>) значительно расширен публикацией и поддержкой "кусков" в клиентской части сервиса, специфический код протокола выделен в библиотеку.</li>
<li> <i>Оборудование ICP_DAS</i> (<a href="Modules/ICP_DAS.html" title="Special:MyLanguage/Modules/ICP DAS">DAQ.ICP_DAS</a>) значительно расширен, а фактически полностью переписан, поддержкой всех присутствующих плат сбора данных от фирмы ICP_DAS для серии I8k, I-87k, на шине ISA и унифицированные типы для стандартных модулей серии I7k.</li>
<li> <i>Siemens S7 ПЛК</i> (<a href="Modules/Siemens.html" title="Special:MyLanguage/Modules/Siemens">DAQ.Siemens</a>) значительно расширен собственной реализацией ISO-TSAP.</li>
<li> <i>Diamond платы сбора данных</i> (<a href="Modules/DiamondBoards.html" title="Special:MyLanguage/Modules/DiamondBoards">DAQ.DiamondBoards</a>) значительно расширен, а фактически полностью переписан, поддержкой всех присутствующих плат сбора данных от фирмы Diamond Systems.</li>
<li> <i>Устройства АСКУ</i> (<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/AMRDevs" title="Special:MyLanguage/Modules/AMRDevs">DAQ.AMRDevs</a>) реализована поддержка счётчика Контар (МЗТА).</li>
<li> <i><a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules#DB" title="Special:MyLanguage/Modules">Все модули БД</a></i> значительно расширены динамическим переводом.</li>
<li> <i>Архиватор на БД</i> (<a href="Modules/DBArch.html" title="Special:MyLanguage/Modules/DBArch">Archive.DBArch</a>) расширен архивацией нескольких архивов в одну таблицу и восстановлением перечня архивов из информации в БД.</li>
<li> <i>Архиватор на ФС</i> (<a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Archive.FSArch</a>) добавлена поддержка промежуточных типов "Int16", "Int32", "Int64", "Float", "Double" и дополнен абсолютным ограничением размера архива на диске.</li>
<li> <i><a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules#Transports" title="Special:MyLanguage/Modules">Все модули транспортов</a></i> расширены режимом пулинга входных транспортов и протоколов.</li>
<li> <i>Сокеты</i> (<a href="Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">DAQ.Sockets</a>) расширен поддержкой шины RAWCAN и инициативным подключением входного транспорта.</li>
<li> <i>Последовательный интерфейс</i> (<a href="Modules/Serial.html" title="Special:MyLanguage/Modules/Serial">Transport.Serial</a>) расширен поддержкой низкоуровневой шины I2C; специальными пользовательскими функциями последовательного интерфейса: "sendbreak", "TS", "DR", "DCD", "RI"; расширенным управлением RTS для RS-485.</li>
<li> <i>Слой безопасных сокетов</i> (<a href="Modules/SSL.html" title="Special:MyLanguage/Modules/SSL">Transport.SSL</a>) расширен поддержкой: TLSv1.1, TLSv1.2, DTLSv1.</li>
<li> <i>Собственный протокол программы</i> (<a href="Modules/SelfSystem.html" title="Special:MyLanguage/Modules/SelfSystem">Protocol.SelfSystem</a>) расширен иерархическим и многоуровневым направлением запросов на внешние хосты.</li>
<li> <i>HTTP</i> (<a href="Modules/HTTP.html" title="Special:MyLanguage/Modules/HTTP">Protocol.HTTP</a>) расширен адаптивностью к интерфейсам пользователя в системных диалогах и предоставлением общего API построения HTTP-интерфейсов как для пользователя, так и модулям за ним.</li>
<li> <i>Программный конфигуратор (Qt)</i> (<a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>) запросы интерфейса управления OpenSCADA вынесены в отдельный поток и улучшена реализация элементов контроля.</li>
<li> <i>Программный конфигуратор (Динамический WEB)</i> (<a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">UI.WebCfgD</a>) расширен новым дизайном с использованием CSS3 и возможностей современных WEB-браузеров.</li>
<li> <i>Концепция и движок среды визуализации и управления</i> (<a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">UI.VCAEngine</a>) расширен: поддержкой специфических для визуализатора атрибутов виджетов, реализацией нового-гибкого механизма уведомления пользователя, фоновым (в отдельном потоке) исполнением задачи формирования документов, увеличением количества трендов на одном кадре до 100 и поддержкой логарифмической шкалы примитива "Диаграмма".</li>
<li> <i>Рабочий пользовательский интерфейс (Qt)</i> (<a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">UI.Vision</a>) расширен: для работы в сети через сервер визуализации; реализацией группы специфических этого визуализатора атрибутов; реализацией видов "Дерево", "Таблица" и расширением вида "Кнопка", примитива "Элементы формы"; реализацией вида "XY" примитива "Диаграмма"; значительным рефакторингом кода примитива "Элементарная фигура".</li>
<li> <i>Рабочий пользовательский интерфейс (WEB)</i> (<a href="Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">UI.WebVision</a>) расширен использованием CSS3 и возможностей современных браузеров, а именно: добавлено масштабирование к доступному пространству окна браузера, реализованы все примитивы унифицированного интерфейса.</li>
<li> <i>Библиотека функций системного API среды пользовательского программирования</i> (<a href="Modules/FLibSYS.html" title="Special:MyLanguage/Modules/FLibSYS">Special.FLibSYS</a>) расширен функциями и объектами: "floatExtract", "md5", "tmSleep", объект "IO"; значительно расширены существующие функции и объекты: "dbReqSQL", "FFT", "strParse", "strDec4Bin".</li></ul>
<h2><span class="mw-headline" id=".D0.92.D1.8B.D0.B2.D0.BE.D0.B4.D1.8B"><span class="mw-headline-number">6</span> Выводы</span></h2>
<p>По пути к новому релизу 0.9 LTS промышленного назначения осуществлена большая работу по стабилизации, расширению функциональных возможностей, а также расширению адаптационных возможностей к работе на альтернативных платформах. Всё это в целом ещё больше расширило границы полноценного применения OpenSCADA на всех уровнях систем промышленной автоматизации и смежных направлениях автоматизации и автоматики.
</p><p>LTS версии OpenSCADA не являются пустым звуком, они реально поддерживаются всё время, до следующей LTS версии, и поддержка этой версии ещё будет расширена сервисными обновлениями. Также, будет осуществлёно смещение акцента и политики внедрения LTS версии, которая до этого рекомендовалась к обновлению конфигураций с замороженными библиотечными БД, на приоритет в использовании на широком спектре новых решений.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:Release0.9_QNX4.5-preadaption.png"><img class="thumbimage" height="320" src="../en/files/400px-Release0.9_QNX4.5-preadaption.png" srcset="/wiki/images/thumb/3/31/Release0.9_QNX4.5-preadaption.png/600px-Release0.9_QNX4.5-preadaption.png 1.5x, /wiki/images/thumb/3/31/Release0.9_QNX4.5-preadaption.png/800px-Release0.9_QNX4.5-preadaption.png 2x" width="400" /></a>  <div class="thumbcaption"><div class="magnify"><a class="internal" href="http://oscada.org/wiki/File:Release0.9_QNX4.5-preadaption.png" title="Enlarge" /></div>Предадаптация OpenSCADA к работе на QNX.</div></div></div>
<p>В появлении новой промышленной версии OpenSCADA 0.9 LTS приняли участие:
</p>
<ul><li> <i><a class="external" href="http://oscada.org/wiki/User:RomanSavochenko" title="User:RomanSavochenko">Роман Савоченко</a></i>: основной объём работ по разработке, тестированию, сборке, документированию и переводу программы и документации тремя языками.</li>
<li> <i>Максим Кочетков</i>: реализация модулей DAQ.Fastwel, DAQ.FT3; расширение модуля <a href="Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">Transport.Sockets</a> поддержкой RAWCAN и модуля <a href="Modules/Serial.html" title="Special:MyLanguage/Modules/Serial">Transport.Serial</a> расширенным управлением RTS для RS-485.</li>
<li> <i>Арсен Закоян</i>: реализация поддержки счётчиков электроэнергии "Меркурий 200" и "Меркурий 230".</li>
<li> <i>Руслан Ярмолюк</i>: реализация поддержки счётчика электроэнергии NIK 2303.</li>
<li> <i>Алмаз Каримов</i>: расширение модуля реализации протокола DCON.</li>
<li> <i>Аркадий Кисель</i>: реализация поддержки I2C сенсора температуры, барометрического давления и влажности BME280.</li>
<li> <i>Константин (IrmIngeneer)</i>: поддержка сборки OpenSCADA на дистрибутиве Linux Gentoo.</li>
<li> <i>Сергей Дорошка</i>: <a class="external text" href="http://oscada.org/ru/forum/posts/razrabotka_openscada/popytka_adaptacii_openscada_k_qnx_65/" rel="nofollow noreferrer noopener" target="_blank">предварительная адаптация OpenSCADA к работе на QNX</a>.</li>
<li> Организации, которые содействовали наиболее значительному усовершенствованию OpenSCADA через её интеграцию в собственные системы управления:
<ul><li> <i>Proviron Holding NV</i>: приобретение пакетов технической поддержки для общей поддержки, исправления и улучшения реализации протокола Siemens ISO-TSAP(ProfiNet), некоторых наработок около Raspberry Pi, 2014, 2016-2018.</li>
<li> <i>Лаборатория вакуумных технологий</i>: "Вакуумная технологическая установка", 2011-2018, и финансирование оборудования сервера OpenSCADA, 2014.</li>
<li> <i>Оптима</i>: "Система Автоматизации Метрополитена", 2016.</li>
<li> <i>Вектор</i>: приобретение пакетов технической поддержки для исправления и улучшения реализации OPC-UA в работе с разными OPC-UA клиентами и серверами, 2015-2016.</li>
<li> <i>Краматорсктеплоэнерго+<a class="external text" href="http://diyaorg.dp.ua" rel="nofollow noreferrer noopener" target="_blank">ДІЯ</a></i>: "САУ шаровых барабанных мельниц ШБМ 287\410 котлоагрегата №8 БКЗ 160–100 ПТ", 2015, та "САУ Фосфатирования, Амминирования и Гидразина котлоагрегатов БКЗ 160–100 ПТ", 2014. В качестве ПЛК использован ICP-DAS LP-8781 с OpenSCADA в роли среды исполнения ПЛК.</li>
<li> <i>Хартрон</i>: "Система Контроля Реактивности (СКР) Ядерной Подкритической Установки (ЯПУ)", 2013-2015.</li></ul></li>
<li> Много других организаций и отдельных пользователей, которые пожелали остаться анонимными, через приобретение технической поддержки и услуг, конструктивные отзывы внедрения и эксплуатации.</li></ul>
<p>Последующие усилия разработки будут направлены на:
</p>
<ul><li> Завершение ревизии основной документации, в основном по модулям и библиотекам.</li>
<li> Чёткое определение и обновление политики предоставления коммерческих услуг вокруг проекта OpenSCADA:
<ul><li> пересмотр и обновление условий пакетов технической поддержки;</li>
<li> политика и организация сборок обновлений к стабильной ветви: сохранение истории всех публичных обновлений и организация сервисных;</li>
<li> дистрибуция исключительно коммерческих сборок с публичными демонстрационными на примере пакетов для Android — разработка и формирование механизма контроля за сроком пакета технической поддержки и демонстрационного режиму. </li></ul></li>
<li> Освоение и адаптацию к отрасли "Управление ресурсами предприятия (ERP)" с направленностью на:
<ul><li> создание интерфейса управления ресурсами на сервере проекта;</li>
<li> создание общего интерфейса контроля задач и их финансирования, с организацией разработчиков к привлечению исполнения этих задач и технической поддержки.</li></ul></li>
<li> Расширение функций применения в отраслях "Умный дом", "Домовая автоматика" и "Бытовые роботы".</li>
<li> Адаптацию к работе в окружении операционных систем QNX и MS Windows.</li></ul>
<h2><span class="mw-headline" id=".D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F"><span class="mw-headline-number">7</span> Обновления</span></h2>
<h3><span class="mw-headline" id=".5B22.02.2022.5D_.D0.9F.D0.AF.D0.A2.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">7.1</span> [22.02.2022] ПЯТОЕ обновление</span></h3>
<p>Это обновление <a href="Release_0.9.html" title="Special:MyLanguage/Documents/Release 0.9">релиза 0.9 LTS</a> исправляет около 50 ошибок и добавляет МНОЖЕСТВО улучшений с несколькими значительными-концептуальными, с которыми целиком можно ознакомиться в <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2831" rel="nofollow noreferrer noopener" target="_blank">протоколе изменений обновления</a>.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> <b><u>Significant actions of the developer of the OpenSCADA modules on the update</u></b><br />
</p>
<ul><li> FIX:SYS.TMess: Type of labStor(), labSecCRON(), labSecCRONsel(), labTaskPrior(), labMessCat() changed to "string".</li></ul>
<dl><dd> <b><span style="color: red">=</span></b>&gt; obligatory revise of using the label functions since the compiler mayn't to say an error in functions like to printf(), TSYS::strMess() but that module will be crashed.</dd></dl>
<p><b><u><a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Automation Linux distributive of the project OpenSCADA</a></u></b><br />
</p>
<ul><li> appending Debian 11 as the distributive base;</li>
<li> moving of building the Debian 10,9 base to the Debian 11 environment, then expanding the installer variants;</li>
<li> updating TDE to 14.0.11 and next 14.0.12;</li>
<li> fixing the plymouth problems, then the installations are safe now and "/var/boot.log" doesn't grow;</li>
<li> fixing Digikam, TDEPim, KArm and kdiff3, than appending the new patched packages "tdepim-trinity", "digikam-trinity" and kdiff3-trinity to the distributive collection.</li></ul>
<p><b><u>Main WWW-resources of the project — <a class="external text" href="http://oscada.org" rel="nofollow noreferrer noopener" target="_blank">Site</a></u></b><br />
</p>
<ul><li> significant changes in the Site common interface:
<ul><li> the Wiki-pages call in IFRAME appended for a waiting screen and an animated image of representing the loading wait; the opened pages vertical size was precisely fitted also at three attempts;</li>
<li> the content window horizontal size limited in 1000 pixels;</li>
<li> moving the vertical submenu of the main menu from the static left position to the call at an options button on the left of the main menu;</li>
<li> moving to the top right for the service panel with buttons of the language select, call the print variant and the Google-search field;</li>
<li> dividing twice the top logo image;</li>
<li> the Google-search field: width expanding, moving up and hide under a search icon.</li></ul></li>
<li> <a class="external text" href="http://oscada.org/en/news/single-page/article/changing-the-registration-conditions-and-rules-on-the-openscada-site/" rel="nofollow noreferrer noopener" target="_blank">changing the registration conditions and rules on the OpenSCADA site</a>;</li>
<li> the registration module finished in the translation to Ukrainian and enabled for acknowledge the new users registration by the site administrator.</li></ul>
<p><b><u>New and significantly updated parts</u></b><br />
</p>
<ul><li> OpenSCADA Core: 3:11:0 =&gt; <b>3:12:0</b></li></ul>
<dl><dd> (<a href="#DataStorage">Common Conception of the Data Storage</a>, <a href="#MessTr">Messages Translation</a>, <a href="#MessSubLev">Message Sublevels {Main}[0...9] and Unification for the User Messages Transferring</a>)</dd></dl>
<ul><li> OpenSCADA "BD", "DAQ" subsystems: 14 =&gt; <b>15</b>, 13 =&gt; <b>14</b></li></ul>
<dl><dd> (<a href="#CommonSQL">Significant Unification the Common SQL-code in the OpenSCADA Core</a>)</dd></dl>
<ul><li> DAQ.DAQGate: 2.5 =&gt; <b>2.9</b></li></ul>
<dl><dd> (<a href="#MessRedundTr">redundancy and the messages transferring</a>, <a href="#DAQGate">asynchronous writing mode implementation</a>)</dd></dl>
<ul><li> DAQ.JavaLikeCalc: 5.1 =&gt; <b>5.4</b></li>
<li> DAQ.Siemens: 4.2 =&gt; <b>4.4</b></li>
<li> {DAQ,Protocol}.ModBus: 3.3 =&gt; <b>3.4</b>, 2.8 =&gt; <b>2.9</b></li>
<li> {DAQ,Protocol}.OPC_UA: 2.5 =&gt; <b>2.6</b>, 2.1 =&gt; <b>2.2</b></li>
<li> Archive.FSArch: 3.6 =&gt; <b>3.7</b></li>
<li> Archive.DBArch: 3.0 =&gt; <b>3.1</b></li>
<li> Transport.SSL: 3.3 =&gt; <b>3.4</b></li></ul>
<dl><dd> (<a href="#SSL">pointing the certificates and the key directly from an external file with the input transports restarting at it change</a>)</dd></dl>
<ul><li> Protocol.HTTP: 3.6 =&gt; <b>3.8</b></li>
<li> Protocol.UserProtocol: 1.4 =&gt; <b>1.5</b></li>
<li> BD.DBGate: 1.0 =&gt; <b>1.1</b></li>
<li> BD.SQLite: 3.0 =&gt; <b>4.0</b></li>
<li> BD.MySQL: 3.5 =&gt; <b>4.0</b></li>
<li> BD.PostgreSQL: 2.5 =&gt; <b>3.0</b></li>
<li> BD.FireBird: 2.5 =&gt; <b>3.0</b></li>
<li> UI.QTStarter: 5.10 =&gt; <b>5.12</b></li>
<li> UI.QTCfg: 5.6 =&gt; <b>5.9</b></li>
<li> UI.WebCfg: 1.8 =&gt; <b>2.0</b></li>
<li> UI.WebCfgD: 2.1 =&gt; <b>2.3</b></li>
<li> UI.VCAEngine: 7.1 =&gt; <b>7.8</b></li></ul>
<dl><dd> (<a href="#VCAEngine">finishing of implementing the changes obtaining in the runtime mode by the clocking cycles through</a>)</dd></dl>
<ul><li> UI.Vision: 7.14 =&gt; <b>8.0</b></li></ul>
<dl><dd> (<a href="#Vision">early opening the restored and specified pages in the init procedure</a>)</dd></dl>
<ul><li> UI.WebUser: 1.4 =&gt; <b>1.5</b></li>
<li> UI.WebVision: 6.2 =&gt; <b>6.6</b></li>
<li> LibsDB.OscadaLibs.base.anUnif: 2.1 =&gt; <b>2.4</b></li>
<li> LibsDB.OscadaLibs.base.anUnifSt: 1.2 =&gt; <b>1.3</b></li>
<li> LibsDB.OscadaLibs.base.digAlarm: 1.2 =&gt; <b>1.3</b></li>
<li> LibsDB.OscadaLibs.base.codeState: 1.3 =&gt; <b>1.4</b></li>
<li> LibsDB.OscadaLibs.servProc.docOffLine: 1.2 =&gt; <b>1.3</b></li>
<li> LibsDB.OscadaLibs.Controller.test: 1.1 =&gt; <b>1.2</b></li>
<li> LibsDB.vcaBase.Main
<ul><li> alarmsAct: 1.1 =&gt; <b>1.3</b></li>
<li> alarmsSt: 1.2 =&gt; <b>1.4</b></li>
<li> RootPgSo: 2.4 =&gt; <b>2.5</b></li>
<li> ElCadr: 1.1 =&gt; <b>1.2</b></li>
<li> TextLab,ImgLab: 1.0 =&gt; <b>1.1</b></li>
<li> graphSelPrm: 1.4 =&gt; <b>1.5</b></li>
<li> objProps: 1.1 =&gt; <b>1.2</b></li>
<li> cntrRegul: 1.1 =&gt; <b>1.2</b></li>
<li> storeHouse: 1.0 =&gt; <b>1.1</b></li></ul></li>
<li> LibsDB.vcaBase.mnEls.El_Kran_Sh,Compressor: 1.0 =&gt; <b>1.1</b></li>
<li> LibsDB.vcaBase.doc
<ul><li> docAlarmsRep: 1.5 =&gt; <b>1.6</b></li>
<li> docUsersSet: 1.5 =&gt; <b>1.7</b></li></ul></li></ul>
<p><b><u><span id="DataStorage" title="#DataStorage">CONCEPTUAL &gt; Common Conception of the Data Storage</span> </u></b><br />
</p>
<ul><li> the Сonception is commonly unified in the direct storage specification and definition the Generic Storage "*.*" as a combination of the Configuration File and the work Data Base, when the Configuration File is the priority one for accessing the allowed data and the work Data Base for new data.</li>
<li> TBDS::{dataSeek,dataGet,dataSet,dataDel,genDBGet,genDBSet}() moved to the bit flags TBDS::ReqGenFlg;</li>
<li> the TBDS::dbList() moved to the bit flags TBDS::DBLsFlg;</li>
<li> TCntrNode appended of the functions storage() and setStorage() for tracking the availability of node data in different storages and offer a queue of the storages for the mechanism of sequentially removing duplicates, and they also used in the object functions DB(), fullDB(), setDB();</li>
<li> the objects are adapted for tracking the multiple storages and are appended of the sequentially removing duplicates: Security.{User,Group}, Transport.{Input,Output}, DAQ.{Controller,TemplateLib}, Archives.{VArchive,VArchiver,MArchiver}, DAQ.JavaLikeCalc.Lib, Protocol.{ModBus,OPC_UA,UserProtocol}.*, UI.WebUser.Page, UI.{VCAEngine,Vision}.{WdgLib,Proj};</li>
<li> the generic parameters accessing functions TBDS::genDBGet() and TBDS::genPrmSet() moved under the new storage conception using TBDS::dataGet() and TBDS::dataSet() respectively, and renamed to genPrmGet() and genPrmSet() everywhere;</li>
<li> the objects moved to use the new function dataDelTbl(): DAQ.{TController,TPrmTmplLib,JavaLikeCalc,LogicLev,BlockCalc,ModBus,Siemens,OPC_UA}, Archive.DBArch, UI.{VCAEngine,Vision}.{WdgLib,Proj};</li>
<li> the functions moved and used everywhere as static ones: TBDS::{dbList,dataSeek,dataGet,dataSet,dataDel,dataDelTbl}();</li>
<li> the spare storage addresses with tables were shortened to the standard storage address with the table name unification, where the previous not standard names leave to be edited up to the 1.0 release, for the objects: SYS, DAQ.{TemplateLib,JavaLikeCalc.Lib}, UI.{VCAEngine,Vision}.{WdgLib,Proj};</li>
<li> switched to select only DBs: Archive.DBArch, Protocol.HTTP;</li>
<li> the root object of the DB subsystem TTypeBD appended of the DB priority base [0...9] in the generic storages list and the Data Base object TBD appended of the configuration field "Priority in list" to control order of the databases from TBDS::dbList(), than control the loading order;</li>
<li> the "Work DB" configuration field changing disabled on the modification marking of all nodes;</li></ul>
<p>CONFIGURATION FILE
</p>
<ul><li> the configuration parameters and tables implementing in the common context of the TBDS::data{Seek,Get,Set}() functions;</li></ul>
<p>REFACTORING THE TCntrNode FLAGS
</p>
<ul><li> TCntrNode::{chldDel,nodeDis}() moved to direct use the new TCntrNode::EnDisFlag;</li>
<li> the flags TCntrNode::{NodeRemove,NodeRemoveOnlyStor} used everywhere of the function postDisable() checking and chldDel() call.</li></ul>
<p><b><u><span id="CommonSQL" title="#CommonSQL">CONCEPTUAL &gt; Significant Unification the Common SQL-code in the OpenSCADA Core</span> </u></b><br />
</p>
<ul><li> unification the table structure control by the structure item object TTable::TStrIt;</li>
<li> refactored, initially on SQLite, in the request lists form in the separate list variables;</li>
<li> common SQL-code moving to the functions: fieldSQLSeek(), fieldSQLGet(), fieldSQLSet(), fieldSQLDel();</li>
<li> declaration in the core for the service definitions, methods and functions to the common SQL-code: SEEK_PRELOAD_LIM, tblStrct, seekSess, connRes, fieldFix(), getSQLVal(), setSQLVal();</li>
<li> the fieldFix() appended an argument "langLs" of specifiyng need languages instead the argument "trPresent";</li>
<li> propagating in such way of the last MULTILANGUAGE support code in DB.SQLite.</li></ul>
<p><b><u><span id="MessTr" title="#MessTr">CONCEPTUAL &gt; Messages Translation</span> </u></b><br />
TFunction::IO object appended the flag IO::TransltText of marking the translate String IO directly:
</p>
<ul><li> the types "String (translate)" and "Text (translate)" appended in: template object of DAQ-Parameter, TFunction object of DAQ.JavaLikeCalc, UI-Attributes of UI.VCAEngine;</li>
<li> the flag TFld::TransltText used in: value getting of TValue of DAQ-Atributes, DAQ-Attributes translation of DAQ.{LogicLev,ModBus,OPC_UA,Siemens}, UI-Attributes translation of UI.VCAEngine;</li>
<li> set to the type "String (translate)" for: the field "colDscrCustNames" of wlb_Main.{alarmsAct,alarmsSt}.</li></ul>
<p>Expanding by the language for the execution environment of the user functions of the OpenSCADA object, for functions like to strftime():
</p>
<ul><li> the object TCntrNodeObj, the function TCntrNode::objFuncCall() and TConfig::objFunc() expanded in the argument "user" renaming to "user_lang" with pointing language in the second line;</li>
<li> DAQ.JavaLikeCalc: the TCntrNodeObj execution appended of the language;</li>
<li> SYS.strftime() appended of execution from the pointed language-locale.</li></ul>
<p>TUIS,UI.{QTCfg,Vision}: docGet() expanded by the language in the second line.<br />
FIX: The "Translations" tab expansion and fixing for:
</p>
<ul><li> the option "check for mismatch (TrChkUnMatch)" renamed to "check/fix (TrChkAndFix)" and expanded of the translation fixing functions: by propagation the translations to empty sources, clearing the double to base translations, merging the base messages as the translations;</li>
<li> information of the non matching was appended in the second message text;</li>
<li> the translation management table appended of the user functions "Split item" and "Remove from Trs";</li>
<li> the translation status appended of the short labels "SINGLELANGUAGE", "MULTILANGUAGE", "MULTILANGUAGE-DYNAMIC"; the message index; size of the cache and the translation context;</li>
<li> the base language configuration field of the MULTILANGUAGE modes expanded by list the project locales separated by ";".</li></ul>
<p>FIX: Expansion the Data Messages Translation in the tree modes: SINGLELANGUAGE, MULTILANGUAGE and MULTILANGUAGE-DYNAMIC:
</p>
<ul><li> the user language obtaining unified in the function lang2Code(), expanded by the arguments "user" and "onlyUser";</li>
<li> the lang2CodeBase() function separated to the common one langBase() and appended the function langToLocale() of obtaining the complete locale at language from langBase();</li>
<li> the language field of the objects TSYS, TUser appended of the selection list from langBase();</li>
<li> FIX: the TMess::mRes lock renamed to TMess::trMessIdxRes and limited in use only for TMess::trMessIdx;</li>
<li> the translation cache significant extending and unification:
<ul><li> in the new TMess object's functions translCacheGet(), translCacheSet(), translCacheLimits() and the own lock trMessCacheRes;</li>
<li> extended by the message category for caching the system translations and users;</li>
<li> the cache limiting also appended by the time limit variable "limCacheIts_TM" for what it checked in the service task.</li></ul></li>
<li> appended for the translation context at the new function TMess::trCtx() and the object TrCtxAlloc for handling the context registration as user and language bound to the call thread:
<ul><li> TCntrNode::cntrCmd(), Protocol.HTTP, UI.{Vision,WebVision,WebUser,WebCfg,WebCfgD} attached to use the translation context.</li></ul></li>
<li> synchronized in the system prestored and the dynamic-data setting messages;</li>
<li> the DB type-module objects were appended by the specific information field "Features" of specifying the supported by DB features;</li>
<li> FIX: complete disabling the translation and registering in the message index at the loading for generic TConfig nodes with the JavaLikeCalc procedure text and a deprecated flag of enabling that procedure whole translation;</li>
<li> UI.QTCfg: the tree update enabled for the root page updation through the reconnection and the tree update at the user change; enabled for using the system language in the SINGLETRANSLATION mode for remote connections;</li>
<li> FIX:UI.VCAEngine: the project styles moved under a new storing table "{DB_TBL}_stls" and its structure with translation;</li>
<li> UI.{WebCfg,WebCfgD}: Generically adapted to the dynamic translation in the MULTILANGUAGE-DYNAMIC mode, using the HTTP-variable "lang", the user language and browser language;</li>
<li> the <a href="../en/Create_multi_language_project.html" title="Special:MyLanguage/Documents/How to/Create multi language project">How to "Create multi language project"</a> document was created.</li></ul>
<dl><dd> PRIMARY PROJECT OBJECTS</dd></dl>
<ul><li> implemented for the base message and its translations mark as fuzzy - "&lt;!&gt;" in the text end at changing, and warning the translation removing;</li>
<li> accessing the dynamic translation moved under the new functions trD()-&gt;TMess::translGet() and trDSet()-&gt;TMess::translSet(): TArchives,TDAQ,TTypeDAQ,TController,TParamContr,TFunction,TPrmTmpl,TTransports,DAQ.{BlockCalc,JavaLikeCalc};</li>
<li> appended in the dynamic translation for:
<ul><li> DAQ-attributes name-description postranslation after the system translation and translation in the context help;</li>
<li> DAQ-attributes translation in the UserAPI functions: get(), set(), descr();</li>
<li> DAQ.JavaLikeCalc: names setting part of the execution form moved to itself;</li>
<li> Protocol;{ModBus,OPC_UA,UserProtocol},UI.{VCAEngine,WebUser}.</li></ul></li>
<li> adapted commonly to the new changing conception in the MULTILANGUAGE-DYNAMIC mode through "{base}\000{lang}\000{mess}";</li>
<li> appended and used for a new function translIdxCacheUpd() of updating the operative translation messages' index and cache in the MULTILANGUAGE-DYNAMIC mode for the SET command;</li>
<li> appended of the translation copy in the SQL INSERT command and for the MULTILANGUAGE-DYNAMIC mode;</li>
<li> the configuration file appended of the MULTILANGUAGE-DYNAMIC mode support.</li></ul>
<dl><dd> INDIVIDUAL MESSAGES - "Trs"</dd></dl>
<ul><li> UI.VCAEngine: appended of changing the storage just after the widget procedure compile for placing of the dynamic messages translation to the project storage;</li>
<li> the transitive dynamic translation prevented in appending the table "Trs" for messages available in other sources, so checking the message index before;</li>
<li> appended for filtering the messages for they translatability before registering.</li>
<li> LibsDB.vcaBase:
<ul><li> wlb_Main.ElViewGraph: enabled for the transitive translation in the tooltip and for the parameter description;</li>
<li> wlb_Main.objProps: enabled for the transitive dynamic translation;</li>
<li> wlb_Main.storeHouse: significantly expanded for the specific fields, ordering the columns, appending of the highlighting rules for column values with filter index or list, fixed in whole work.</li></ul></li></ul>
<dl><dd> SYSTEM MESSAGES</dd></dl>
<ul><li> implemented for a function of prestoring system messages translation trS(), where the base message just return with the catalogue information, that is "{base}\000{cat}" and what is translated really in the call _() — in the background there is used Mess-&gt;I18N(), but for the specific language code mess_PreSave="&lt;PSV&gt;";</li>
<li> the system translation function TMess::I18N() was attached to the messages cache;</li>
<li> the TFld and IO objects expanded in work with the prestoring system messages;</li>
<li> module info fields adapted to the MULTILANGUAGE-DYNAMIC mode;</li>
<li> adaption to the postranslation for the User API function TConfig::cfg() in the translatable strings;</li>
<li> UI.{QTCfg,Vision}: adapted to the control items obtain in language of the user and update the main window interface language at it change;
<ul><li> UI.Vision: appended in updation the toolbars at the user change, what also adapted for the dynamic translation; all development dialogs adapted for the dynamic translation.</li></ul></li>
<li> UI.{QTStarter,QTCfg,Vision}: appended for the system Qt-messages translation relating to the selected user language, through the common application property "lang" for the Qt-translation reimplemented function QTranslator::translate(), and then the language commonly switched by the last interface and for all opened; the Starter Menu set for dynamic translation and updating.</li></ul>
<p><b><u><span id="MessSubLev" title="#MessSubLev">CONCEPTUAL &gt; Message Sublevels {Main}[0...9] and Unification for the User Messages Transferring</span> </u></b><br />
</p>
<ul><li> generic adaption to sublevels {Main}[0...9] of the main message levels [0...7];</li>
<li> DAQ,DAQ.DAQGate: the function TController::messSet() appended of the messages transferring from the top to the down, so sinking down, making the function virtual one and redefine that in DAQGate, and defining also the new OpenSCADA control service request of the TController object "set:/serv/mess";</li>
<li> DAQ: specified for <a href="Program_manual.html#ArchMess" title="Special:MyLanguage/Documents/Program manual">the DAQ-transparency messages</a> in the category form "{TP}{ModId}:{CntrId}[.{prm}][:{spec}]", appended of such messages creation function TController::messSet() and the User API functions SYS.DAQ["Modul"]["Controller"].messSet(), SYS.DAQ["Modul"]["Controller"]["Parameter"].messSet();</li>
<li> LibsDB.vcaBase:
<ul><li> wlb_Main.{ElCadr,TextLab,ImgLab,cntrRegul},mnEls.{El_Kran_Sh,Compressor}: adapted for the user action messages forming by the new DAQ-function messSet() with the unified category structure for transferring between OpenSCADA stations of different levels;</li>
<li> wlb_Main.{alarmsAct,alarmsSt}: adapted to process of sublevels of the main levels with coloring all the levels; expanded by the new user field "Type" as name of the alarm level from the new configuration attribute "types";</li>
<li> wlb_doc.{docUsersSet,docAlarmsRep}: appended in the DAQGate source complete scanning for whole transferring hierarchy;</li>
<li> wlb_Main.alarmsSt,wlb_doc.{docMessRep,docAlarmsRep}: adapted to the transferred messages by DAQGate;</li>
<li> wlb_Main.{alarmsSt,alarmsAct},wlb_doc.docMessRep: improved in the DAQGate source complete scanning for whole transferring hierarchy, also for user actions (OP);</li>
<li> wlb_Main.TextLab: optionally enabled for the transitive translation in the status text which often comes from some DAQ-source.</li></ul></li></ul>
<p><b><u>OpenSCADA libraries and projects</u></b><br />
</p>
<ul><li> FIX:LibsDB.{OscadaLibs,vcaBase,vcaTest},{AGLKS,Boiler}.*: Appended, cleaned and fixed for the multilanguage messages by applying the new translation fixing mechanisms.</li>
<li> LibsDB.vcaBase,AGLKS.vca,Boiler.St: All project styles moved under a new storing table and its structure with translation.</li>
<li> FIX:LibsDB.vcaBase:
<ul><li> FIX:wlb_Main.{alarmsAct,alarmsSt}: The default sorting at the field of the alarm time set back to "1" as not default descending order. wlb_Main.alarmsAct: Appended for the field "messCat" of specifying the alarm categories.</li>
<li> wlb_Main.{ElViewGraph,graphSelPrm}: Adapted to reset the trend item color to the default styled at setting that to empty; appended of the empty color processing as the default one also taken from the style.</li>
<li> FIX:wlb_Main.RootPgSo: Appended of complete updating at the user change, but language also can be changed, and the language.</li></ul></li>
<li> LibsDB.OscadaLibs: The "DB" field content and the table base ID of UserFuncLibs.{techApp,servProc,Controller} renamed to the standard one "flb_techApp", "flb_servProc", "flb_Controller" respectively.
<ul><li> tmplib_base.{anUnif,anUnifSt,digAlarm,codeState}: Adapted to the syntax highlight builtin of the input preprocessing procedure.</li>
<li> tmplib_base.digAlarm: Expanded in the common attribute DESCR using for the specific parameters redefinition by the new fields "CustomFlds".</li>
<li> tmplib_base.anUnif: Expanded in the common attribute DESCR using for the specific parameters redefinition by the new fields "CustomFlds" and "CustomAlarms". Appended of the user procedure option "toSave" of force saving the object at the exit.</li></ul></li>
<li> flb_servProc.docOffLine: Expanded for the index page accessing from any other pages.</li></ul>
<p><b><u>API</u></b><br />
<i>!!!!:Changes</i>:
</p>
<ul><li> SYS: TCntrNode::{chldDel,nodeDis}() moved to direct use the new TCntrNode::EnDisFlag: NodeNoFlg, NodeRemove, NodeRemoveOnlyStor; and the space after &gt; 0x100(TCntrNode::NodeSpecific) was reserved for the node specific, where the TParamContr::EnDisFlag set only to NodeRemove_NoArch and Widget::EnDisFlag set only to Widget::{NodeRemove_NoDelMark,NoContainer}. TCntrNode::Flag items renamed SelfModify-&gt;Modified, SelfModifyS-&gt;ModifiedS, SelfSaveForceOnChild-&gt;SaveForceOnChild.
<ul><li> Storage object's functions DB(), fullDB() and setDB() expanded of the argument "qTop".</li>
<li> The subsystem name moved to the function subName() call and which set "virtual" and "constant", also as subVer() and subId().</li>
<li> The description field type of the TFld object and the name field of the IO object changed to "string".</li>
<li> Result of TCntrNode::nodeNameSYSM() changed to "string".</li>
<li> TMess: The lang2CodeBase() function separated to the common one langBase() and appended the function langToLocale() of obtaining the complete locale at language from langBase().
<ul><li> The function lang2Code() expanded by the arguments "user" and "onlyUser".</li>
<li> I18N() changed in the arguments for "const string &amp;mess" the first and mLang moved to the second, it result changed to "string", also for TModule::I18N(), and updated all definitions _().</li>
<li> The data translation functions (short definitions) renamed to trD_L(), trD_U(), trD_LU(), trDSet_L(), trDSet_U(), trDSet_LU().</li>
<li> Removed for I18Ns().</li>
<li> labStorGen() merged to labStor() and that labels labStor(), labSecCRON(), labSecCRONsel(), labTaskPrior(), labMessCat() type changed to "string"; appended of the label labStorGen().</li>
<li> lang2Code() and lang2CodeBase() renamed to langCode() and langCodeBase() respectively for starting the adaption to the language code more than 2 symbols.</li></ul></li>
<li> Security: The static method "pHashMagic" moved to the definition SEC_HASH_MAGIC.</li></ul></li>
<li> DB: The functions TBDS::{open,close}() renamed to TBDS::{tblOpen,tblClose}() and set to static ones.
<ul><li> TBDS::{dataSeek,dataGet,dataSet,dataDel,genDBGet,genDBSet}() moved to the bit flags TBDS::ReqGenFlg (renamed from TBDS::ReqGen): NoFlg, NoException, OnlyCfg, UseTranslation (renamed from ReqGen::UseTranslation), UseCache, UseAllKeys.</li>
<li> TBDS::dbList() moved to the bit flags TBDS::DBLsFlg: LsNoFlg, LsCheckSel, LsInclGenFirst.</li>
<li> The functions moved as static ones: TBDS::{dbList,dataSeek,dataGet,dataSet,dataDel,dataDelTbl}(), TBDS::{fullDBSYS,fullDB}().</li>
<li> The generic parameters accessing functions TBDS::genDBGet() and TBDS::genPrmSet() renamed to genPrmGet() and genPrmSet() everywhere.</li></ul></li>
<li> DAQ: TTypeDAQ::compileFuncSynthHighl() renamed to TTypeDAQ::compileFuncSnthHgl() in a way of the name unification.</li>
<li> Archives-History: Definitions of the archive specific names renamed for BUF_ARCH_NM, ALRM_ARCH_NM, ALRM_ARCH_CH_NM to ARCH_BUF, ARCH_ALRM, ARCH_ALRM_CH; and appended for ARCH_NOALRM ("&lt;noalarms&gt;").</li></ul>
<p><i>Appends</i>:
</p>
<ul><li> SYS: The global short functions appended of s2l() and s2u().
<ul><li> Appended of a new function strParseEnd() of parsing the separated string from the end.</li>
<li> The function pathLev() appended of a new argument of position the offset to the next token begin and what also appended in the UserAPI function parsePath() of DAQ.JavaLikeCalc.</li>
<li> TCntrNode appended of the functions storage() and setStorage() for tracking the availability of node data. TCntrNode::Flag appended of the item LoadForcibly. TCntrNode::modif() and TCntrNode::modifG() appended of a new argument "forceLoad".</li>
<li> The time limit variable "limCacheIts_TM" appended for the cache limiting.</li>
<li> The common encoding function strEncode() and the User API one appended the variant "ShieldBin" of shield the binary symbols [\x0-\x8\xB-\xC\x0E-\x1F].</li>
<li> TMess: Appended for a function of checking the messages for them translatability — isMessTranslable().
<ul><li> Appended for functions of managing the translation cache: translCacheGet(), translCacheSet(), translCacheLimits() and the own lock trMessCacheRes. Appended for a function translIdxCacheUpd() of updating the operative translation messages' index and cache, and functions translItSplit(), translItRemTrs() of the items splitting and removing from Trs.</li>
<li> Appended for the translation context at the new function trCtx() and the object TrCtxAlloc for handling.</li>
<li> Appended for the data translation trD()-&gt;translGet() and trDSet()-&gt;translSet().</li>
<li> Appended for the prestoring system messages translation trS(), as an other link to I18N().</li>
<li> Appended for the function messLevelTest().</li>
<li> The TMess::Type structure appended of an item "MaxLev" of the maximum message types/levels specifying.</li>
<li> The TMess definitions appended of mess_PreSave="&lt;PSV&gt;" and mess_TrModifMark="&lt;!&gt;".</li></ul></li>
<li> XMLNode: Appended of the new saving option BinShield(0x400) for controllable shield the binary symbols [\x0-\x8\xB-\xC\x0E-\x1F].</li>
<li> TConfig,TCfg: Expanded for new parameters TConfig::{trcSet,setTrcSet}(), TCfg::{isSet,setIsSet}() of detection the configuration field changing and using in the partial DB-loading instead toDefault(); and TConfig::{noTransl,setNoTransl}() for global setting the structure default translation. TCfg::setExtVal() function appended an argument "toOne".</li>
<li> TError: codes appended of: DB_TrRemoved (22) for mark the translation removing in DB, DB_ReadOnly (23) introduced by SQLite at the unification process, Core_NoNode (5) of the TCntrNode missing, Tr_ErrTransport (12) for the transport errors mark, Tr_ErrResponse (13) and Tr_ErrDevice (14) for more specific transport errors.</li></ul></li>
<li> DB: The TBDS::realDBName() appended of the back conversion argument.
<ul><li> The static methods of TBDS appended of the new function dbPart() of getting the storage address parts and appended of a new function dataDelTbl() of the common tables removing, also in the Configuration File.</li>
<li> Appended for the structure item object TTable::TStrIt.</li>
<li> Common SQL-code moving to the new functions: TTable::fieldSQLSeek(), TTable::fieldSQLGet(), TTable::fieldSQLSet(), TTable::fieldSQLDel(); with the flags TTable::SQLReqFlag: SQLNoFlg, SQLOrderForSeek, SQLFirstSkipForSeek.</li>
<li> Declaration in the core for the service definitions, methods and functions to the common SQL-code: SEEK_PRELOAD_LIM, tblStrct, seekSess, connRes, fieldFix(), getSQLVal(), setSQLVal().</li>
<li> Appended of the list priority specifying functions TBD::lsPr(), TBD::setLsPr() and virtual one TTypeBD::lsPr().</li>
<li> Appended of <a href="Program_manual.html#DBFeat" title="Special:MyLanguage/Documents/Program manual">the DB features</a> specifying virtual function TTypeBD::features().</li></ul></li>
<li> DAQ: TFunction::IO object's structure IO::IOFlgs appended the flag IO::TransltText of marking the translate String IO directly.
<ul><li> The function {TController,TParameter}::messSet() appended of the messages transferring from the top to the down, and also the User API functions SYS.DAQ["Modul"]["Controller"].messSet(), SYS.DAQ["Modul"]["Controller"]["Parameter"].messSet().</li>
<li> The TCntrNodeObj appended of the function lang() obtained from the second line of the common method mUserLang.</li>
<li> The User API functions appended of the function funcSnthHgl() in the DAQ module object and for obtaining the syntax highlight rules of the module and language.</li></ul></li>
<li> Archives-History: Appended of the function "void TArchives::messPut( const TMess::SRec &amp;rec, const string &amp;arch = "" )" variant.</li>
<li> Transports: Appended of the new function extHostSeek().</li>
<li> UI: Appended of the Configuration File option "FontSnthHglCode" and the corresponded functions TUIS::fontSnthHglCode() and TUIS::setFontSnthHglCode().
<ul><li> VCAEngine:
<ul><li> The User API functions mime() and mimeSet() appended of the correct equivalents resource() and resourceSet().</li>
<li> The Project object appended a Control Interface service request "read:/serv/access", of checking the read access.</li>
<li> The Control Interface service request "get:/prm/cfg/prj" appended an option "noName" for preventing the project name request.</li></ul></li></ul></li></ul>
<p><b><u>SYS</u></b><br />
</p>
<ul><li> FIX:Building: configure.ac: Core library version rose to 3:12:0 and the program version rose to 0.9.5.
<ul><li> The module version of the subsystem "BD" rose to 15, the subsystem "DAQ" rose to 14.</li>
<li> The Debian 11 root file systems (chroots) are appended for build OpenSCADA; appended for build to Ubuntu 22.04 LTS and Debian 11 ARM64; and Maemo 5 (Nokia N900) removed since the compiler crashes now constantly in several places.</li>
<li> data/*.xml: The TBDS Generic parameter "SYSStPref" removed.</li>
<li> SYS,data/ModelsDB/{AGLKS/oscada_AGLKS.xml,Boiler/oscada_Boiler.xml}: The configuration parameter "Lang2CodeBase" renamed to "LangBase" with support "Lang2CodeBase" up to the 1.0 release.</li></ul></li>
<li> The source code messages and program documentation:
<ul><li> The "<a href="Quick_start.html" title="Special:MyLanguage/Documents/Quick start">Quick start</a>" manual completely revised and actualized for the last LTS changes, and also included the new section "Execution the ready OpenSCADA project in the service-background space" into own section "<a href="Quick_start.html#Demon" title="Special:MyLanguage/Documents/Quick start">Background and remote execution — server, PLC execution environment and remote development</a>".</li>
<li> The "<a href="Program_manual.html" title="Special:MyLanguage/Documents/Program manual">Program Manual</a>" document appended of the new section "<a href="Program_manual.html#Service" title="Special:MyLanguage/Documents/Program manual">Execution the ready OpenSCADA project in the service-background space</a>" and revised in the section "<a href="Program_manual.html#Startup" title="Special:MyLanguage/Documents/Program manual">Startup and execution</a>".</li>
<li> New document of the How to "<a href="../en/Create_multi_language_project.html" title="Special:MyLanguage/Documents/How to/Create multi language project">Create multi language project</a>" appended for downloading to offline.</li>
<li> The whole source code labels like to&nbsp;????,&nbsp;!!!!,&nbsp;?!?! and they comments were revised.</li>
<li> The language Russian,Російська,Российский renamed to its true name mRussian.</li>
<li> UI.{VCAEngine,Vision}: The "Mime data" renamed to "Resources" and "Mime type" to "MIME".</li></ul></li>
<li> <span id="MessRedundTr" title="#MessRedundTr">.,DAQ.DAQGate</span>: The messages redundancy and messages transferring in DAQ.DAQGate limited for depth of the requesting messages up to the restoring time or one hour.
<ul><li> The archivers redundancy and DAQ.DAQGate switched in the initial messages requesting to:
<ul><li> request the active alarms;</li>
<li> request the archive in deep and up to the alarms requesting time, without the alarms activation;</li>
<li> ordinal-periodic request of the last messages, without the alarms activation.</li></ul></li></ul></li>
<li> Protocol.HTTP,UI.{WebCfg,WebCfgD,WebUser,WebVision}: Appended of the previous user detection to mark that actions for HTTP-modules with moving the previous user authentication session closing after successful the new one.
<ul><li> All the HTTP-modules adapted to the user field in the HTTP-functions with the previous user in the second line.</li>
<li> FIX:WebVision: The previous user is used now for detection of the user change between the ordinal users and for single session, than prevent to create new sessions.</li></ul></li>
<li> Expanding the binary symbols [\x0-\x8\xB-\xC\x0E-\x1F] shielding:
<ul><li> XMLNode: Appended of the new saving option BinShield(0x400) for controllable shield the binary symbols [\x0-\x8\xB-\xC\x0E-\x1F], what is significant for the WebBrowsers.</li>
<li> UI.{WebCfgD,WebVision}: Appended of encoding the XML traffic for the binary symbols shielding using the new option "BinShield".</li></ul></li>
<li> FIX: strParse() rewrote and tested in processing the group symbols merging at the scan; and strParse(), strLine(), pathLev() in position the offset to the next token begin and limiting in the down for 0; and pathLevEnd() in positioning the offset to the next token end and limited in the up for the size. TModSchedul::chkAllowMod(),UI.QTCfg,Protocol.HTTP: switched in use TSYS::pathLevEnd() and  TSYS::pathLev() in the new behaviour.</li>
<li> Force loading appended of the errors suppression for not modified nodes before that operation.</li>
<li> .,DB,DAQ: The global configuration context copying mechanism (interstation) appended for the marking link to the last setting operation object, to easy postmarks setting.
<ul><li> DAQ: As a postmark to the saving DAQ-parameter object there appended the attribute "prmTp" with the parameter type, which is used next in true detection the parameter type changing at the following loading.</li></ul></li>
<li> .,UI.{QTCfg,WebCfgD}: The OpenSCADA Control Interface for Tables expanded by the user commands.</li></ul>
<p><b><u>DB</u></b><br />
</p>
<ul><li> FIX: The TBD object appended an internal flag "mIsFirst" of control the object first enable and what used to prevent of the table "Trs" registering at each enable-connection-reconnection.</li>
<li> FIX: The TBDS::dataDel() fixed-appended in removing multiple items and appended of removing the empty table nodes of the Configuration File.</li></ul>
<p><b><u>DAQ</u></b><br />
</p>
<ul><li> FIX: The controller objects manual start defined for some specific hot doings of the object enabling, when the doing was prevented from call twice at the normal start:
<ul><li> DAQGate: resync the remote source data at the sync period &gt;= 0;</li>
<li> ModBus: force reformation of the acquisition blocks;</li>
<li> OPC_UA: force reformation of the monitored items list;</li>
<li> Siemens: force reformation of the acquisition blocks.</li></ul></li>
<li> The "Return" type IO of the TFunction object was set to ReadOnly in the manual execution tab.</li>
<li> FIX:<span id="DAQGate" title="#DAQGate">DAQGate</span>: Appended of the asynchronous writing mode implementation. The configuration field of the remote stations selection moved in simple combobox. The controller object status appended of the counters of read/archive's/wrote values, read messages and the writing buffer status.
<ul><li> FIX: Fixed in reusing parameters with empty address for included ones and appended for clearing the address at the parameters copy.</li>
<li> FIX: Unified in the sync commonly and fixed in the attributes sync, with preventing in constantly sync of the missed on remote host parameters.</li></ul></li>
<li> FIX:JavaLikeCalc: Prevented in some resources lock of the library function at its program change, when performed the program compile at disabled function.</li>
<li> Siemens: Appended of the new option "Maximum size of the request block, bytes" of specifying the maximum requesting block.</li></ul>
<p><b><u>Transports</u></b><br />
</p>
<ul><li> The UpRiseLev stations splited in the requesting transport per the first host of the "reforwardHost" address, than preventing the common connection hung at long connection to very far reforward missing station.</li>
<li> <span id="SSL" title="#SSL">SSL</span>: Both input and output parts appended of the possibility to point the certificates and the key directly from an external file. Appended for reloading the certificates file of the input transport at it change by the transport reconnect.</li></ul>
<p><b><u>Transport Protocols</u></b><br />
</p>
<ul><li> FIX:HTTP: Fixed in reading the "accept-language" HTTP variable only as the two symbol language code, then the common interface is translated also now on FireFox who sends there the country code also.</li>
<li> FIX:SelfSystem: In the input part switched to load the whole input message before checking the auth information, then preventing for strange error messages "Error the command format." for the message tail.</li></ul>
<p><b><u>User Interface</u></b><br />
</p>
<ul><li> VCAEngine,Vision,WebVision: The "openlist:/serv/pg" control request appended in the attribute "pgGrp" (group) of the opened page for detection several pages open in one container then open last one and close previous ones, to prevent mostly the included pages all close and allow of specifying-override the need pages open.
<ul><li> <span id="Vision" title="#Vision">Vision</span>: Refactored also for early opening the restored and specified pages in the init procedure.</li></ul></li>
<li> QTStarter,WebVision,WebCfgD: Qt part, in the generic Qt Library, and Web appended for the table edition text apply at Enter and new line at Ctrl+Enter.</li>
<li> FIX:QTCfg,Vision: Prevented from hangs at stopping from a termination signal, from the console mostly, since locking the main Qt thread in modStop() without qApp-&gt;processEvents().</li>
<li> QTCfg: The text fields appended of checking and activation the builtin syntax highlight rules from the XML-tag "SnthHgl". The Tables appended of finding for pointed strings.</li>
<li> <span id="VCAEngine" title="#VCAEngine">VCAEngine</span>:
<ul><li> Finishing of implementing the changes obtaining in the runtime mode by the clocking cycles through, after observing the race condition on the attributes changing, which cause to do not update the value on visualizers:
<ul><li> rewrote for the modification control mechanism;</li>
<li> specifying the forming and fixed cycles;</li>
<li> reducing the main calculation clock to uint16;</li>
<li> dividing the changes clock value of attributes and the widget commonly to the forming (uint16) and the fixed (uint16) = uint32;</li>
<li> processing the changes clock value both at the modification and reading-checking;</li>
<li> support of reloading the main calculation clock and clearing the old changes clock value;</li>
<li> preventing the empty cycles for the common widgets requesting;</li>
<li> removed for code of the previous slide current mark mechanism of the attributes changing detection with the doubles.</li></ul></li>
<li> The Widget copy operation appended of copying the used widget resources (the Image type now only), and in that way there performed.</li>
<li> FIX: The "&lt;deleted&gt;" mark setting for the removed inherited included widgets moved to the save function of the container widget, since that is lost at the copy operations and now you can easy undo/redo such widgets removing.</li>
<li> FIX: Fixed in the mime data copy at the widget libraries and the projects copy, moving the copy to the copy save, with expanding the mime operations for work with completely specified DBs.</li>
<li> FIX: Prevented in the attribute values inheriting for the output links, then do not write to DAQ the obviously wrong values at the hot edition of running projects and their items.</li></ul></li>
<li> FIX:Vision: Fixed, or finished the implementation, for UNDO/REDO the removing operation of the inherited included Widgets of the Project Pages.
<ul><li> Adjusted in the focus policy to the UI.WebVision way and appended the focus force clearing at lost, to prevent the widget focus return at window activation, so you can use now the event "ws_FocusIn" in opening external subwindows.</li>
<li> The child widgets selection conception at the visual editing of the development mode was unified and fixed in a new part "Visual editing" of <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">the UI.Vision module documentation</a>.</li>
<li> Requesting of the widget attributes' values of the developed widget moved to a single big request, than the remote development is become much faster.</li></ul></li>
<li> FIX:WebVision: The session methods mUser and mUserOrig moved under the data mutex lock, due to there can be crashes at active user manipulations.
<ul><li> FIX: The view "Combo" of the type "Line" and the types "List" and "Combo" appended of creation value items missed in the selection list.</li>
<li> FIX: The popup windows of the calendar and editable combo appended of the geometry check than preventing the main window overflow; and the popup windows closing moved completely at a mouse button press outward the window, together other popup menus.</li>
<li> FIX: Improved and fixed in usability the view Table of the primitive FormEl and mostly in the text edition: true width fitting and minimum height setting to 40 pixels, FIX: fixed in specifying the column sorting value "0" as ascending-default and "1" as descending from the top, like to the UI.Vision behaviour and the numbers (integer,float) sort-comparing was implemented separately.</li>
<li> Appended for the FrontEnd status display in the session status field with that requesting-scheduling at display the field.</li></ul></li></ul>
<h4><span class="mw-headline" id="Service_updates"><span class="mw-headline-number">7.1.1</span> Service updates</span></h4>
<ul><li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2862" rel="nofollow noreferrer noopener" target="_blank">the fifth (5) at 03.12.2022</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2855" rel="nofollow noreferrer noopener" target="_blank">the fourth (4) at 23.10.2022</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2849" rel="nofollow noreferrer noopener" target="_blank">the third (3) at 03.09.2022</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2843" rel="nofollow noreferrer noopener" target="_blank">the second (2) at 08.08.2022</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2839" rel="nofollow noreferrer noopener" target="_blank">the first (1) at 24.07.2022</a>.</li></ul>
<h3><span class="mw-headline" id=".5B14.06.2021.5D_.D0.A7.D0.95.D0.A2.D0.92.D0.81.D0.A0.D0.A2.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">7.2</span> [14.06.2021] ЧЕТВЁРТОЕ обновление</span></h3>
<p>Это обновление <a href="Release_0.9.html" title="Special:MyLanguage/Documents/Release 0.9">релиза 0.9 LTS</a> исправляет около 45 ошибок и добавляет некоторые улучшения, которые целиком вы можете почитать в <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2758" rel="nofollow noreferrer noopener" target="_blank">протоколе изменений обновления</a>.
</p>
<div style="float:right; border:1px solid gray; width:300px; padding:2px; margin-left: 10pt; margin-bottom: 10pt;">
<p>Переведено в счёт пакета ТП <a class="external text" href="http://e-beam.ru" rel="nofollow noreferrer noopener" target="_blank">Лаборатории Вакуумных Технологий</a> 
</p>
</div>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> <b><u>Важные действия пользователя по обновлению</u></b><br />
</p>
<ul><li> FIX:SYS: Общее конфигурационное поле "WorkDir" предотвращено от маркирования как модифицированное при переключении проекта, чем и от сохранения в конфигурационном файле, но отсутствует механизм автоматического удаления этого поля из конфигурационного файла старых проектов.</li></ul>
<dl><dd> <b><span style="color: red">=</span></b>&gt; удалите вручную общее конфигурационное поле "WorkDir" если оно появилось там ошибочно и вы имеете проблемы использования каталогов чужих проектов этим проектом.</dd></dl>
<p><b><u>Новые и значительно обновленные части</u></b><br />
</p>
<ul><li> Ядро OpenSCADA: 3:9:0 =&gt; <b>3:10:0</b></li></ul>
<dl><dd> (<a href="#Translations">ревизия механизма переводов</a>)</dd></dl>
<ul><li> Подсистема "Транспорты" OpenSCADA: 17 =&gt; <b>18</b></li>
<li> {DAQ,Protocol}.OPC_UA,libOPC_UA: 1.7 =&gt; <b>2.1</b>, 1.10 =&gt; <b>2.1</b>, 1.2 =&gt; <b>2.1</b></li></ul>
<dl><dd> (<a href="#OPC_UA">дополнено реализацией сервиса Publish, поддержкой кусков (CHUNKS) на клиентской части Сбора Данных и общим пересмотром кода в этом процессе</a>)</dd></dl>
<ul><li> DAQ.ModBus: 2.12 =&gt; <b>3.1</b></li>
<li> DAQ.DAQGate: 2.2 =&gt; <b>2.3</b></li>
<li> DAQ.Siemens: 3.5 =&gt; <b>3.6</b></li>
<li> Transport.Sockets: 4.2 =&gt; <b>4.3</b></li>
<li> Transport.Serial: 2.5 =&gt; <b>2.6</b></li>
<li> Transport.SSL: 3.2 =&gt; <b>3.3</b></li>
<li> UI.WebCfgD: 1.5 =&gt; <b>2.0</b></li>
<li> UI.VCAEngine: 6.9 =&gt; <b>7.1</b></li>
<li> UI.QTStarter: 5.8 =&gt; <b>5.9</b></li>
<li> UI.QTCfg: 5.1 =&gt; <b>5.4</b></li></ul>
<dl><dd> (<a href="#Table">общий пересмотр и переделка таблиц</a>)</dd></dl>
<ul><li> UI.Vision: 7.7 =&gt; <b>7.13</b></li></ul>
<dl><dd> (<a href="#Table">общий пересмотр и переделка таблиц в Qt в целом и вида Таблица примитива FormEl СВУ</a>)</dd></dl>
<ul><li> UI.WebVision: 5.8 =&gt; <b>6.2</b></li></ul>
<dl><dd> (<a href="#Table">общий пересмотр и переделка таблиц вида Таблица примитива FormEl СВУ</a>)</dd></dl>
<ul><li> LibsDB.OscadaLibs.DevLib.IEC62056: 1.0 =&gt; <b>1.1</b></li>
<li> LibsDB.vcaBase.Main: 2.0 =&gt; <b>2.1</b>
<ul><li> storeHouse: <b>1.0</b></li>
<li> RootPgSo: 2.3 =&gt; <b>2.4</b></li></ul></li></ul>
<p><b><u>OpenSCADA библиотеки и проекты</u></b><br />
</p>
<ul><li> LibsDB.vcaBase,AGLKS.vca: Main.RootPgSo: Дополнено на предмет:
<ul><li> виджета "alarms" на основе примитива "Протокол" с возможностью включить/выключить;</li>
<li> добавления опциональной функции возврата к типовому пользователю после определённого времени неактивности в атрибуте "defUser";</li>
<li> переключено на неотносительный алгоритм вычисления вертикальной позиции и высоты главной мнемосхемы.</li></ul></li>
<li> LibsDB.OscadaLibs: DevLib.IEC62056: Переписано в синхронный режим (запрос-ответ) для работы нескольких устройств на одной последовательной шине.</li>
<li> LibsDB.vcaBase:
<ul><li> Библиотека "Основная" дополнена новой страницей реализации "Склада (storeHouse)".</li>
<li> Main.RootPgSo: Периодичность исполнения кадра поднята до 1000 миллисекунд после добавления ранней обработки событий. Значительным образом переключено с клавиатурных последовательностей "Ctrl+?" на "CtrlAlt+?".</li></ul></li>
<li> AGLKS.vca: Страница проекта /prj_AGLKS/pg_so/pg_4/pg_mn/pg_1 переименована в /prj_AGLKS/pg_so/pg_4/pg_mn/pg_CM101, как с другими.</li></ul>
<p><b><u>API</u></b><br />
<i>!!!!:Изменения</i>:
</p>
<ul><li> SYS: Функцию TSYS::curTime() дополнено аргументом определения источника часов с использованием функции clock_gettime(). Определение EVAL_RFlt дополнено суффиксом "f".</li>
<li> Mess: Функция перевода TMess::translSet() дополнена аргументом "srcFltr" фильтрации по источникам.</li>
<li> Транспорты: Функция протокола ВВ pushLogMess() дополнена аргументами "data" и "dataDir".</li></ul>
<p><i>Дополнения</i>:
</p>
<ul><li> Mess: Блокирование данных отделено от блокирования всех сообщений в dtRes.</li>
<li> SYS: Функции API пользователя дополнены функцией lang() быстрого получения системного языка.
<ul><li> Дополнено функцией TSYS::curTimeN().</li>
<li> .,DAQ.{LogicLev,ModBus,Siemens}: Дополнено и использовано глобальную постоянную DAQ_APER_FRQ представления частоты апериодических вызовов, вроде f_start, периодических процессов.</li></ul></li>
<li> Безопасность: Объект пользователя дополнен функцией Пользовательского API auth() для аутентификации по паролю.</li>
<li> Транспорты: Входные и выходные объекты транспортов дополнены атрибутами протокола ВВ: "mLogLstDt", "mLogLstDtTm".</li>
<li> DAQ: Объект DAQ-параметра дополнен информационным полем метки времени изменения с его максимальным значением на объекте контроллера, с помощью нового конфигурационного поля БД "TIMESTAMP" объекта параметра.</li></ul>
<p><b><u>Система</u></b><br />
</p>
<ul><li> FIX:Сборка:configure.ac: Версия библиотеки ядра увеличена до 3:10:0 и версия программы увеличена до 0.9.4.</li>
<li> Сообщения исходного кода и документация программы:
<ul><li> rom_as@oscada.org заменено на roman@oscada.org везде в исходниках.</li>
<li> Документ "Modules/OPC_UA" целиком отревизирован для версии модулей 2.1 и перевода.</li></ul></li>
<li> <span id="Translations" title="#Translations">Вкладка "Переводы"</span> несколько отревизирована, дополнена актуальным статусом, дополнена контекстной помощью и менеджер переводов дополнен на предмет:</li></ul>
<dl><dd><dl><dd><ul><li> ограничения времени формирования таблицы в prmInterf_TM (7 секунд);</li>
<li> конфигурационного поля пропуска количества верхних сообщений;</li>
<li> установки перевода только для фильтрованных источников;</li>
<li> проверки содержимого на совпадение только для фильтрованных источников;</li>
<li> пропуск ошибок отсутствия источников.</li></ul></dd></dl>
<ul><li> Функция перевода TMess::translSet() предотвращена от распространения групповых сообщений, изменённых не из менеджера перевода.</li></ul></dd></dl>
<ul><li> FIX:.,BD.LDAP,Archive.{DBArch,FSArch},DAQ.{ModBus,MMS},{DAQ,Protocol}.OPC_UA,UI.Vision: Несколько очищено от предупреждений сборки.</li>
<li> FIX: Определение EVAL_RFlt дополнено суффиксом "f" для предотвращения ошибочного сравнения double EVAL_RFlt с сохранённым float значением, исправляет работу архиватора Archive.FSArch с типами значений float при выявлении EVAL.</li>
<li> FIX:Mess: Блокирование данных отделено от блокирования всех сообщений в dtRes для предотвращения конкурентным блокировкам при активной работе с переводами. Атрибуты mLang2CodeBase, mLang2Code переключены на это новое блокирование.</li>
<li> data/openscada-proj.in: Переключено на ссылку содержимого Пользовательской LibsDB на системные библиотеки, с содержимым только на чтение, вместо копирования.</li></ul>
<p><b><u>Сбор Данных</u></b><br />
</p>
<ul><li> ModBus,Siemens: Переключено, в формирование значения "f_frq", на использование информации реального исполнения задачи.</li>
<li> <span id="OPC_UA" title="#OPC_UA">{DAQ,Protocol}.OPC_UA.{.,libOPC_UA} </span>: Дополнено реализацией сервиса Publish, поддержкой кусков (CHUNKS) на клиентской части Сбора Данных и общим пересмотром кода в процессе этого:</li></ul>
<dl><dd><dl><dd> <i>КЛИЕНТ</i>:</dd></dl>
<ul><li> добавление атрибутов (элементов мониторинга) перенесено из attrPrc() непосредственно в enable() и которая запускается при запуске объекта контроллера</li>
<li> ... и обработка элементов улучшена обновлением описания, флагов и связывания;</li>
<li> сбор данных унифицирован обработкой в функции параметра upVal()</li>
<li> ... и запроса значений функцией объекта контроллера getValMIt() с поддержкой Массивов</li>
<li> ... чем вплотную подготовлено для встраивание логического типа параметров;</li>
<li> объекты параметров Сбора Данных автивированы для включения других параметров;</li>
<li> установка и удаление EVAL ко всем атрибутам проверено во всех режимах;</li>
<li> структурные переменные, в просмотрщике выбора DAQ-параметра, разрешены для выбора их элементов отдельно;</li>
<li> разбор перечня переменных DAQ-параметров установлен в полный разбор с пропуском пустых строк;</li>
<li> объект DAQ-контроллера дополнен закрытием сеанса и безопасного канала при его останове;</li>
<li> общий статус объекта контроллера дополнен детализированной информацией на предмет использованного канала безопасности, сеанса, подписки и обрабатываемыми элементами мониторинга;</li>
<li> блокирование запроса переименовано в resOPC.</li></ul>
<dl><dd> <i>СЕРВЕР</i>:</dd></dl>
<ul><li> объект OPC-UA Сервера дополнен вкладкой общего статуса сервера с информацией на предмет активности каналов безопасности;</li>
<li> объект Узла EndPoint дополнен общим статусом с информацией на предмет активности сеансов и подписок, а также периодичностью и временем исполнения задачи подписок.</li></ul>
<dl><dd> <i>БИБЛИОТЕКА</i>:</dd></dl>
<ul><li> унифицировано и определено типовое значение времени жизни канала безопасности, которое установлено в 300000 мс;</li>
<li> типовой LifeTimeCounter подписок установлен в 2400;</li>
<li> объект NodeId дополнен функцией прямого сравнения operator==();</li>
<li> функция XML_N::childClear() дополнена результатом возврата того самого объекта XML_N для объединения;</li>
<li> функция curTime() дополнена аргументом определения источника часов с использованием функции clock_gettime();</li>
<li> короткие функции дополнены str2int() и str2uint();</li>
<li> некоторые поля переименованы: publInterv в publInterval, cntrLifeTime в lifetimeCnt, cntrKeepAlive в maxKeepAliveCnt, maxNotPerPubl в maxNtfPerPubl, en в publEn;</li>
<li> исправление слова "POOL" на "POLL".</li></ul>
<dl><dd> <i>БИБЛИОТЕКА_КЛИЕНТ</i>:</dd></dl>
<ul><li> Client::reqService() дополнен мета-командой "CloseALL" закрытия текущего сеанса и каналу безопасности;</li>
<li> функция обработки клиентских сервисов protIO() адаптирована к работе в асинхронном режиме (не запрос);</li></ul>
<dl><dd><ul><li> функция Client::messIO() расширена аргументом таймаута с определением также режима запроса;</li>
<li> запись в канал и чтение из него отделено в обработке MSG пакетов;</li>
<li> адаптация сообщений безопасности к работе со смешанным входным буфером;</li>
<li> перенос основного сервисного запроса "OPN" под обработку сообщений из-за отправки обновлений в середине Publish активности.</li></ul></dd></dl>
<ul><li> реализован сервис Publish на стороне клиента:</li></ul>
<dl><dd><ul><li> объект "Client" дополнен реализацией подобъекта "Subscr" (но сохраняется в Client::SClntSess) с функциями: activate(), monitoredItemAdd() и monitoredItemDel();</li>
<li> объект "Client" дополнен функцией poll() с:</li></ul>
<dl><dd><ul><li> унификацией чтения значений в обоих режимах Read и Publish;</li>
<li> проверкой потери всех Publish запросов в течении OpcUa_ClntPublishResentCntr(2) попыток-времени сохранения живым;</li>
<li> восстановления пула Publish.</li></ul></dd></dl>
<ul><li> объект Client::Subscr::MonitItem добавлен как представитель элементов мониторинга с доступом из под общего блокирования клиентских ресурсов;</li></ul>
<dl><dd><ul><li> сервисные запросы дополнены реализацией, включая обработку ответов: CreateSubscription, DeleteSubscriptions, CreateMonitoredItems, Publish, Poll;</li>
<li> реализовано и проверено в поддержке безопасных политик по Publish;</li>
<li> целевой пул Publish запросов на подписку установлено в виртуальной функции publishReqsPool() с типовым значением 2.</li></ul></dd></dl>
<ul><li> дополнено реализацией кусков (CHUNKS) как в запросах, так и ответах;</li>
<li> целиком отревизировано и очищено общую функцию запроса reqService() от дубликатов аргументов и параметров:</li></ul>
<dl><dd><ul><li> дополнено восстановлением сеансов при переподключении канала безопасности;</li>
<li> унифицировано очистку текущего сеанса и канала безопасности.</li></ul></dd></dl>
<ul><li> объект клиента дополнен общим блокированием ресурсов mtxData;</li>
<li> свойство сообщения "timeoutHint" установлено в 0 для всех сообщений;</li>
<li> запрос Read возвращён к "плоскому" запросу с ограничением только в CHUNKS;</li>
<li> ошибка OpcUa_BadSecureChannelIdInvalid добавлена к очистке канала безопасности;</li>
<li> Client::SClntSess::{sessOpen,lstMessReq} переименован в {secChnlOpenTm,secLstMessReqTm}</li>
<li> ... и предотвращён от очистки и восстановления сеанса и канала безопасности;</li>
<li> дополнено отладочными сообщениями ошибок запросов.</li></ul></dd>
<dd> <i>БИБЛИОТЕКА_СЕРВЕР</i>:</dd></dl>
<ul><li> серверная часть адаптирована к работе с UAExpert 1.5 на предмет: установки атрибута AId_Descr DAQ-значения в тип OpcUa_LocalizedText, добавления декларации целочисленного типа OpcUa_IntAuto и OpcUa_UIntAuto;</li>
<li> обработка подписок возвращена к их обработке в отдельной задаче и функции subScrCycle() на предмет:</li></ul>
<dl><dd><ul><li> правильного расчёта всех таймаутов для выключения;</li>
<li> обработки периодичности подписки и публикации;</li>
<li> проверки состояния связанных сеансов и каналов безопасности на предмет закрытия подписок.</li></ul></dd></dl>
<ul><li> но публикация оставлена на обработку в активности входного канала и функции Server::EP::publishCall() с предотвращением обработки Publish для ошибочных и чужих Подписок, через проверку inPrtId, sesTokId и isSecCnlAct;</li>
<li> унификация Сеанса на предмет: связывания сеансов с каналами безопасности переключено на один вместо массива, проверку сеанса всех сообщений дополнено предотвращением использования чужих подключений;</li>
<li> не последние куски пакета переключены на отправку прямо, чтобы не добавлять к одному TCP-пакету;</li>
<li> EP::mtxData блокирование переключено в PTHREAD_MUTEX_RECURSIVE;</li>
<li> каналы безопасности ограничены колчеством OpcUa_SecCnlLimit(10) и очередь публикаций количеством OpcUa_ServerMaxPublishQueue(10);</li>
<li> EP::secSize() переименовано в EP::secN() и добавлено EP::sessN(), EP::subscrN() и chnlList();</li>
<li> Server.SecCnl.{TokenId,TokenIdPrev} переименовано в Server.SecCnl.{tokenId,tokenIdPrev}.</li></ul></dd></dl>
<ul><li> ModBus: Выходная часть RTU варианта протокола дополнена ранним прерыванием ожидания пакетов стандартных функций [ERR,1...6,15,16], что увеличивает общую пропускную способность вдвое.
<ul><li> ВВ параметров Логического Уровня включено в перевод, для не связанных строк и так как в DAQ.LogicLev.</li>
<li> Разбор атрибутов Сбора Данных переключено на использование TSYS::strLine() и TSYS::strParse(), чем разрешено символ ':' в названии и пустые строки в тексте.</li></ul></li>
<li> DAQGate: Режимы синхронизации дополнены режимом предотвращения синхронизации вообще для объектов сохранённых в кеше, путём разрешения значения <b>-1</b> конфигурационного поля "Периодичность синхронизации с удалённой станцией, секунд".</li></ul>
<p><b><u>Архивы-История</u></b><br />
</p>
<ul><li> FIX:FSArch: Критически исправлено обработку файлов архива значений, при попытке записи их ИД в нулевую строку.</li>
<li> DBArch: Архиваторы сообщений дополнены конфигурационным полем "Уникальные и недублирующие сообщения только за временем и категорией".
<ul><li> FIX: Исправлено падение при обработке групп архиватора значений из-за неочистки связывания конфигурации полей таблицы (TConfig) под блокированием и неблокирование функции ModVArch::grpLimits() в reqRes.</li></ul></li></ul>
<p><b><u>Транспорты</u></b><br />
</p>
<ul><li> Протокол ВВ, во входной и выходной части, расширен и дополнен:
<ul><li> комбинированием данных пакетов с одинаковым направлением и адресом данных в течении prmWait_TM (5 секунд);</li>
<li> микросекундную часть времени зафиксировано в 6(шести) символах;</li>
<li> сообщения данных дополнены символом направления;</li>
<li> ограничением размера одного блока обработки, новым конфигурационным полем;</li>
<li> значительным повышением производительности через использование предопределённого буфера.</li></ul></li>
<li> FIX:Serial: Выходной транспорт исправлен в ожидании между запросами на предмет обработки reqRetrMult*wCharTm как миллисекунды.</li>
<li> FIX:Sockets: Обнаружено ошибку "Обрыв канала (32)" при записи, после отключения сервера, поэтому попытки переподключения установлены в 2 по (kz &lt;= 0).</li></ul>
<p><b><u>Интерфейс Пользователя</u></b><br />
</p>
<ul><li> FIX:<span id="Table" title="#Table">Общий пересмотр и переделка таблиц в Qt и Web в целом и вида Таблица примитива FormEl СВУ</span>:</li></ul>
<dl><dd><ul><li> QTStarter,QTCfg,Vision: Общий библиотечный класс TableDelegate значительным образом улучшено в работе на QTCfg и Vision:</li></ul>
<dl><dd><ul><li> дополнено собственными пользовательскими ролями SelectRole, TextLimRole и OneLineString;</li>
<li> отображение ячеек дополнено фоновым цветом через чтение-применение общих ролей;</li>
<li> числовые типы (целое и реальное) дополнены принудительным центрированием;</li>
<li> строковые типы дополнены опциями выравнивания и заворачивания слов с ролями Qt::TextAlignmentRole;</li>
<li> дополнено поддержкой визуального ограничения длинных текстов собственной ролью TextLimRole и типовое значение установлено в 300 символов через дополнительное переопределение sizeHint().</li></ul></dd></dl>
<ul><li> FIX: Вид "Таблица" примитива "FormEl":</li></ul></dd></dl>
<dl><dd><dl><dd><ul><li> VCAEngine,QTStarter,Vision,WebVision: Дополнено новым типом ячейки 't'-текст, в основном для возможности подтверждения редактирования типа 's'-строка нажатием Enter.</li>
<li> VCAEngine,Vision,WebVision: Дополнено опцией "prec" пространства колонки, строки и ячейки для контроля точности реальных значений; и реализацией атрибута "align" колонки и ячейки.</li>
<li> WebVision,Vision: Дополнено переключением таблиц в предотвращение двойному хранению исходного содержимого при его размере более чем 10000.</li>
<li> FIX:Vision: Использование общего делегата таблицы с возможностью многострочного редактирования.</li></ul>
<dl><dd><ul><li> Усовершенствовано отображение колонок, строк и ячеек при обновлении и в целом:</li></ul>
<dl><dd><ul><li> ограничением визуального размера содержимого ячейки 300 символами и высоты строк в 70% от общего размера таблицы;</li>
<li> более точным выравниванием ширины колонок;</li>
<li> подстройкой в режиме разработки, а также при видимости вертикального заголовка;</li>
<li> плотным заполнением таблицы через учёт размера видимой полосы вертикальной прокрутки;</li>
<li> подстройкой только после полного изменения размера таблицы, чем также допуская ручное изменение колонок и для предоставления такой-правильной подстройки всегда.</li></ul></dd></dl>
<ul><li> Реализовано "лёгкую" обработку изменения ширины и обновления:</li></ul>
<dl><dd><ul><li> "лёгкое" редактирование без переподстройки колонок при каждом обновлении, только при: появлении первой строки, изменения количества колонок и изменения заголовка колонки, изменении шрифта и изменении размера;</li>
<li> применение фиксированной ширины колонки и учёт высоты строк с ограничениями независимо от значения общего атрибута "colsWdthFit";</li>
<li> установка значения, раннее изменение размера и подстройка таблицы, перенесены в пространство наличия содержимого таблицы и после сортирования.</li></ul></dd></dl>
<ul><li> Функцию экспорта во время исполнения дополнено экспортом вида Таблица примитива "FormEl" в CSV.</li></ul></dd></dl>
<ul><li> WebVision:</li></ul>
<dl><dd><ul><li> Усовершенствовано отображение колонок, строк и ячеек при обновлении и в целом:</li></ul>
<dl><dd><ul><li> реализацией режима не подстройки (отсутствие атрибута "colsWdthFit"), с использованием режима автоматического размещения таблицы для вычисления фиксированной ширины и последующего переключения в фиксированный режим размещения таблицы;</li>
<li> многострочным редактированием текста ячеек в полную ширину и высоту ячейки, с применением редактирования по Ctrl+Enter;</li>
<li> вид строчных ячеек ограничен 300 символами;</li>
<li> отображение логических ячеек изображением состояния TRUE;</li>
<li> ячейки таблицы, в режиме редактирования, разрешены к вызову контекстного меню системы-браузера.</li></ul></dd></dl>
<ul><li> Реализовано "лёгкую" обработку изменения ширины и обновления:</li></ul>
<dl><dd><ul><li> обнаружение изменения таблицы и обновление переключено в режим не сохранения исходного содержимого дважды;</li>
<li> предотвращено от полного обновления при модификации атрибута "value".</li></ul></dd></dl>
<ul><li> Дополнено поддержкой сортировки по колонкам. Установка в сортировку по первой видимой колонке при включении сортировки.</li></ul></dd></dl></dd></dl></dd></dl>
<dl><dd><ul><li> WebCfgD: Расширение таблицы на предмет:</li></ul>
<dl><dd><ul><li> большое видимое содержимое текста ограничено 300 символами;</li>
<li> строковый тип разрешён для многострочного редактирования используя TEXTAREA;</li>
<li> тип данных "bool" отображено изображением, не "On" или "Off";</li>
<li> центрирование содержимого логического, чисел, времени и выбора;</li>
<li> упрощение редактирования содержимого таблицы для типов время, число и строка, путём удаления кнопок применения и прокручивания.</li></ul></dd></dl></dd></dl>
<ul><li> QTStarter,QTCfg,Vision: Начат перенос общего Qt-кода Qt-модулей OpenSCADA в файлы новой библиотеки lib_qtgen.*, которая размещена в каталоге модуля QTStarter и привязано во всех Qt-модулях, и это осуществлено для: внешней icoSize(), colorAdjToBack() и TableDelegate.</li>
<li> VCAEngine:</li></ul>
<dl><dd><ul><li> Дополнено, и включено как опция сборки, на предмет механизма маркирования изменения атрибутов без дубликатов, путём запроса предыдущих-завершенных циклов, чем также предотвращая необходимости выявления дубликатов в визуализаторах и сохранению большого исходного содержимого.</li>
<li> Исполнение проектов улучшено при смене родителя обрабатываемых страниц на лету.</li>
<li> Исполнение задач сеансов дополнено ранним исполнением, при наличии событий.</li>
<li> FIX: СВУ-стили исправлены при доступе к пустым полям, которые не загружаются.</li>
<li> Страницу "Диагностика" СВУ-проектов адаптировано к отображению сообщений уровня отладки при включении отладки.</li>
<li> Информацию исполнения сеанса проекта дополнено реальной периодичностью, полученной из задачи, которую также использовано при формировании значения атрибута "f_frq" процедуры.</li></ul></dd></dl>
<ul><li> Vision: Диалоги свойств "Виджеты" и "Проекты / Библиотеки виджетов" дополнены собственной строкой статуса и кнопкой вызова контекстной документации. Виджеты TextEdit переключены на собственную строку статуса диалогов свойств, на предмет позиции курсора и что выключено во Всплывающей Подсказке. Виджет редактирования текста кода диалога свойств "Виджеты" дополнен восстановлением позиции курсора после применения или отмены.</li>
<li> FIX:WebVision: Дополнен обнаружением исчезания сеанса исполнения проекта и возвратом ошибки, в общем запросе "pgOpenList", и сброса счётчика вычислений "tmCnt".</li></ul>
<dl><dd><ul><li> Клавиатурный фокус и события значительным образом усовершенствованы на предмет гарантии работы этого в целом через:</li></ul>
<dl><dd><ul><li> установку атрибута "tabindex" для всех активных виджетов и специфично для FormEl — непосредственно в элементы формы;</li>
<li> дополнения вычислением числа "tabindex" как уникальный для целого интерфейса, чем предотвращая скачки фокуса;</li>
<li> обработки события onfocus на предмет установки собственного фокуса в setFocus();</li>
<li> вид Кнопка примитива FormEl дополнен обработкой клавиатурных событий нажатия и отпускания по клавишам Space и Enter;</li>
<li> примитив Диаграмма упрощён путём удаления лишнего элемента тега A;</li>
<li> FIX: Исправлено переключение фокуса при клацанье на кнопках с изображениями.</li></ul></dd></dl>
<ul><li> FIX: Исправлено проверку удаленных виджетов для всех и главной страницы.</li>
<li> FIX: Исправлено наконец размножение лишних DIV элементов при смене страницы в контейнере страниц.</li>
<li> FIX: Предотвращение зацикливанию при наличии Web-сеанса, но отсутствии соответствующего СВУ-сеанса.</li></ul></dd></dl>
<ul><li> FIX:WebCfgD: Целиком отревизировано и расширено на предмет:</li></ul>
<dl><dd><ul><li> переноса всех действий внутренних инструментов на реализацию кнопками и размер панели инструментов установлен с 25 в 30 пикселей;</li>
<li> удаления фильтрации-изменения размера изображений кнопок инструментов на стороне сервера;</li>
<li> установки расстояния между иконкой страницы и заголовком в 10 пикселей;</li>
<li> полного обновления контролированной страницы после смены размера окна;</li>
<li> расширения поля общего редактирования текста TEXTAREA применением и отменой из клавиатуры;</li>
<li> привязки функции обновления хостов к двойному клацанью мышей на общем пространстве области дерева;</li>
<li> FIX: исправления функции обновления хостов на предмет выявления элементов дублированных хостов;</li>
<li> FIX: принудительного обозначения актуальных-выбранных элементов в дереве контроля после его разворачивания;</li>
<li> удаления nodeText() и setNodeText() путём непосредственного использования "innerText" и "textContent".</li></ul></dd></dl>
<h4><span class="mw-headline" id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F"><span class="mw-headline-number">7.2.1</span> Сервисные обновления</span></h4>
<ul><li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2768" rel="nofollow noreferrer noopener" target="_blank">первое (1) от 29.08.2021</a>.</li></ul>
<h3><span class="mw-headline" id=".5B20.12.2020.5D_.D0.A2.D0.A0.D0.95.D0.A2.D0.AC.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">7.3</span> [20.12.2020] ТРЕТЬЕ обновление</span></h3>
<p>Это обновление <a href="Release_0.9.html" title="Special:MyLanguage/Documents/Release 0.9">релиза 0.9 LTS</a> исправляет около 40 ошибок и добавляет некоторые улучшения, которые целиком вы можете почитать в <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2726" rel="nofollow noreferrer noopener" target="_blank">протоколе изменений обновления</a>.
</p><p><b><u><a class="external text" href="http://oscada.org/ru/novosti/odinochnaja-stranica/article/trinity-desktop-environment-tde-release-1409/" rel="nofollow noreferrer noopener" target="_blank">Linux Дистрибутив Автоматизации проекта OpenSCADA</a></u></b><br />
</p>
<ul><li> пакеты "tdelibs" и "tdebase" были удалены из-за применения этих исправлений в главной и стабильной ветви TDE;</li>
<li> исправленные пакеты "tdemultimedia-trinity", "tdenetwork-trinity" и "tdeutils-trinity" были пересобраны;</li>
<li> собрано новый исправленный пакет "tde-i18n-uk-trinity";</li>
<li> перед сборкой пакетов была изменена схема формирования версий пакетов этого дистрибутива из "{+1}:14.0.9-0" на "4:14.0.9-{+1}" с целью предотвращения заморозки этих пакетов в следующих версиях TDE; и главный репозиторий пакетов TDE <a href="How_to_Live_disk.html" title="Special:MyLanguage/Documents/How to/Live disk">Живых Дисков</a> переключен на ветвь "r14.0.x" вместо предварительной стабильной, которая также присутствует, но закомментирована;</li>
<li> перед этим релизом, в <a class="external text" href="https://mirror.git.trinitydesktop.org/weblate/" rel="nofollow noreferrer noopener" target="_blank">TDE Weblate</a> завершен перевод Украинским языком частей-пакетов TDE: tdelibs, tdebase, tdegraphics, tdenetwork, tdemultimedia, tdepim, tdeadmin, tdeaccessibility, tdeutils, krusader, yakuake, basket; и создан исправленный пакет "tde-i18n-uk-trinity" для перевода отличий ветви "r14.0.x" от главной;</li>
<li> заплатка к "tdeutils" дополнена комбинацией клавиш с удержанием Ctrl для медленного изменения яркости дисплея к KMilo.</li></ul>
<p><b><u>OpenSCADA библиотеки и проекты</u></b><br />
</p>
<ul><li> FIX:LibsDB.OscadaLibs: Библиотека DevLib дополнена шаблонами "MTP 4D (MTP4D)" и "ModBus база (mbBase)".</li>
<li> FIX:LibsDB.vcaBase: Шаблонный проект (tmplSO) очищен от лишних мнемосхем управления рецептами и главная страница дополнена таблицей актуальных сигналов-нарушений. Кадр Main.RootPgSo унифицирован уведомителями только в общих атрибутах для СВУ-сервера и уведомителей Vision, WebVision: notify0, notify1 та notify2.</li></ul>
<p><b><u>API</u></b><br />
<i>!!!!:Изменения</i>:
</p>
<ul><li> Архивы-История: {TMArchivator,TVArchivator,TVArchive}::DB() установлена в квалификатор постоянной.</li>
<li> Транспорты.{.,*}: Функция установки таймаутов setTimings() выходных транспортов расширена различием типовых таймаутов для различных протоколов, с помощью аргумента "isDef".</li></ul>
<p><i>Дополнение</i>:
</p>
<ul><li> SYS.,*:
<ul><li> Ограничения и параметры пространства системы перенесены в пространство конфигурации пользователя (конфигурационный файл) для некоторого разрешённого диапазона. STD_WAIT_DELAY перенесено в prmWait_DL и изменено в 0.1 секунд. Предыдущие определения ограничений и параметров пространства системы оставлены для совместимости внешних модулей!</li>
<li> TSYS дополнено функцией taskSendSIGALRM() отправки сигнала прерывания "ALARM" задачам OpenSCADA.</li>
<li> TValFunc: Дополнено состоянием исполнения функции через функцию isCalc().</li></ul></li>
<li> Транспорты: Выходные транспорты расширены обозначением Сетевых транспортов, функцией isNetwork(), также в пользовательском API.</li></ul>
<p><b><u>Система</u></b><br />
</p>
<ul><li> FIX:Сборка:configure.ac: Версию библиотеки ядра увеличено до 3:9:0 и версию программы увеличено до 0.9.3.</li>
<li> {DAQ,Протокол}.ModBus:
<ul><li> подтип "_b" — битовый тип, дополнен перемещением номера бита к полю номера регистра вроде "R_b:123.12";</li>
<li> дополнено флажком "~" для инверсии порядка регистров комплексных подтипов в некоторых регистрах, вроде "_f";</li>
<li> флажок "rw" разделён на "r" и "w".</li></ul></li>
<li> Модульную версию подсистемы "Транспорты" увеличено до 17.</li>
<li> FIX: Предотвращено аутентификацию в интерфейсе пользователя готовым хешем пароля.</li></ul>
<p><b><u>Сбор Данных</u></b><br />
</p>
<ul><li> LogicLev,ModBus,Siemens: Дополнено прерыванием продолжительного исполнения шаблонов при исполнении параметра, с использованием новых функций TValFunc::isCalc() и TSYS::taskSendSIGALRM().</li>
<li> FIX:LogicLev: Удалено блокирование исполнения "calcRes", которое использовано только в блокировании записи в параметр в течении вычисления и что может быть продолжительным.</li></ul>
<p><b><u>Архивы-История</u></b><br />
</p>
<ul><li> FIX: Полученные текущие значения, в активном режиме архивирования, принудительно установлено в текущее время, что важно для архивирования динамических атрибутов.</li>
<li> Конфигурационное поле архива значений "Режим формирования ID автоматически создаваемых архивов" расширено элементом выбора "Все ID контроллера, параметра и атрибута", в процессе расширения ограничения на размер ИД архива значений до 50 символов.</li>
<li> FIX:DBArch: Исправлено только прямое архивирование значений в групповом режиме и когда тип значений может сбрасываться в Целый тип, как типовой. Архивирование значений в групповом режиме дополнено удалением соответствующей колонки таблицы при удалении архива, для горячего удаления колонок сразу после добавления нового архиву, чем предотвращая раннему разростанию таблицы до ограничений БД.</li>
<li> FIX:FSArch: Адаптация к размеру ИД архива значений больше чем 20 символов, когда дополнительные 14 символов сохраняются в резервной части (переименованной в "archive_add") заголовка и остальное в названии файла.</li></ul>
<p><b><u>Транспорты</u></b><br />
</p>
<ul><li> FIX: Функция TTransportIn::assTrO() обработки входных инициативных подключений целиком отревизировано чтобы обеспечить обязательным создание новых подключений в виде нового выходного транспорта, чем предотвращая правильному завершению присутствующих закрытых но не освобождённых выходных транспортов.</li>
<li> Команды транспортов переименовано из "Исполнение" в "Подключение" и статусы переименованы из "Запущено. " в "Получение данных. " и "Подключено. ", из "Остановлено. " в "Отключено. ".</li>
<li> FIX:{Sockets,SSL}: Типовые таймауты возвращены в "10:1".</li></ul>
<p><b><u>Транспортные Протоколы</u></b><br />
</p>
<ul><li> HTTP:
<ul><li> Дополнено динамическим названием печенья (cookies) и Пользовательским пространством ИД, где название печенья "oscd_UID" и использовано Пользовательское пространство ИД при работе с общей таблицей сеансов аутентификации, и название печенья "oscd_UID_{PrjNm}" при работе без этого.</li>
<li> FIX: POST выходной функции outMess() с множеством частей предотвращён от размещения конечного разделителя и улучшено в формировании "Content-Disposition".</li>
<li> Улучшено генерацию ИД пользователя генерацией различных ИД для различных процессов, ограниченное в 1e6, и дополнено случайным и конфигурируемым Пользовательским пространством ИД [0...99] * 1e6, использованным в работе с таблицей общих сеансов аутентификации.</li></ul></li>
<li> SelfSystem: Специфические таймауты выходного транспорта установлены в "20:2".</li>
<li> ModBus: Специфические таймауты выходного транспорту установлены в "5:0.1" для Сетевых транспортов — isNetwork() и варианта протокола "RTU".</li></ul>
<p><b><u>Интерфейс Пользователя</u></b><br />
</p>
<ul><li> FIX: TUIS::docKeyGet() исправлено на предмет утечки пользовательских объектов массивов.</li>
<li> VCAEngine,WebVision,Vision: Примитив "Media" дополнен типом "Audio" и тип "Полное видео" переименован в "Видео", который также имплементирован в WebVision и Vision.</li>
<li> QTCfg,Vision: Дополнен функцией подстройки цветов текста к фоновому цвету — colorAdjToBack(), которую использовано в коррекции цветов подсветки синтаксиса, и других динамических цветов, к смене палитры.</li>
<li> VCAEngine,Vision: Расширено реализацией уведомлений в процессе их внедрения в WebVision, на предмет:
<ul><li> использования стандартного пути получения уведомлений через активацию соответствующих атрибутов;</li>
<li> расширение ntfReg() использованием отрицательного типа для обработки всех типов, в основном очистки, и некоторой унификации кода;</li>
<li> расширение получением типа ресурса;</li>
<li> дополнение уведомителей флажком "notifyServ" включения уведомления на стороне СВУ-сервера;</li>
<li> дополнено, на стороне СВУ-сервера, полем "resStatic" прямого определения ресурса (не динамическое);</li>
<li> дополнение контекста процедуры уведомления двумя переменными "resTp" и "prcID".</li></ul></li>
<li> FIX:UI.QTStarter: Дополнено периодическим обновлением диалога запуска в перечне проектов.</li>
<li> FIX:VCAEngine: Исправлено падение при установке ссылки виджета в "prm". Сервис запроса ресурса "get:/wdg/res", Widget::resourceGet() и {WidgetLib,Project}::mimeDataGet() дополнено запросом частей ресурса, в основном для больших медиа файлов.</li>
<li> FIX:Vision: Дополнено проигрыванием уведомлений внутренним проигрывателем на Phonon и не в отдельной задаче уведомителя. Вызов saveState() перемещён из деструктора окна разработки в событие закрытия, поскольку была помечена проблема сохранения пустого контекста после проигрывания некоторого медиа.</li>
<li> FIX:WebVision:
<ul><li> Имплементация поддержки уведомлений.</li>
<li> Имплементация загрузки частей ресурсов, для больших медиа, HTTP параметром "Range: bytes=".</li>
<li> FIX: Исправлено лишнюю очистку кеша страницы на предмет виджетов из страниц с общим названием к странице которая удаляется.</li></ul></li>
<li> WebUser: Адаптировано к работе с POST и содержимым в теле.</li></ul>
<h4><span class="mw-headline" id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_2"><span class="mw-headline-number">7.3.1</span> Сервисные обновления</span></h4>
<ul><li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2741" rel="nofollow noreferrer noopener" target="_blank">третье (3) от 23.03.2021</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2737" rel="nofollow noreferrer noopener" target="_blank">второе (2) от 01.03.2021</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2731" rel="nofollow noreferrer noopener" target="_blank">первое (1) от 01.02.2021</a>.</li></ul>
<h3><span class="mw-headline" id=".5B17.08.2020.5D_.D0.92.D0.A2.D0.9E.D0.A0.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">7.4</span> [17.08.2020] ВТОРОЕ обновление</span></h3>
<p>Это обновление <a href="Release_0.9.html" title="Special:MyLanguage/Documents/Release 0.9">релиза 0.9 LTS</a> исправляет около 60 ошибок и добавляет некоторые улучшения, которые целиком вы можете почитать в <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2706" rel="nofollow noreferrer noopener" target="_blank">протоколе изменений обновления</a>.
</p><p><b><u><a class="external" href="http://oscada.org/wiki/Sub-projects/Automation_Linux_distributive" title="Sub-projects/Automation Linux distributive">Linux Дистрибутив Автоматизации проекта OpenSCADA</a></u></b><br />
</p>
<ul><li> Завершено усовершенствование KMix в работе с PulseAudio, путём его динамизации патчем "<a class="external text" href="https://bugs.pearsoncomputing.net/show_bug.cgi?id=2782" rel="nofollow noreferrer noopener" target="_blank">kmix-UpdMixersForChangeAndChMaster.patch</a>".</li>
<li> KRfb (VNC-сервер) был исправлен на предмет аварийного завершения и завершена реализация набора дополнительных клавиш к основной клавиатурной раскладке, в основном Кириллицы, но также и дополнительных UTF символов.</li>
<li> Завершено обновление перевода <a class="external text" href="http://www.trinitydesktop.org/" rel="nofollow noreferrer noopener" target="_blank">проекта Окружения Рабочего Стола Trinity</a> на Украинский для частей: tdelibs, tdebase, tdenetwork, tdemultimedia, tdepim (в основном), krusader, yakuake.</li></ul>
<p><b><u>OpenSCADA библиотеки и проекты</u></b><br />
</p>
<ul><li> LibsDB.OscadaLibs: Библиотеку Устройств дополнено реализацией протокола IEC-62056 (DevLib.IEC62056). Внесетевая документация дополнена документом "СОГЛАШЕНИЕ О ТЕХНИЧЕСКОЙ ПОДДЕРЖКЕ ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ "OpenSCADA" версии 2 и нового модуля DB.DBGate.</li>
<li> FIX:LibsDB.vcaBase.Main.alarmsSt: Несколько исправлено на предмет оригинальных сообщений и "quietation" целиком заменено на "confirmation". Восстановлено предотвращение дублированных записей новых нарушений в той самой категории.</li></ul>
<p><b><u>API</u></b><br />
<i>!!!!:Изменения</i>:
</p>
<ul><li> SYS: Унифицированы статусы станции в функциях isRunning(), isFinalKill() и stopSignal(). TCfg::setReqKey() дополнен новым аргументом "treatDep".</li>
<li> DB: dataSeek(),dataGet(),dataSet(): Расширены аргументом локального конфигурационного контекста "localCfgCtx";</li>
<li> *,DB: TBDS::dataSeek() и TTable::fieldSeek() переключены на реализацию кеша сканирования в соответствующих модулях.</li></ul>
<p><i>Дополнения</i>:
</p>
<ul><li> TMess,DB,DB.{SQLite,MySQL,PostgreSQL,FireBird}: TMess дополнено функцией обнаружения перевода конфигурации translCfg(), которую использовано во всех модулях БД и в dataSet().</li>
<li> SYS: Дополнено функциями доступа к глобальному конфигурационному контексту cfgCtx() и setCfgCtx().
<ul><li> Загрузка и сохранение конфигурации дополнена собственным блокированием TSYS-&gt;cfgLoadSaveM().</li>
<li> Дополнено функцией pathLevEnd() обработки путей с конца.</li>
<li> TRegExp: Дополнено функцией getPattern().</li>
<li> TFld: Дополнено комбинированным строковым вариантом поля длины - lenS().</li></ul></li></ul>
<p><b><u>Система</u></b><br />
</p>
<ul><li> FIX: Сборка:
<ul><li> FIX:configure.ac: Версия библиотеки ядра увеличена до 3:8:0 и версия программы увеличена до 0.9.2.</li>
<li> Модульную версию подсистемы "БД" увеличено до 14, подсистемы "Транспорты" увеличено до 16.</li>
<li> data/ModelsDB/{AGLKS/oscada_AGLKS.xml,Boiler/oscada_Boiler.xml}: Входные транспорты Сокетов унифицированы в названиях "WEB" и "CNTR".</li>
<li> data/ModelsDB/AGLKS/St.sql: Входные транспорты SSL унифицированы в названиях "WEB" и "CNTR" и обновлены установкой KeepAlive таймаута в 60 и SSL-сертификата.</li>
<li> data/{oscada_start,oscada_server,oscada_plc}.xml:
<ul><li> Входные WWW-транспорты унифицированы, где "WEB_1" переименован в "WEB" и удалён "WEB_2".</li>
<li> Дополнено выключенными записями БД стандартных библиотек OpenSCADA.</li>
<li> /oscada_start.xml: Дополнено выключенными входными транспортами "WEB" и "CNTR". Дополнено архиваторами значений FSArch.{SYS,alarms,actions} и архиваторами сообщений FSArch.{1s,1m,1h}.</li></ul></li></ul></li>
<li> FIX:data/openscada-proj.in,UI.QTStarter: Реализация встроенного резервирования.
<ul><li> FIX:data/openscada-proj.in: Дополнено командами "backup", "backupRestore", "backupList" реализации резервирования проектов.</li>
<li> UI.QTStarter: Дополнено вызовом команд резервирования из менеджера проектов - перечня проектов.</li></ul></li>
<li> .,DB,DAQ.{LogicLev,ModBus,Siemens},UI.{QTCfg,WebCfgD}: Реализация механизма междустанционного копирования узлов интерфейса управления.</li>
<li> .,UI.QTStarter: Запуск OpenSCADA с GUI модулем в основном потоке значительно пересмотрен на предмет:
<ul><li> ранней регистрации GUI модуля в основном потоке непосредственно самим этим модулем и в функции postEnable();</li>
<li> адаптации функции perSYSCall() к использованию при обновлении GUI модуля в основном потоке, в основном его заставки (сплеша), в течении запуска и останова (из сервисной задачи) и при загрузке конфигурации (для переключения на заставку запуску);</li>
<li> включения динамического отображения сообщений для режима исполнения в основном потоке;</li>
<li> унификации отображения заставки в обоих режимах.</li></ul></li>
<li> .,Protocol.SelfSystem,DAQ.AMRDevs: Доступ клиента к интерфейсу управления OpenSCADA расширен множественной аутентификацией, что исключает использование прямых запросов к интерфейсу управления OpenSCADA с аутентификацией в каждом запросе, часто в UI.Vision.</li>
<li> FIX:TRegExp: Исправлена обработка шаблонов, добавлением обработки символа окончания, таким образом предотвращая коллизии чёткого определения объектов в TController::alarmSet().</li>
<li> FIX:LibsDB.OscadaLibs.doc.diagram,UI.{Vision,WebVision}: Предотвращено двойную подстройку шкалы значений для процентной шкалы и дополнено расширением диапазона значений.</li>
<li> FIX: Обработка предков в функции TCntrNode::isModify() разрешено только для узлов в состоянии "Включено".</li></ul>
<p><b><u>БД</u></b><br />
</p>
<ul><li> Создан новый модуль "DBGate".</li>
<li> FIX: TBDS::dataSet() расширено установкой только ключей и видимых элементов, как у других БД. Дополнено сменой-сохранением определённых элементов в конфигурационном файле вместо полного сохранения всех их в типовой БД.</li>
<li> FIX: Исправлен первый ошибочный запуск объектов БД на предмет последующих попыток запуска.</li>
<li> FIX: Загрузка БД предотвращена от двойной загрузки из конфигурационного файла и БД, относительно одинаковых записей.</li>
<li> Объект TBD дополнен поддержкой сервисных контрольных запросов "call": "/serv/SQL", "/serv/fieldStruct", "/serv/fieldSeek", "/serv/fieldGet", "/serv/fieldSet", "/serv/fieldDel".</li>
<li> FIX:SQLite: Обнаружена и исправлена потеря данных при конкурентном доступе, когда генерируется непринципиальная ошибка неактивированности транзакции "cannot commit - no transaction is active (1)", которая, однако, прерывает запись данных.</li></ul>
<p><b><u>Сбор Данных</u></b><br />
</p>
<ul><li> FIX: JavaLikeCalc: Исполнение внутренних функций дополнено сохранением контекста общих-собственных регистров, в двух вариантах, первично для поддержки рекурсии.</li></ul>
<p><b><u>Транспорты</u></b><br />
</p>
<ul><li> Выходные транспорты унифицированы созданием параметров подключения, с помощью conPrm(), вместо прямых prm1() и prm2().</li>
<li> Удалён конфигурационный параметр "START" выходных транспортов, как лишний и для предотвращения продолжительного запуска.</li>
<li> FIX:Sockets,SSL: Для предотвращения многоразового исполнения запросов высокой нагрузки и продолжительного контроля, выходные транспорты переключены на:
<ul><li> типовую конфигурацию для Попыток=1, Таймауты="30:2";</li>
<li> для потери подключений количество попыток установлено в 2;</li>
<li> для ошибок "Исчерпано время" подключение также пере-подключается, кроме типа SOCK_FORCE.</li></ul></li></ul>
<p><b><u>Транспортные Протоколы</u></b><br />
</p>
<ul><li> FIX:ModBus: Выходные запросы TCP-варианта дополнены проверкой Идентификатора Транзакции пакетов ответа.</li>
<li> FIX:SelfSystem: Выходная часть расширена проверкой соответствия ответов запросам, по названию тега запроса. Дополнено кодированием специальных символов пользователя и пароля, и пустой пароль кодируется как "&lt;EMPTY&gt;".</li></ul>
<p><b><u>Интерфейс Пользователя</u></b><br />
</p>
<ul><li> Vision,WebVision: Свойство специфическое для визуализатора "userSetVis" дополнено реализацией пароля после прямо указанного пользователя и для применения со всеми пользователями.</li>
<li> FIX:QTStarter: Стандартная-системная заставка запуска/останова обновлена и дополнена информацией про программу (также пользовательские заставки) и проект OpenSCADA, включая иконку проекта. Контекстное меню списка проектов дополнено пунктом удаления не исполняемых проектов.</li>
<li> FIX:QTCfg: Дополнен слежением за сменой страницы с индикацией в дереве навигации и с прокруткой к текущему элементу.</li>
<li> FIX:VCAEngine: Предотвращено аварийное завершение на больших конфигурациях с продолжительным закрытием сеансов исполнения во время доступа к наследникам виджета (mHerit), добавлением ResRW блокирования "mHeritRes". Свойство "Перевод" процедур виджетов целиком перенесено под прямой доступ и видимость установлена только при наличии процедуры, также как видимость области текста процедуры и периодичности вычисления от выбора языка.</li>
<li> FIX:Vision: Существенно унифицирована процедура аутентификации и смены пользователя в UserStBar::userSel() и объект диалога "DlgUser".</li>
<li> FIX:WebVision: Унифицирована имплементация примитива "Кнопка": переносом специфических кнопок под &lt;button&gt;&lt;/button&gt; и добавлением соответствующих CSS-стилей для типового и нажатого состояния с отличной границей и полупрозрачным изображением. Исправлена, в конце концов, проблема закрытия всех страниц контейнера основных страниц с заморозкой последней потерянной страницы при быстром переключении. Дополнено пользовательскими CSS правилами интерфейса.</li></ul>
<h4><span class="mw-headline" id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_3"><span class="mw-headline-number">7.4.1</span> Сервисные обновления</span></h4>
<ul><li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2719" rel="nofollow noreferrer noopener" target="_blank">третье (3) от 15.11.2020</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2714" rel="nofollow noreferrer noopener" target="_blank">второе (2) от 20.10.2020</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2709" rel="nofollow noreferrer noopener" target="_blank">первое (1) от 21.09.2020</a>.</li></ul>
<h3><span class="mw-headline" id=".5B08.04.2020.5D_.D0.9F.D0.95.D0.A0.D0.92.D0.9E.D0.95_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">7.5</span> [08.04.2020] ПЕРВОЕ обновление</span></h3>
<p>Обновление осуществлено после 1.5 года от <a href="Release_0.9.html" title="Special:MyLanguage/Documents/Release 0.9">релиза 0.9 LTS</a>, соответственно оно стоит 10 обновлений, поскольку им исправлено более 250 ошибок и добавлено множество усовершенствований, которые целиком вы можете почитать в <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2677" rel="nofollow noreferrer noopener" target="_blank">протоколе изменений обновления</a>.
</p><p>Ключевыми свойствами обновления является:
</p>
<ul><li> значительное расширение и стабилизация Web-интерфейса в течении практической эксплуатации в большом распределённом решении, построенном на основе модуля <a href="#WebVision">UI.WebVision</a>; также расширение и стабилизация горячей разработки в течении множественного исполнения разрабатываемого проекта;</li>
<li> тестирование, исправление и расширение резервирования в части сообщений, также благодаря практической эксплуатации в большом распределённом и ещё резервированном решении, в <a href="#Redundancy">части обще-системного кода</a> и модуля <a href="#ModBus">DAQ.ModBus</a>;</li>
<li> полная реструктуризация, усовершенствование и дополнение <a href="#ProjLibs">библиотек OpenSCADA</a> в SQLite файлах;</li>
<li> общее улучшение документации, дополнение документацией <a href="#ProjLibs">всех библиотек</a> и ревизия большинства документации модулей.</li></ul>
<h4><span class="mw-headline" id="OpenSCADA_.D0.B1.D0.B8.D0.B1.D0.BB.D0.B8.D0.BE.D1.82.D0.B5.D0.BA.D0.B8_.D0.B8_.D0.BF.D1.80.D0.BE.D0.B5.D0.BA.D1.82.D1.8B"><span class="mw-headline-number">7.5.1</span> <span id="ProjLibs" title="#ProjLibs">OpenSCADA библиотеки и проекты</span></span></h4>
<ul><li> FIX:DB.LibsDB.{OscadaLibs,vcaBase}: Обновление перевода.
<ul><li> FIX:JavaLikeCalc.doc,doc: Библиотека пользовательского интерфейса "Документы" и JavaLikeCalc "Библиотека отчётов и документов" отревизировано, улучшено, дополнено, документировано и документацию добавлена в offline.
<ul><li> FIX:doc: {docUsersSet,docAlarmsRep,docMessRep}: Поле "Параметр" переименовано в "Источник", в процессе глобальной унификации структуры сообщений нарушений функции alarmSet().
<ul><li> Дополнено реализацией "Годовой отчёт месячных значений (docRepYear)" с функцией ввода значений в ручном режиме, поддержкой сохранения ручных значений в архиве сообщений, их отображения в таблице и диаграмме.</li>
<li> {doc,docDin,docRep2WorkSh(переименованный docRepSm2),docAlarmsRep,docRepInstVals(переименованный docGasNodeMgn),docMessRep,docUsersSet, docRepDay(переименованный docGasNodeDayA),docRepMonth(переименованный docGasNodeMonthA),docRepYear(переименованный docResourcesYear)}: выполнено JavaLikeCalc перевод в tr().</li>
<li> {docRepInstVals,docRep2WorkSh,docRepDay,docRepMonth}: Значительным образом переписано, улучшено и сделано повторно-используемым, позволив подключение DAQ-параметров.</li>
<li> docMessRep: Дополнено обработкой удалённых станций только как дополнительный источник и всегда.</li></ul></li>
<li> JavaLikeCalc.doc: Дополнено реализацией построения "Диаграммы (diagram)" в SVG.</li></ul></li>
<li> PrescrTempl,prescr: Библиотеку интерфейса пользователя и шаблонную библиотеку "Рецепты" отревизировано, улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> PrescrTempl: Дополнено шаблоном "Менеджер", перенесенного из библиотеки контролеров.</li>
<li> prescr: Элементы библиотеки расширены линковкой БД и автоматическим созданием таблиц команд и программ.</li></ul></li></ul></li>
<li> DB.LibsDB.vcaElectroEls: Библиотеку интерфейса пользователя "Элементы электрики" отревизировано, улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> Дополнено четырьмя унифицированными элементами: "Ключ, унифицированный (keyUnif)", "Переключатель, унифицированный (swUnif)", "Состояние общее, унифицированное (stGenUnif)", "Состояние области, унифицированное (stAreaUnif)".</li></ul></li>
<li> FIX:DB.LibsDB.OscadaLibs:
<ul><li> Обновлено на предмет некоторых сообщений.</li>
<li> FIX:base: Библиотеку шаблонов "Основная библиотека" отревизировано, улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> {anUnif,anUnifSt,manInUnif,digAlarm,codeState,pidUnif,pidUnifImp,SNMP,UPS}: Переведено на унифицированный механизм формирования и контроля нарушений.</li>
<li> Дополнено шаблоном "initConsAssignTrs" обработки выходных транспортов инициативных подключений Сокетов для любых типов объектов источников, вроде DAQ-модули, контроллеры и параметры логического уровня.</li>
<li> Дополнено шаблоном "codeState" формирования состояния по коду.</li>
<li> Дополнено реализацией сложного уведомителя в шаблоне "ntf", отдельная JavaLikeCalc функция и объекты пользовательских протоколов "SMS" и "SMTP" помечены устарелыми.</li>
<li> Дополнено шаблоном "UPS", перенесено из библиотеки "Промышленные устройства".</li></ul></li>
<li> FIX:DevLib: Шаблонная библиотека является отделённой частью оригинальной библиотеки "Устройства" с названием "Промышленные устройства", которую отревизировано, улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> FIX:IEC60870: Дополнено отдельным временем "tmPoolAll" периодичности полного опроса.
<ul><li> Дополнено поддержкой пакетов M_ME_TF_1, M_ME_NC_1, расширено поддержкой SQ-режима, проверено M_ME_TF_1 и M_ME_NC_1, M_ME_NB_1 в SQ-режиме, AI установлено в вещественный тип.</li>
<li> Дополнено опцией "syncTimePLC" контроля синхронизации ПЛК.</li></ul></li>
<li> Дополнено правильной реализацией DCON в шаблонах DCON_Prt, DCON_Prt_DI, DCON_Prt_AO, DCON_Prt_DO, объект пользовательского протокола "DCON" удалён.</li>
<li> Дополнено полнофункциональной реализацией протокола OWEN в части сбора данных.</li>
<li> Дополнено реализацией DNP3 и её испытано с outstation-demo из opendnp3.</li>
<li> Дополнено реализацией модулей счётчиков Pulsar-M (pulsarM).</li>
<li> Дополнено реализацией сканера ModBus, как шаблон "ModBusScan".</li></ul></li>
<li> LowDevLib: Шаблонная библиотека является отделённой частью оригинальной библиотеки "Устройства" с названием "Низкоуровневые устройства", которую отревизировано, улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> FIX:{1W_DS9097,1W_DS9097U}: Исправлено определение семейства устройства как шаблон 0x7F, обнаружено на последних DS2413 с первым байтом 0xBA.</li>
<li> Дополнено реализацией шаблона "MAX6675", низкоуровневого SPI Конвертора K-Термопар-в-Цыфру Компенсации-Холодных-Спаев.</li>
<li> Дополнено реализацией шаблона "SHT3x", низкоуровневого сенсора влажности.</li>
<li> Дополнено реализацией шаблона ADS111x(ADS101x) и MCP4725, низкоуровневых I2C-чипов.</li></ul></li>
<li> FIX:JavaLikeCalc.techApp: JavaLikeCalc библиотеку "Технологические аппараты" документировано и документация добавлена в offline. Все Кириллические символы удалено из идентификаторов моделей и все тексты откорректировано.</li>
<li> tests: Библиотека шаблонов "Тесты" переименована из библиотеки "S7".</li>
<li> JavaLikeCalc.servProc: JavaLikeCalc библиотеку "Сервисные процедуры" отревизировано, несколько улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> docOffLine: Значительно расширено детализацией сообщений про ошибки и размещением незавершённых страниц в аргументе "pagesCur" для продолжения перерывов.</li></ul></li>
<li> JavaLikeCalc.regEl: JavaLikeCalc библиотеку "Элементы регулирования" документировано и документация добавлена в offline.</li></ul></li>
<li> FIX:DB.LibsDB.vcaBase:
<ul><li> FIX: Полная и значительная очистка от Кириллических символов и усовершенствование оригинальных идентификаторов и сообщений, с переименованием их на Английский язык.</li>
<li> Большинство стандартных кадров и виджетов адаптировано к стилям и создано стиль "Светлый" для всех проектов.</li>
<li> FIX:Main: Библиотеку интерфейсов пользователя "Основные элементы" отревизировано, улучшено, дополнено, документировано и документация добавлена в offline.
<ul><li> FIX:{alarmsAct,alarmsSt}:
<ul><li> Расширено поддержкой квитации-подтверждения, комментариями и пользовательским полями.</li>
<li> Поле "Параметр (prm)" переименовано в "Источник" где размещено все удалённые и локальные источники.</li></ul></li>
<li> RootPgSo: Усовершенствованно динамическим созданием объектов сигнализации, количество которых ограничено только общей длиной названий объектов сигнализации и их двумя рядами. Поддерживается также генерация кнопок объектов сигнализации справа от логотипа. Типы отображения также унифицировано идентификаторами "view[1..6]", когда пользователь может их назначить в собственный способ. Совместимость с оригинальными названиями видов сохранено для существующих проектов!</li>
<li> Дополнено:
<ul><li> панелью-окном контроля "Вычисление параметра графика (graphCalc)";</li>
<li> объектным виджетом "Свойства объекта (objProps)";</li>
<li> кадром нарушений "Нарушения — отчёт (alarmsStReport)";</li>
<li> виджетом "Метка изображением (ImgLab)";</li>
<li> кадром "Менеджер пользователей (userManager)".</li></ul></li>
<li> grph_panel: Дополнено независимой кнопкой переключения на время курсора вместо непрямого переключения при смещении глубины.</li>
<li> ElViewGraph: Размер шрифта названия уменьшен с 15 до 11 и цвет тренда отображаемых элементов по умолчанию установлен в "gray".</li>
<li> Кадры рецептов "prescrEdit", "prescrRun" и "prescrRunSimple" вынесено в новую библиотеку "Рецепты (prescr)".</li>
<li> cntrRegul: Толщину трендов увеличено до 2 пикселей.</li></ul></li>
<li> FIX:mnEls: Библиотеку элементов интерфейса пользователя "Элементы мнемосхемы" документировано и документация добавлена в offline.</li></ul></li>
<li> FIX:Model.{AGLKS,Boiler}: Значительно обновлено согласно общим изменениям в библиотеках.
<ul><li> FIX: Значительно очищено и все оригинальные идентификаторы переименованы Английским языком, в процессе ревизии документации.</li>
<li> FIX: AGLKS.vca,Boiler.St: Адаптировано к новым изменениям основной страницы.
<ul><li> Создан стиль "Светлый" для всех проектов. Стили переведены на схему прямого исполнения стилей при их наличии вместо "Нет стиля" и добавлен стиль "Типовой".</li></ul></li>
<li> FIX:Model.AGLKS:
<ul><li> FIX:St:
<ul><li> FSArch.1m: Удалены странные и временные архиваторы: FSArch.{NetRequsts,test,StatErrors}, DBArch.test и добавлены актуальнные: FSArch.{alarms,actions,SYS}, DBArch.SYS.</li></ul></li>
<li> FIX:vca: Перепривязаны аналоговые параметры и графики.</li></ul></li></ul></li></ul>
<h4><span class="mw-headline" id="API"><span class="mw-headline-number">7.5.2</span> API</span></h4>
<p><i>!!!!:Изменения</i>:
</p>
<ul><li> SYS: Типовой конструктор ResMtx установлен в true для "isRecurs", поскольку это общая ситуация.
<ul><li> Большинство функций добавления в контейнер узлов расширено возвратом результирующего идентификатора/имени созданного узла для: chldAdd(), TSecurity::{usrAdd(),grpAdd()}, TTypeBD::open(), TTypeTransport::{inAdd(),outAdd()}, TValue.chldAdd(), DAQ.{TController::add(),TParameter::add(),BlockCalc.blkAdd()}, TTypeArchivator::{messAdd(),valAdd()}, TArchiveS::valAdd(), UI.VCAEngine::{wlbAdd(),prjAdd(),WLib.add(),Project.add(),Project.Page.pageAdd()}, UI.WebUser.uPgAdd().</li>
<li> TFld::Selected везде переименован в TFld::Selectable.</li>
<li> Вариант специальной функции strMess() с ограничением размера результирующего сообщения удален и заменен функцией strEncode() с типом TSYS::Limit.</li>
<li> chldList() и chldPresent() сделаны виртуальными.</li></ul></li>
<li> DAQ,Special: Атрибут "run_st" в TPrmTmplLib и TSpecial переименован в runSt.</li>
<li> Archives: TArchiveS::messPut() очищено от аргумента "force".</li>
<li> Protocols.HTTP: Функции пользовательского API pgAccess(), pgCreator() перенесены из TProtocol в TProtocolIn.</li>
<li> Transports.In: Функция protocol() переименована в protocols() и удалена protocolFull().</li></ul>
<p><i>Дополнения</i>:
</p>
<ul><li> SYS: Добавлен общий механизм замков через контейнер замков, функция commonLock().
<ul><li> TConfig,*: Функции API пользователя для конфигурации TConfig::cfg() и TConfig::cfgSet() расширены контролем прав.</li>
<li> Дополнено функциями TCfg::toDefault() и TConfig::cfgToDefault() сброса конфигурационного контекста к типовому.</li>
<li> Объект TFunction дополнен признаком изменённости процедуры isChangedProg(), и флажок TFld::Selectable и функция ioAdd() дополнены результатом позиции добавленного ВВ.</li>
<li> Запрос Интерфейса Управления "load" расширен определением выбранной БД в атрибуте "force", для осуществления такой операции над конкретным узлом.</li>
<li> XMLNode: Функция получения атрибутов attr() расширена опциональным аргументом определения присутствия.</li>
<li> "Массив (Array)" пространства пользователя расширен функциями indexOf() и lastIndexOf().</li>
<li> Функция API пользователя SYS.fileRead() расширена аргументами смещения и размера блока чтения.</li>
<li> Функция API пользователя strEncode() дополнена поддержкой вариантов "ToLower" и "Limit".</li>
<li> API пользователя дополнено функцией strFromCharUTF() формирования строки из UTF-8, UTF-16, UTF-16LE, UTF-16BE, UTF-32, UTF-32LE, UTF-32BE.</li>
<li> Дополнено определением периодичности сервисного задания SERV_TASK_PER=10.</li>
<li> API пользователя дополнено функцией SYS.fileSize().</li>
<li> Добавлена функция str2atime() для конвертации времени в строке во время от эпохи UNIX с поддержкой GMT.</li>
<li> TError дополнено названиями кодов ошибок в перечислении "Codes", которые везде использованы.</li>
<li> Специальные названия архивов дополнено названием ALRM_ARCH_CH_NM ("&lt;alarmsChange&gt;"), для простой смены присутствующих нарушений.</li>
<li> Ограничения дополнены USER_ITS_LIMIT (1000000) для ограничения количества элементов вроде пользовательских массивов из DAQ.JavaLikeCalc.</li></ul></li>
<li> DB: Добавлен контроль закрытия транзакций в ядре OpenSCADA функциями trTm_ClsOnOpen(), trTm_ClsOnReq() и trPr_ClsTask().
<ul><li> Добавлен контроль процесса пере-включения объектов БД функцией disabledByUser().</li>
<li> Дополнено конфигурацией "Время жизни открытых таблиц", для закрытия неактивных таблиц функцией tblLifeTime().</li>
<li> Атрибут TBD::mEn перенесён в защищённое пространство.</li></ul></li>
<li> Транспорты:
<ul><li> In: Дополнено виртуальными функциями keepAliveReqs(), keepAliveTm() для правильного KeepAlive на Web.</li>
<li> Out: Дополнено сервисом закрытия выходных транспортов согласно временем жизни (неактивности), сервисной функцией outLifeTime().
<ul><li> Расширено полем общего контроля попыток в функции attempts().</li>
<li> Унифицировано контролем времени последнего запроса в функции lstReqTm().</li>
<li> Добавлена функция outAddrHelp() для получения общей помощи по адресу модулей выходных транспортов.</li></ul></li></ul></li>
<li> Protocol.HTTP: Расширено функцией пользовательского API setUser() для изменения автентифицированного пользователя.</li>
<li> DAQ: TController::alarmSet() расширено аргументом "force" для принуждения установки нарушений на объектах контроллеров в резервировании.
<ul><li> DAQ-параметры дополнены функцией пользовательского API alarmSet() и функцией vlSetRednt() унифицированной записи значений в резервировании.</li>
<li> TDAQS::rdRestDtTm() расширено возвратом double вместо float.</li>
<li> Дополнено функцией пользовательского API daqAt().</li>
<li> Функцию пользовательского API funcCall() расширено аргументом "err".</li>
<li> JavaLikeCalc: Функции пользовательского API charAt() и charCodeAt() расширено поддержкой UTF. Функции пользовательского API расширено isNaN() для bool, integer, real, string (особенно для проверки чисел в строке).</li></ul></li>
<li> Архивы:
<ul><li> Объекты TMArchivator и TArchiveS дополнено функцией redntTm() и rdTm() для получения последнего времени резервирования архивов сообщений.</li>
<li> TArchiveS::rdRestDtOverTm() расширено возвратом double вместо float.</li>
<li> Архивы значений дополнено общей опцией autoIdMode() режима формирования Идентификатора автоматически создаваемых архивов с вариантами перечисления AutoIdMode::{BothPrmAttrId,OnlyPrmId,OnlyAttrId}.</li>
<li> Val: Добавлены функции API пользователя getVals() и setVals() для реализации общего механизма доступа к архивам/истории в массиве и с фиксированной периодичностью.</li></ul></li>
<li> UI: Декларацию контекстной документации из описания некоторых узлов унифицировано функцией TUIS::docKeyGet().
<ul><li> VCAEngine: Добавлена функция пользовательского API уровня сеанса this.ownerSess().uiCmd(). Виджет исполнения дополнен функцией API пользователя this.attrList() для получения перечня атрибутов виджета.</li></ul></li></ul>
<h4><span class="mw-headline" id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0"><span class="mw-headline-number">7.5.3</span> Система</span></h4>
<ul><li> FIX: Сообщения исходного кода и документация программы:
<ul><li> TMess: Дополнено очисткой переменной окружения LC_ALL и установкой "LANG" ясли пусто, для предотвращения переопределения LC_NUMERIC=C в конце концов.</li>
<li> FIX:.,*: Исправлено множество оригинальных сообщений исходного кода также в течении документирования большинства модулей.</li>
<li> FIX:DAQ.JavaLikeCalc: Исправлено перевод JavaLikeCalc кода функцией tr() в создании таблицы перевода "Trs" и записей там в простом режиме (один язык).</li>
<li> Контекстная документация:
<ul><li> Внесетевая документация дополнена некоторыми модулями OpenSCADA и большинством библиотек внутренних процедур и графических элементов. Файл общих CSS-стилей внесетевой документации "doc/en/files/doc.css" улучшено выключением прозрачного фонового цвета и некоторыми свойствами выбора языка.</li>
<li> Унифицировано декларацией из описания некоторых узлов в функции TUIS::docKeyGet() и добавлены узлы для этого:
<ul><li> DAQ-шаблоны и JavaLikeCalc библиотеки;</li>
<li> СВУ-библиотеки в UI.VCAEngine и UI.Vision.</li></ul></li>
<li> UI: TUIS::docGet() дополнено кодом определения LTS сборок и использования замороженной LTS документации на OpenSCADA файл-сервере.</li>
<li> FIX:DAQ.JavaLikeCalc,UI.VCAEngine: Исправлена декларация внесетевой документации для "User_API".</li></ul></li></ul></li>
<li> FIX: Сборка:
<ul><li> FIX:configure.ac: Версия библиотеки ядра увеличена до 3:7:0 и версия программы увеличена до 0.9.1.</li>
<li> Дополнено корневыми файловыми системами (chroots) Debian 10, CentOs 8 и Ubuntu 20.04 для сборки OpenSCADA.
<ul><li> Исходные тексты значительно почищены на предмет предупреждений сборки из GCC 9 (CentOs 8).</li>
<li> UI.{QTCfg,Vision}: Адаптировано к сборке в окружении Debian 10 на предмет Qt5.11.3, GCC8 и ошибки около конфликта макроса message() в StdLibC++ через Qt5.</li></ul></li></ul></li>
<li> Android: Изучено поведение использования переменной окружения QT_SCALE_FACTOR на Android, которая установлена в 1.5 и удален типовой шрифт "Helvetica,12,-1" вместе с CSS-правилами QScrollBar.</li>
<li> Модульная версия подсистемы "Специальные" увеличена до 12; подсистемы "БД", "DAQ", "Архивы" и "UI" увеличена до 13; подсистемы "Транспорты" увеличена до 15.</li>
<li> FIX: Потоковость, задания, реальное время и замки:
<ul><li> Некоторые общие ресурсы данных dataRes() заменены собственными ресурсами, в основном из-за наблюдения проблем блокирования в Protocol.HTTP и <b>DAQ.ModBus</b>.</li>
<li> FIX: Добавлен механизм общих замков через контейнер замков, функция commonLock().
<ul><li> FIX: Transport.{Sockets,SSL}: Использовано для системных функций вроде getaddrinfo(), которые не являются многопотоковыми.</li></ul></li>
<li> Планирование задач дополнено фазированием их вызова, что делает нагрузку на процессор ровной.</li>
<li> FIX: Ожидание функции TCntrNode::nodeDis() исправлено для нулевого времени и функция chldDel() установлена в отсутствие ожидания по умолчанию.</li>
<li> FIX: Исправлена негативная приоритетность политики "BATCH".</li>
<li> Archive,DAQ.Controller: Для текущего времени сообщений и значений в основном использовано TSYS::curTime()/1000000 вместо time(NULL) поскольку время сообщений и значений в микросекундах и помечено TSYS::curTime().</li></ul></li>
<li> FIX: <span id="Redundancy" title="#Redundancy"><b>Резервирование</b></span>:
<ul><li> .,UI.{QTCfg,Vision,WebCfg,WebCfgD}: Функция "Передача локальных первичных команд" резервированных систем унифицирована и расширена полным перемещением в TCntrNode::cntrCmd(), итак, функция на данное время работает для любых вызовов также из окружения программирования пользователя.</li>
<li> Archives,DAQ.DAQGate: Обработка верхней границы времени сообщений в резервировании и DAQGate изменена на использование последнего сообщения для повтора его запроса дважды, чтобы предотвратить потере сообщений на границе.
<ul><li> FIX: Резервирование и DAQ.DAQGate восстановлены в записи больших архивных блоков значений, в основном в восстановлении участков архива значений.</li>
<li> Первое получение нарушений в резервировании сообщений включено только при наличии архиваторов сообщений в резерве.</li>
<li> Размещение сообщений в архиваторах процедурой резервирования TMArchivator::redntDataUpdate() изменено на использование функции put(), для осуществления этой операции автоматически для всех полученных сообщений под замком.</li></ul></li>
<li> DAQ,DAQ.*: Запись значений в резервировании унифицировано функцией vlSetRednt(). Сервис "TValue::get:/serv/attr" расширен несколько лишним запросом последнего запрошенного значения для предотвращения EVAL там при потере соединения.</li></ul></li>
<li> Функция strEncode() дополнена вариантом "Limit" для ограничения размера строки с учётом переменчивости UTF-8, и следующие элементы переведены на неё, вместо удалённого ограничивающего варианта функции strMess(): ключи TConfig, ВВ DAQ-шаблонов, DB.SQLite, UI.QTCfg.</li>
<li> FIX: Конфигурация:
<ul><li> TConfig,TCfg: Ключевые поля дополнены ограничением их размера перед обрезанием на стороне БД.
<ul><li> *: Функции добавления дополнены обработкой формирования идентификатора, или названия, и ограничения их в размере, возвратом результирующего названия инициатора, с использованием расширения функции узла chldAdd() до прямого возврата идентификатора и простого удаления нового узла для одинаковых.</li>
<li> DAQ: Идентификаторы ВВ Логического Уровня DAQ-шаблонов расширены ограничением размера до 1.5*OBJ_ID_SZ=30 символов и дополнены их обрезанием при создании.</li>
<li> Транспорты: Размер Идентификатора выходных транспортов установлен в OBJ_ID_SZ*2, поскольку они могут комбинироваться из обычного идентификатора узла и некоторого префикса, в автоматическом режиме.</li>
<li> Дополнено функцией установки полей TCfg в типовое значение, для предотвращения загрузке значений предыдущих записей в отсутствующие поля.</li></ul></li>
<li> TConfig,*: Функции пользовательского API для конфигурации cfg() и cfgSet() расширены контролем доступа.</li>
<li> Загрузка из выбранной БД улучшено предварительной проверкой включения в функции TSYS::chkSelDB().</li>
<li> TCntrNode,DAQ,DAQ.JavaLikeCalc: Дополнено функцией load__() для обработки некоторых действий в конце загрузки.</li></ul></li>
<li> Интерфейс Управления:
<ul><li> *: Унифицировано на предмет контроля модификации объектов узлов и очищено лишние модификации, переносом модификации из контекста исполнения под опцию "modifCalc".</li>
<li> .,UI.{QTCfg,WebCfgD}: Таблицы расширены отдельной помощью по колонкам и ячейкам.
<ul><li> Транспорты: Таблица внешних хостов OpenSCADA расширена контекстной помощью к ячейке адреса транспорта, используя функцию outAddrHelp().</li></ul></li></ul></li>
<li> DAQ-шаблоны и все их реализации дополнены функцией создания атрибутов выбора из второй и третьей строки шаблонного поля "Значение", TFunction::IO дополнен флагом TFld::Selectable.</li>
<li> Завершена унифицированная реализацию DAQ-шаблонов — TPrmTempl::Impl, и такие элементы мигрированы и адаптированы к ней: DAQ.{JavaLikeCalc,<b>ModBus</b>,LogicLev,Siemens}, Protocol.{ModBus,UserProtocol}, UI.WebUser.</li>
<li> FIX:DAQ,Archive.DBArch: Реализован копирующий конструктор TElem для исправления проблем в Archive.DBArch и многих групп-таблиц в групповом табличном режиме.</li>
<li> Function,DAQ.{JavaLikeCalc,LogicLev,<b>ModBus</b>,Siemens}: Расширено слежением за сменой программы функции и на предмет гарячего перезапуска исполняемых процедур, установкой флага "f_start".</li>
<li> TMess,XMLNode: Дополнено функцией setUTF8(), формирования UTF-8 из их кодов, взято из XMLNode для использования в других местах.</li></ul>
<h4><span class="mw-headline" id=".D0.91.D0.94"><span class="mw-headline-number">7.5.4</span> БД</span></h4>
<ul><li> FIX:*: Функция сброса конфигурационного контекста cfgToDefault() использована в начале функции dataSeek() и fieldSeek(), поскольку это обязательная операция, как минимум для конфигурационного файла, и должна также осуществляться для конфигурации в БД относительно новых полей.</li>
<li> Дополнено контролем закрытия транзакций в ядре OpenSCADA, в сервисной задаче для таймаута &gt; 10 секунд или в отдельной на БД задаче быстрого закрытия транзакций общих СУБД. Для чего добавлена функция trTm_ClsOnOpen(), trTm_ClsOnReq() и trPr_ClsTask().</li>
<li> Объекты БД дополнены восстановлением их включения после потери подключения (или другой причины) для предусмотренных к включению и не выключенных пользователем, с помощью disabledByUser().</li>
<li> Дополнено конфигурацией "Время жизни открытых таблиц, секунд", для закрытия неактивных таблиц.</li>
<li> FIX:{SQLite,MySQL,PostgreSQL,FireBird}:
<ul><li> FIX:{MySQL,PostgreSQL,FireBird}: Усовершенствовано и проверено горячее восстановление потерянных подключений и без потери данных.
<ul><li> FIX:FireBird: Восстановлено основную работу в запросе первичных ключей и адаптировано к FireBird версии 3.</li>
<li> FIX:MySQL: Решено с аварийным завершением во встроенном переподключении (по MYSQL_OPT_RECONNECT), который заменён собственным и горячим переподключением. Исправлена ошибка "BLOB/TEXT can't have a default value (1)" на современных версиях сервера MariaDB, полным удалением DEFAULT для TEXT.</li></ul></li>
<li> SQLite: Дополнено корректной обработкой блокирования файлов БД SQLite, при доступе к общим библиотекам из различных процессов.</li></ul></li></ul>
<h4><span class="mw-headline" id=".D0.A1.D0.B1.D0.BE.D1.80_.D0.94.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"><span class="mw-headline-number">7.5.5</span> Сбор Данных</span></h4>
<ul><li> TController::alarmSet(): Расширено имплементацией концепции тригерования нарушений, которая предусматривает также пропуск нарушений в буфер с целью очистки только при наличии нарушений.
<ul><li> Глобально унифицировано и полностью описано в документации на предмет сообщений из объектов контроллеров и DAQ-параметров, когда параметр-источник в сообщении дополняется именем объекта контроллера.</li>
<li> FIX: Изменено на использование полного ID-пути параметра, для предотвращения коллизиям в нарушениях от параметров с одинаковыми идентификаторами, но различными источниками.</li></ul></li>
<li> FIX:*: Свойство period() заранее актуализировано, при смене конфигурации "SCHEDULE", для обеспечения корректной периодичности данных архивов.</li>
<li> Расширено ранним включением библиотек шаблонов в процессе загрузки, изначально для транспортных протоколов основанных на DAQ-шаблонах.</li>
<li> FIX:<span id="ModBus" title="#ModBus"><b>ModBus</b></span>:
<ul><li> FIX: Режим "Асинхронная запись" восстановлен и проверен на записи после восстановления подключения, для использования в предотвращении потерь. Асинхронная запись перенесена на после фазы запроса с подавлением-задержкой изменения записанных значений в атрибутах до очищения буфера записи.</li>
<li> FIX: Исправлена работа в режиме резервирования.</li>
<li> FIX: Общая функция upVal() поделена на две функции upValStd() и upValLog() для отдельного обновления типов параметров сначала "Стандартный" и "Логический" тип на конец, для случаев использования данных "Стандартного" типа параметров в "Логическом".</li>
<li> Расширено работой с ошибочным или пустым транспортом подключений, чтобы обеспечить его смену из внешних процедур.</li>
<li> Расширено флагом "s" строгого запроса сложных данных.</li></ul></li>
<li> FIX:JavaLikeCalc: Расширено попыткой восстановления исполнения предыдущей процедуры в случае ошибок в новой, в основном из DAQ-шаблонов.
<ul><li> FIX: Исправлено аварийное завершение при горячей компиляции, в основном при возврате к корректной процедуре после компиляции ошибочной, в случае использования процедурой внутренних функций, возможно и внешних также, из-за отсутствия очистки "fPrmst". Все эти очистки унифицированы в функциях buildClear(), workClear().</li>
<li> Установлено в остановку функции при смене источника программы, для применения изменений.</li>
<li> FIX: Предотвращено рекурсивные вызовы, что наблюдалось на рекурсивном создании виджетов в UI.VCAEngine.</li></ul></li>
<li> Siemens: Расширен прямым определением типа данных адреса. LibnoDave обновлен к 0.8.5.1.</li>
<li> DAQGate: Расширен опцией и функцией размещения различных удалённых контроллеров в виртуальных параметрах.</li></ul>
<h4><span class="mw-headline" id=".D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B-.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F"><span class="mw-headline-number">7.5.6</span> Архивы-История</span></h4>
<ul><li> FIX:Сообщения:
<ul><li> /serv/mess: Усовершенствовано во вставке, относительно независимой записи в архив и чисто для обновления присутствующих нарушений.</li>
<li> Сообщения макросов "message", "mess_info", ... к функции Mess-&gt;put() перенаправлено на запись в буфер, для предотвращения прямой записи в архиваторы.</li>
<li> TArchiveS::messPut() очищено от аргумента "force".</li></ul></li>
<li> FIX:Значения:
<ul><li> TVArchive::getVals(): Усовершенствовано обработку несвободных буферов (с фиксированной периодичностью) относительно запроса данных из буфера и различных архиваторов, используя промежуточный буферный массив, который проигрывается в конце.</li>
<li> FIX: Усовершенствовано обработку ограничения независимо для буфера, архиваторов и их периодичности, для работы запросов данных на большом интервале и высокой периодичности.</li>
<li> FIX: TValBuf.get() переключено из генерации исключений на возврат EVAL при отсутствии запрошенных данных.</li>
<li> Архиваторы значений дополнены общей опцией "Режим формирования ID автоматически создаваемых архивов" с выбором из режимов: "Оба ID параметра и атрибута", "Только ID параметра", "Только ID атрибута". Для возможности контроля наименования автоматических архивов.</li>
<li> TVArchive::{setVals(),setVal()}: Доступ к функциям записи в архив ограничено только пользователям в группе "Архив".</li></ul></li>
<li> FIX:FSArch: Режим сообщений в XML дополнен кешем позиций.
<ul><li> FIX: Архивация сообщений значительно усовершенствована и исправлена относительно размещения нескольких различных сообщений на одно время.</li>
<li> FIX: Исправлено относительно удаления info.db и его обработки, используя адрес БД как уникальную сущность вместо ограниченного идентификатора БД, который сейчас именуется через индексацию одинаковых.</li>
<li> FIX: Создание каталога архива перенесено на начало, до блокирования и создания info.db.</li>
<li> FIX: Исправлена архивация дублированных сообщений в режиме предотвращения дубликатам - переписано.</li></ul></li>
<li> FIX:DBArch:
<ul><li> FIX: Исправлено включение архивов значений в архиваторы для негруппового типа архивации.</li>
<li> FIX: Окончательно исправлен запрос одиночных значений архиву, после неполного исправления от 2018-02-23 только для данных архіватора в периодичности 1 секунда.</li>
<li> Адаптировано к работе только в режиме прямой записи архива, для группового режима архивов и относительно обновления целевой информации при записи.</li></ul></li></ul>
<h4><span class="mw-headline" id=".D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B"><span class="mw-headline-number">7.5.7</span> Транспорты</span></h4>
<ul><li> .,*: Расширено поддержкой выбора многих протоколов и функция protocol() переименована в protocols().
<ul><li> Дополнено сервисом закрытия выходных транспортов по времени жизни (неактивности) и функцией outLifeTime(), унифицировано относительно контроля времени последнего запроса функцией lstReqTm().</li></ul></li>
<li> FIX:Serial: Исправлен режим "Модем" выходного транспорта, корректной обработкой результата функции ResMtx::tryLock(). Поле управления потоком перенесено в поле опций из-за необходимости прямого отключения некоторой опцией вроде -RS485.</li>
<li> FIX:Sockets,SSL: Расширено поддержкой IPv6 как для входных, так и выходных транспортов, используя getaddrinfo().
<ul><li> Дополнено обработкой (подключением) всех IP-адресов, полученных из символического, особенно для выходных транспортов.</li>
<li> Выходные транспорты дополнены прямым определением нескольких адресов хостов.</li>
<li> Выходные транспорты усовершенствовано в использовании попыток после получения ошибки запроса "Время чтения истекло.".</li>
<li> FIX:Sockets: Исправлена обработка выходных транспортов с адресом "SOCK:{N}" от инициативных подключений, относительно очистки адреса установкой в "SOCK:-1", чем предотвращая возможность перезапуска с использованием уже закрытого описателя сокета, но возможно уже выделенного другой частью программы.
<ul><li> Адрес входных транспортов в TCP-режиме может быть расширен дополнительными параметрами и сейчас следующим полем после режима является идентифицирующее сообщение инициативного подключения в режимі 2, т.е. этот режим расширен отправкой идентифицирующих сообщений после установки инициативных подключений.</li>
<li> "TCP:" префикс адреса сделан необязательным-опциональным.</li>
<li> Режим адреса входного транспорта по умолчанию установлен в 1 (не закрывать, только по параметрам KeepAlive).</li>
<li> Порт по умолчанию установлен в 10005.</li></ul></li>
<li> SSL: Дополнено обработкой NO_*_METHOD для TLS1, TLS1_1, TLS1_2, DTLS1 и прямой поддержкой DTLSv1_2. Порт по умолчанию установлен в 10045.</li></ul></li></ul>
<h4><span class="mw-headline" id=".D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.9F.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B"><span class="mw-headline-number">7.5.8</span> Транспортные Протоколы</span></h4>
<ul><li> FIX:HTTP: Дополнено корректной поддержкой KeepAlive, функциями входных транспортов keepAliveTm() и keepAliveReqs(). Расширено таблицей БД "HTTP_AuthSessions" внешних сеансов аутентификации.</li>
<li> FIX:ModBus: Входная часть расширена использованием DAQ-шаблонов.
<ul><li> Перечень типов данных таблицы ВВ дополнен типом "Объект".</li>
<li> Определение варианта протокола по входным запросам несколько улучшено определением отличия вариантов RTU и TCP, через учёт типа транспорта.</li></ul></li>
<li> UserProtocol: Расширено поддержкой DAQ-шаблонов.</li>
<li> SelfSystem: Расширено поддержкой попыток выходных транспортов.</li></ul>
<h4><span class="mw-headline" id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81_.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"><span class="mw-headline-number">7.5.9</span> Интерфейс Пользователя</span></h4>
<ul><li> FIX: TUIS::mimeGet() изменён на предмет поведения определения расширения файла "svg" как "image/svg+xml" для корректного отображения SVG-файлов, и множества таких файлов, на WEB.</li>
<li> FIX:VCAEngine,Vision,<b>WebVision</b>: Вариант "LineEdit" примитива "FormEl" дополнен видом "Пароль".</li>
<li> FIX: СВУ-стили переведены на схему включения стилей при их присутствии вместо выключения по "Нет стиля", также исправлено создание новых элементов и в целом.</li>
<li> VCAEngine,Vision: Вся информацию сведена в поле статуса для виджетов, библиотек и проектов; которые дополнены статусом исполняемой процедуры - наследовано, переопределено.</li>
<li> FIX:VCAEngine:
<ul><li> Страницы проектов дополнены типом "Ссылка", для оптимизации потребления памяти на высоко-динамических и высоко-повторяемых страницах, на стороне сеанса проекта. Открытие страниц при исполнении проекта (сеансы) улучшено предотвращением лишнего и двойного открытия и закрытия, что критично для контроля ссылок на страницы.</li>
<li> Множество мероприятий около редактирования визуальных элементов во время исполнения проекта.
<ul><li> Исправлено удаление страниц проекта во время исполнения проекта, на предмет предотвращения блокированию объектов и обеспечения их раннего связывания для удаления страниц сеансов вместе со страницами проектов.</li>
<li> Объекты сеансов переведены на собственную блокировку данных для предотвращения мертвого блокирования в сложных ситуациях, поскольку вызовы стилей используют непрямой parent().</li></ul></li>
<li> Оптимизация удалённой разработки:
<ul><li> информационные сервисы контроля "/prm/cfg/prj", "/page/page" дополнены получением количества дочерних страниц в атрибуте "chPgN" при установке "getChPgN";</li>
<li> дополнено на предмет предотвращения передачи иконок виджетов в контрольном сервисе "/serv/wlbBr" загрузки полного дерева виджетов, установкой атрибутов "disIconsW", "disIconsCW".</li></ul></li>
<li> Сеансы проектов СВУ прибраны, в конце концов, из под контроля модификации режима разработки.</li>
<li> Добавлено прямое определение специфических для визуализатора атрибутов, маркируя их префиксом "vs_".</li>
<li> FIX: Команда сеанса проекта "close" сервиса "/serv/pg" принудительно обрабатывается, что актуально для ссылок на страницы.</li>
<li> FIX: Процедура загрузки СВУ-страниц дополнена очисткой лишних записей и записей унаследованных, но отсутствующих виджетов, в таблице "*_incl".</li>
<li> FIX: Исправлена работа функции пользовательского API tr() из документов.</li></ul></li>
<li> FIX:QTCfg,Vision: Исправлена обработка подсветки синтаксиса текстовых полей путём первичной загрузки правил синтаксису а потом текста, для предотвращения порче текста в отдельных случаях, обнаружено в протоколе обмена транспорта и Qt 5.11.
<ul><li> Дополнено кнопками принудительной загрузки и сохранения, в меню.</li>
<li> Улучшено формирование Таблиц на предмет получения доступной ширины из maximumViewportSize().</li></ul></li>
<li> FIX:Vision,<b>WebVision</b>: Улучшен контроль лент прокрутки вложенных страниц, для обеспечения их работы отдельно, не двух вместе.
<ul><li> FIX:ElFigure: Завершена поддержка отражения, реализацией: в целом, черчения Дуги, заполнения в целом и изображением. Заполнение изображением предотвращено от пробелов при доступе поза изображением.</li>
<li> FIX:Диаграмма:
<ul><li> FIX:Тренды: Расширено построение шкалы времени, для множества суток с полным скрытием времени, и отображение первого значения слева, используя смещение временной зоны. Дополнено поддержкой больших временных интервалов по месяцам.</li>
<li> Отключено ограничение точности запрошенных значений архиву, для длинных счётчиков.</li>
<li> Улучшена удалённая работа на медленных каналах и с периодичностью буфера значений в 10 секунд.</li></ul></li>
<li> Text,Media,Box: Расширено отображением курсора активности.</li>
<li> FormEl: Некоторые виды (Редактирование строки, Редактирование текста, Комбобокс, Список, Дерево, Таблица) расширены отдельным фоном и границей, с помощью специфических пользовательских атрибутов "vs_background", "vs_border".</li>
<li> Дополнено специфическим пользовательским атрибутом "vs_winTitle" динамического значения заголовка окна.</li></ul></li>
<li> FIX:Vision:
<ul><li> Оптимизация удалённой разработки:
<ul><li> Дерево проектов переключено на частичную загрузку ветвей и расширение, для улучшения работы на медленных подключениях.</li>
<li> Дерево виджетов улучшено в работе на медленных подключениях путём отключением загрузки иконок виджетов по пороговому времени полной загрузки дерева более 5 секунд и включения этого для времени менее 0.1 секунды.</li></ul></li>
<li> Расширено планированием периода обновления в зависимости от реального качества подключения в режиме исполнения, вроде <b>UI.WebVision</b>.</li>
<li> FIX: Общие исправления и усовершенствования режимов исполнения окна:
<ul><li> FIX: Ручное масштабирование окна исполнения (относительно полного экрана или максимизации) улучшено и исправлено в обработке признака isResizeManual.</li>
<li> FIX: Исправлен запуск в полно-экранном режиме и не полное масштабирование при восстановлении в не нулевую позицию окна.</li></ul></li>
<li> FIX:FormEl:
<ul><li> FIX:Таблица: Улучшена подстройка к использованию максимальной ширины из размера виджета и максимума порта отображения, поскольку только максимум порта может быть тут ещё не инициированным. Окончательное исправление подстройки таблиц, переносом процедуры в сообщения: создать, изменить размер и показать. Исключены случайные падений.</li>
<li> FIX:Date: Исправлено аварийное завершение при установке конфигурации.</li></ul></li>
<li> FIX: Исправлена регулярная замена основной страницы (аварийное завершение) и масштабирование в режиме исполнения.</li>
<li> FIX: Исправлено исполнение относительно аварийного завершения в закрытии внешних окон при закрытии главного окна.</li>
<li> FIX: Исправлены диалоги редактирования свойств Страниц/Библиотек и Виджетов относительно:
<ul><li> предотвращения закрытия по Esc;</li>
<li> отключения отмены изменений по времени в LineEdit;</li>
<li> отвязки признака редактируемости от видимости в TextEdit;</li>
<li> предотвращения потере изменений во вкладке "Обработка";</li>
<li> предупреждения про изменение наследованной вычислительной процедуры.</li></ul></li>
<li> Контроль за фокусом переписан в специфичный около СВУ-виджетов контроль, а не Qt-виджетов, что похоже на UI.WebVision и что предотвращает некоторые проблемы.</li>
<li> ElFigure: Редактирование фигур переключено в нормальный режим, без какой-нибудь трансформации (поворота и отражения).</li></ul></li>
<li> FIX:<span id="WebVision" title="#WebVision"><b>WebVision</b></span>:
<ul><li> FIX:Основное функционирование:
<ul><li> FIX: JS функция servSet() записи на сервер переключена в синхронный режим для предотвращения потерь.</li>
<li> Унифицирована основная проверка фоновых объектов относительно поддержки опциональных фоновых объектов, для уменьшения общего количества фоновых объектов, где обязательными сейчас являются: "ElFigure", "Диаграмма", "Документ", "FormEl"; и опциональный только "Текст".</li>
<li> Границу вертикального расширения основного окна установлено в 10% от общего размера и в 50% для уменьшения, для предотвращения миганию на FireFox от примечаний про блокирование внешних окон. Установлено использование-включение встроенного режима масштабирования согласно к window.devicePixelRatio равного 1 на уровне Web-бравзера.</li>
<li> Значительно улучшено обнаружение потерь подключения для перегрузки основной страницы, в случаях возврата к уже закрытым сеансам в Web-браузере.</li>
<li> Дополнено реализацией специфического к визуализатору атрибута "userSetVis".</li>
<li> FIX: Восстановлена перегрузка целого дерева виджетов для восстановления функции удаления отсутствующих виджетов в визуализаторе при их удалении в СВУ-движке.</li>
<li> FIX: Предотвращены лишние и отдельные запросы содержимого вложенных страниц при запуске.</li>
<li> FIX: Улучшено поведение контроля фокуса и предотвращены сообщения мыши вне страниц.</li></ul></li>
<li> Дополнено контролем кеша страниц по времени жизни и максимальному количеству страниц как на стороне сервера, так и Web-бравзера, итак этот модуль, на данное время, больше подходит для работы в оперативном режиме!</li>
<li> Контроль сеансов:
<ul><li> Расширено возможностью ручного закрытия открытых сеансов от административного пользователя.</li>
<li> FIX: Обычные пользователи исключены от возможности подключения к чужим сеансам.</li>
<li> FIX: Основной код запроса GET значительно упрощён относительно предотвращения переподключениям к СВУ-сеансам без локальных представителей.</li>
<li> Дополнено состоянием открытых сеансов на странице контроля, включая подключенный проект и пользователя.</li></ul></li>
<li> FIX:Панель статуса:
<ul><li> Добавлен уровень нарушений с функцией глобальной квитации, отправкой "ws_alarmLev".</li>
<li> Расширено поддержкой СВУ-стилей в их отображении и изменении.</li>
<li> FIX: Исправлено в формировании размера панели статуса, обновлении и предотвращении её мигания при обновлении основной страницы.</li></ul></li>
<li> FIX:FormEl:
<ul><li> FIX:{Tree,Table}: исправлен расчёт ширины границы и отступа в конечной геометрии.
<ul><li> FIX:Tree: Исправлена обработка пустой строки в конце. Дополнено масштабированием изображений дерева управления.</li></ul></li></ul></li>
<li> Расширено установкой визуальных элементов СВУ на предмет атрибута "class" в "Примитив {WPrimitive}" и атрибута "id" в идентификатор виджета вроде "wdg_{id}", для упрощения детальной подстройки.</li></ul></li>
<li> FIX:QTStarter: Функция updLookFeel() исправлена на предмет возврата типа "void". Добавлена эмуляцию правой клавиши мыши и контекстного меню при удержании левой клавиши мыши в течении времени, установленного опцией командной строки --simulRightMKeyTm. Это время установлено в 2 секунды для Android.</li>
<li> FIX:QTCfg:
<ul><li> FIX: Исправлено применение-принятие забытых изменений редактируемых виджетов при переключении к другому узлу. Элементы TextEdit исправлены относительно определения признака редактирования, который отвязан от видимости.</li>
<li> Добавлен намёк к группам узлов для команды добавления узла.</li>
<li> Операции перемещения, в конфигурационной таблице, расширены горячими клавишами "Ctrl+Up" и "Ctrl+Down".</li>
<li> Оптимизация удалённой работы:
<ul><li> Предотвращено обновление дерева навигации при выборе любого элемента.</li>
<li> Замедление цикла периодического обновления после появления диалога занятости.</li></ul></li>
<li> Ускорено закрытие окна конфигуратора со многими неактивными OpenSCADA хостами, путём раннего уведомления заданий хостов.</li></ul></li>
<li> WebUser: Расширено поддержкой DAQ-шаблонов.</li></ul>
<h4><span class="mw-headline" id=".D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5"><span class="mw-headline-number">7.5.10</span> Специальные</span></h4>
<ul><li> FIX:FLibSYS:
<ul><li> FIX:IO: write() исправлено относительно получения типового типа данных, получение ошибочных данных сделано безопасным.</li>
<li> CRC: Завершено использованием нормальных полиномов, входных и выходных относительностей и XOR для выхода.</li>
<li> VArchObj: Доступ к функции записи в архив ограничен только пользователями в группе "Архив".</li></ul></li></ul>
<h4><span class="mw-headline" id=".D0.A1.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.BD.D1.8B.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_4"><span class="mw-headline-number">7.5.11</span> Сервисные обновления</span></h4>
<ul><li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2697" rel="nofollow noreferrer noopener" target="_blank">пятое (5) от 20.07.2020</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2693" rel="nofollow noreferrer noopener" target="_blank">четвертое (4) от 07.07.2020</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2688" rel="nofollow noreferrer noopener" target="_blank">третье (3) от 15.06.2020</a>.</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2684" rel="nofollow noreferrer noopener" target="_blank">второе (2) от 01.06.2020</a>;</li>
<li> <a class="external text" href="http://oscada.org/svn/tags/openscada_0.9/ChangeLog?p=2680" rel="nofollow noreferrer noopener" target="_blank">первое (1) от 11.05.2020</a>.</li></ul>
<h2><span class="mw-headline" id=".D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="mw-headline-number">8</span> Ссылки</span></h2>
<ul><li> <a class="external" href="http://oscada.org/wiki/Documents/Release_0.9/Tests" title="Documents/Release 0.9/Tests">Протокол тестирования</a> промышленного релиза 0.9 LTS.</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Release_0.9/Updating_0.8.0_LTS" title="Special:MyLanguage/Documents/Release 0.9/Updating 0.8.0 LTS">Руководство обновления 0.8.0 LTS</a>.</li>
<li> <a class="external text" href="http://oscada.org/en/development/tasks/posts/core/release_of_the_openscada_09_lts/" rel="nofollow noreferrer noopener" target="_blank">Задача выпуска релиза и список послерелизовых работ до первого обновления 0.9 LTS</a>.</li></ul>






</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Documents/Release_0.9/ru">Documents/Release_0.9/ru</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">January 2023</td><td style="text-align: right;" width="40%"> 1+r2866</td></tr></table></body>
</html>