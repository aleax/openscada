<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Документы/Руководство по программе - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../en/files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="http://oscada.org"><img alt="OpenSCADA" src="../en/files/Logo-big.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="ru">Документы/Руководство по программе</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="ru"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a class="external text" href="http://oscada.org/wiki/index.php?title=Special:Translate&amp;group=page-Documents%2FProgram+manual&amp;action=page&amp;filter=&amp;language=ru" rel="nofollow noreferrer noopener" target="_blank">translated version</a></span> of the page <a class="external" href="http://oscada.org/wiki/Documents/Program_manual" title="Documents/Program manual">Documents/Program manual</a> and the translation is 100% complete.</div><hr /><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" href="../en/Program_manual.html" title="Documents/Program manual (100% translated)">English</a>&nbsp;• ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">российский</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../uk/Program_manual.html" title="Документи/Посібник по програмі (100% translated)">українська</a></div></div>
<div style="float:right; border:1px solid gray; width:300px; padding:2px; margin-left: 10pt; margin-bottom: 10pt;">
<ul><li> <b>Автор:</b> <a class="external" href="http://oscada.org/wiki/User:RomanSavochenko" title="User:RomanSavochenko">Роман Савоченко</a></li>
<li> <b>Изначально создано:</b> в <a class="external text" href="http://wiki.oscada.org/HomePageEn/Doc/ProgrammManual" rel="nofollow noreferrer noopener" target="_blank">старой Wiki</a> </li></ul>
</div>
<p>Данный документ является руководством программы с открытыми исходными текстами именуемую "OpenSCADA". OpenSCADA представляет собой открытую SCADA систему, построенную по принципам модульности, многоплатформенности и масштабируемости.
</p><p>В качестве политики разработки данной программы выбраны "open source" принципы. Выбор данной политики определяется необходимостью создания открытой, надёжной и общедоступной SCADA системы. Данная политика позволяет привлечь к разработке, тестированию, развитию, распространению и использованию программы значительное количество разработчиков, энтузиастов и других заинтересованных лиц с минимизацией и распределением усилий и финансовых затрат.
</p><p>OpenSCADA предназначена для сбора, архивирования, визуализации информации, выдачи управляющих воздействий, а также других родственных операций, характерных для полнофункциональных SCADA систем. Благодаря высокому уровню абстракции и модульности программа может использоваться во многих смежных отраслях.
</p><p>OpenSCADA <a href="About.html#Using" title="Special:MyLanguage/About">может и применяться</a> на/в:
</p>
<ul><li> промышленных объектах в качестве полнофункциональной SCADA системы и телемеханике;</li>
<li> динамических моделях, имитаторах и тренажерах технологических процессов в реальном времени;</li>
<li> станках и промышленных роботах;</li>
<li> системах сельско-хозяйственной диспетчеризации и управления, птичниках;</li>
<li> встроенных и мобильных системах — окружениях исполнения Программируемого Логического Контролера (ПЛК), роботах, ...;</li>
<li> мониторинге оборудования серверов;</li>
<li> умных домах и автоматике зданий.</li></ul>
<p>В качестве основной операционной системы (программной платформы) для разработки и использования выбрана ОС Linux, которая является оптимальным решением в вопросах:
</p>
<ul><li> надёжности — большая доля серверов и кластеров работает на GNU/Linux;</li>
<li> гибкости/масштабируемости — ввиду своей открытости и модульности позволяет строить решения под любые требования;</li>
<li> доступности — благодаря использованию лицензии GPL это ПО является полностью свободной операционной системой, а при высокой квалификации пользователя и бесплатной;</li>
<li> популярности, развитости, поддержке, распространённости — система активно развивается множеством энтузиастов, фирм и государственными учреждениями во всем мире и получает всё большую поддержку на пользовательском и корпоративном рынке.</li></ul>
<p>Поскольку проект разрабатывается и реализуется по принципам многоплатформенности то не составляет особой проблемы портировать его на другие операционные системы (программные платформы) и аппаратные платформы. Что запланировано на будущее и в значительной степени уже осуществлено для некоторых платформ.
</p><p>Сердцем программы является модульное ядро. И в зависимости от того, какие модули подключены, программа может выступать как в роли различных серверов, так и в роли разнообразных клиентов, а также совмещать эти функции в одной программе. Это позволяет реализовывать клиент-серверную архитектуру на базе одних и тех же компонентов/модулей, экономя при этом машинную память, дисковое пространство, а также ценное время программистов.
</p><p>Серверные конфигурации программы предназначены для выдачи управляющих воздействий, сбора, обработки, архивирования, протоколирования информации от различных источников, а также предоставления этой информации клиентам (UI, GUI, TUI ...). Модульная архитектура позволяет расширять функциональность сервера без его перегрузки.
</p><p>Клиентские конфигурации могут строиться на основе различных графических библиотек (GUI/TUI ToolKits), как используя ядро программы и его модули (путём добавления к нему модуля пользовательского интерфейса), так и в качестве самостоятельного приложения, подключая ядро OpenSCADA как библиотеку.
</p><p>Возможность гибкой конфигурации программы позволяет строить решения под конкретные требования надёжности, функциональности и размеры-сложность программы.
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.90.D1.80.D1.85.D0.B8.D1.82.D0.B5.D0.BA.D1.82.D1.83.D1.80.D0.B0_.D0.B8_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8"><span class="tocnumber">1</span> <span class="toctext"><span>Архитектура и функции</span></span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C"><span class="tocnumber">1.1</span> <span class="toctext"><span>Модульность</span></span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">1.2</span> <span class="toctext">Подсистемы</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.D0.9F.D0.9B.D0.9A_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D1.85_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="tocnumber">1.3</span> <span class="toctext"><span>ПЛК и другие источники динамических данных, подсистема "Сбор данных"</span></span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="tocnumber">1.4</span> <span class="toctext"><span>Базы данных, подсистема "Базы данных"</span></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B_.D0.B8_.D0.B8.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B-.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F.22"><span class="tocnumber">1.5</span> <span class="toctext"><span>Архивы и история, подсистема "Архивы-История"</span></span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#.D0.A1.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">1.5.1</span> <span class="toctext"><span>Сообщения</span></span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#.D0.97.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">1.5.2</span> <span class="toctext"><span>Значения</span></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#.D0.9A.D0.BE.D0.BC.D0.BC.D1.83.D0.BD.D0.B8.D0.BA.D0.B0.D1.86.D0.B8.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22_.D0.B8_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="tocnumber">1.6</span> <span class="toctext"><span>Коммуникации, подсистемы "Транспорты" и "Транспортные протоколы"</span></span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.22"><span class="tocnumber">1.7</span> <span class="toctext">Интерфейсы пользователя, подсистема "Интерфейсы пользователя"</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="tocnumber">1.8</span> <span class="toctext">Безопасность программы, подсистема "Безопасность"</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.94.D0.B8.D1.81.D0.BF.D0.B5.D1.82.D1.87.D0.B5.D1.80_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9.22"><span class="tocnumber">1.9</span> <span class="toctext">Управление модулями, подсистема "Диспетчер модулей"</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#.D0.9D.D0.B5.D0.BF.D1.80.D0.B5.D0.B4.D1.83.D1.81.D0.BC.D0.BE.D1.82.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="tocnumber">1.10</span> <span class="toctext">Непредусмотренные возможности, подсистема "Специальные"</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#.D0.A4.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8.2C_.D0.BE.D0.B1.D1.8A.D0.B5.D0.BA.D1.82.D0.BD.D0.B0.D1.8F_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C_.D0.B8_.D1.81.D1.80.D0.B5.D0.B4.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"><span class="tocnumber">1.11</span> <span class="toctext">Функции, объектная модель и среда программирования пользователя</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#SCADA_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.B8_.D0.B8.D1.85_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0"><span class="tocnumber">2</span> <span class="toctext">SCADA системы и их структура</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#.D0.92.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"><span class="tocnumber">3</span> <span class="toctext">Варианты конфигурации и использования</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">3.1</span> <span class="toctext">Простое серверное подключение</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#.D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">3.2</span> <span class="toctext">Дублированное серверное подключение</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#.D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5"><span class="tocnumber">3.3</span> <span class="toctext">Дублированное серверное подключение на одном сервере</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#.D0.9A.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D1.81.D0.BA.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D0.BF.D0.BE.D1.81.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.BE.D0.BC_Web-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0._.D0.9C.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F"><span class="tocnumber">3.4</span> <span class="toctext">Клиентский доступ посредством Web-интерфейса. Место руководителя</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#.D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D0.B7.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B5_.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F.2F.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.29"><span class="tocnumber">3.5</span> <span class="toctext">Автоматизированное рабочее место (место руководителя/оператора)</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#.D0.90.D0.A0.D0.9C_.D1.81_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BE.D0.BC_.D1.81.D0.B1.D0.BE.D1.80.D0.B0_.D0.B8_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B9_.D0.BC.D0.B0.D1.88.D0.B8.D0.BD.D0.B5_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.2C_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C-.D1.82.D1.80.D0.B5.D0.BD.D0.B0.D0.B6.D1.91.D1.80_....29"><span class="tocnumber">3.6</span> <span class="toctext">АРМ с сервером сбора и архивирования на одной машине (место оператора, модель-тренажёр ...)</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.B5.D0.B9.D1.88.D0.B5.D0.B5_.D1.81.D0.BC.D0.B5.D1.88.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.28.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C.2C_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD.D1.81.D1.82.D1.80.D0.B0.D1.86.D0.B8.D1.8F.2C_.D1.82.D1.80.D0.B5.D0.BD.D0.B0.D0.B6.D1.91.D1.80.2C_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.82.D0.BE.D1.80_....29"><span class="tocnumber">3.7</span> <span class="toctext">Простейшее смешанное подключение (модель, демонстрация, тренажёр, конфигуратор ...)</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#.D0.A3.D1.81.D1.82.D0.BE.D0.B9.D1.87.D0.B8.D0.B2.D0.B0.D1.8F_.D1.80.D0.B0.D1.81.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D1.91.D0.BD.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">3.8</span> <span class="toctext">Устойчивая распределённая конфигурация</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href="#.D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"><span class="tocnumber">4</span> <span class="toctext"><span>Конфигурация и настройка</span></span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.94.22"><span class="tocnumber">4.1</span> <span class="toctext"><span>Подсистема "БД"</span></span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="tocnumber">4.2</span> <span class="toctext"><span>Подсистема "Безопасность"</span></span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22"><span class="tocnumber">4.3</span> <span class="toctext"><span>Подсистема "Транспорты"</span></span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="tocnumber">4.4</span> <span class="toctext">Подсистема "Транспортные протоколы"</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="tocnumber">4.5</span> <span class="toctext"><span>Подсистема "Сбор данных"</span></span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B-.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F.22"><span class="tocnumber">4.6</span> <span class="toctext"><span>Подсистема "Архивы-История"</span></span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B.22"><span class="tocnumber">4.7</span> <span class="toctext">Подсистема "Пользовательские интерфейсы"</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="tocnumber">4.8</span> <span class="toctext">Подсистема "Специальные"</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.94.D0.B8.D1.81.D0.BF.D0.B5.D1.82.D1.87.D0.B5.D1.80_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9.22"><span class="tocnumber">4.9</span> <span class="toctext"><span>Подсистема "Диспетчер модулей"</span></span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#.D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B9_.D0.A4.D0.B0.D0.B9.D0.BB_.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D0.BE.D0.B9_.D1.81.D1.82.D1.80.D0.BE.D0.BA.D0.B8"><span class="tocnumber">4.10</span> <span class="toctext"><span>Конфигурационный Файл и параметры командной строки</span></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-36"><a href="#.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">5</span> <span class="toctext"><span>Запуск и исполнение</span></span></a>
<ul>
<li class="toclevel-2 tocsection-37"><a href="#.D0.9F.D1.80.D0.BE.D0.B5.D0.BA.D1.82.D1.8B_OpenSCADA"><span class="tocnumber">5.1</span> <span class="toctext"><span>Проекты OpenSCADA</span></span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BF.D1.80.D0.BE.D0.B5.D0.BA.D1.82.D0.B0_OpenSCADA_.D0.B2_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.82.D0.B2.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.B0-.D1.84.D0.BE.D0.BD.D0.B5"><span class="tocnumber">5.2</span> <span class="toctext"><span>Исполнение готового проекта OpenSCADA в пространстве сервиса-фоне</span></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href="#.D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="tocnumber">6</span> <span class="toctext">Ссылки</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.90.D1.80.D1.85.D0.B8.D1.82.D0.B5.D0.BA.D1.82.D1.83.D1.80.D0.B0_.D0.B8_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8"><span class="mw-headline-number">1</span> <span id="ArchFunc" title="#ArchFunc">Архитектура и функции</span></span></h2>
<p>Про фактические функции и требования OpenSCADA Вы можете прочитать на странице "<a href="Functions_and_demands.html" title="Special:MyLanguage/Functions and demands">Функции и требования</a>", а в этом документе мы рассмотрим общие функции и свойства программы.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:703px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_struct_ru.png"><img class="thumbimage" height="360" src="files/Oscada_struct_ru.png" width="701" /></a>  <div class="thumbcaption">Рис. 1. Блочная схема OpenSCADA.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C"><span class="mw-headline-number">1.1</span> <span id="Modularity" title="#Modularity">Модульность</span></span></h3>
<p>Для придания гибкости и высокой степени масштабируемости OpenSCADA построена по модульному принципу. Тесная интеграция модулей с ядром улучшает стабильность програми в целом, благодаря повторному использованию отлаженного кода. Однако сам процесс разработки собственного кода модулей OpenSCADA накладывает большую ответственность — возможные ошибки вводят элемент нестабильности в программу. Возможность создания распределённых конфигураций сглаживает эту опасность.
</p><p>Модули OpenSCADA хранятся в динамических библиотеках. Каждая динамическая библиотека может содержать множество модулей различного типа. Наполнение динамических библиотек модулями определяется функциональной связностью самих модулей. Динамические библиотеки допускают горячую замену, что позволяет производить обновление отдельных частей программы в процессе функционирования. Метод хранения кода модулей в динамических библиотеках является основным для OpenSCADA, поскольку поддерживается практически всеми современными операционными системами(ОС). Однако это не исключает возможности разработки других методов хранения кода модулей.
</p><p>На основе модулей реализованы следующие функциональные части OpenSCADA:
</p>
<ul><li> базы данных;</li>
<li> коммуникационные интерфейсы, транспорты;</li>
<li> протоколы коммуникационных интерфейсов;</li>
<li> источники данных и сбор данных;</li>
<li> архивы-история (сообщений и значений);</li>
<li> интерфейсы пользователя (GUI, TUI, WebGUI, speach, signal ...);</li>
<li> дополнительные модули, специальные.</li></ul>
<p>Управление модулями осуществляется подсистемой "Диспетчер модулей". Функциями подсистемы является: подключение, отключение, обновление и другие операции, связанные с модулями и библиотеками модулей.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="mw-headline-number">1.2</span> Подсистемы</span></h3>
<p>Архитектурно OpenSCADA делится на подсистемы. Подсистемы могут быть двух типов: обычные и модульные. Модульные подсистемы обладают свойством расширения посредством модулей. Каждая модульная подсистема может содержать множество модульных объектов. Например, модульная подсистема "Базы данных" содержит модульные объекты типов баз данных. Модульный объект является корнем внутри модуля.
</p><p>Всего OpenSCADA содержит девять подсистем, из них семь являются модульными. Эти девять подсистем OpenSCADA являются базовыми и присутствуют в любой конфигурации. К списку девяти подсистем могут добавляться новые, посредством самих модулей. Подсистемы OpenSCADA:
</p>
<ul><li> Безопасность.</li>
<li> Диспетчер модулей.</li>
<li> Базы данных (модульная).</li>
<li> Транспорты (модульная).</li>
<li> Транспортные протоколы (модульная).</li>
<li> Сбор данных (модульная).</li>
<li> Архивы-История (модульная).</li>
<li> Интерфейсы пользователя (модульная).</li>
<li> Специальные (модульная).</li></ul>
<h3><span class="mw-headline" id=".D0.9F.D0.9B.D0.9A_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D1.85_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="mw-headline-number">1.3</span> <span id="DAQ" title="#DAQ">ПЛК и другие источники динамических данных, подсистема "Сбор данных"</span></span></h3>
<p>Подсистема "Сбор данных" (Рис.1.3) предусмотрена для предоставления поддержки источников динамических данных, будь то: ПЛК, платы УСО, виртуальные источники и другое. В функции этой подсистемы входит предоставление полученных данных в структурированном виде — <b>модель данных</b> и обеспечение управления этими данными, например — модификация данных.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:309px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_daq_str_ru.png"><img class="thumbimage" height="335" src="files/Oscada_subsys_daq_str_ru.png" width="307" /></a>  <div class="thumbcaption">Рис. 1.3. Иерархическая структура подсистемы "Сбор данных".</div></div></div></div>
<p>Подсистема "Сбор данных" является модульной и, как следствие, содержит модульные объекты типов источников динамических данных. Например, OpenSCADA сейчас предоставляет более чем двадцать <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules" title="Special:MyLanguage/Modules">модулей</a> и <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs/Generic_list" title="Special:MyLanguage/Libs/Generic list">библиотечных элементов</a>
<a href="DAQ.html#UserPrt" title="Special:MyLanguage/Documents/DAQ">источников логических типов</a>. Наиболее значимые и проработанные с которых:
</p>
<ul><li> <a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">Вычислитель на Java-подобном языке</a>;</li>
<li> <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">Логический уровень</a>;</li>
<li> <a href="Modules/BlockCalc.html" title="Special:MyLanguage/Modules/BlockCalc">Блочный вычислитель</a>;</li>
<li> <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">Шлюз источников данных</a>;</li>
<li> <a href="Modules/System.html" title="Special:MyLanguage/Modules/System">Сбор данных ОС</a>;</li>
<li> <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a>;</li>
<li> <a href="Modules/DCON.html" title="Special:MyLanguage/Modules/DCON">DCON клиент</a>;</li>
<li> <a href="Modules/OPC_UA.html" title="Special:MyLanguage/Modules/OPC UA">Клиент OPC-UA</a>;</li>
<li> <a href="Modules/Siemens.html" title="Special:MyLanguage/Modules/Siemens">Сбор данных Siemens</a>;</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/MMS" title="Special:MyLanguage/Modules/MMS">MMS(IEC-9506)</a>;</li>
<li> <a href="Modules/SNMP.html" title="Special:MyLanguage/Modules/SNMP">SNMP клиент</a>;</li>
<li> <a href="Modules/ICP_DAS.html" title="Special:MyLanguage/Modules/ICP DAS">Оборудование ICP DAS</a>;</li>
<li> <a href="Modules/DiamondBoards.html" title="Special:MyLanguage/Modules/DiamondBoards">Diamond платы сбора данных</a>.</li></ul>
<p>Каждый тип источника нелогического типа реализуется в отдельном модуле, который может содержать множество источников (объектов контроллеров) и каждый этот источник обычно выполняется в отдельном потоке-задаче.
</p><p>Отдельно взятый объект контроллера может содержать параметры определённых модулем типов. Например, параметры аналогового типа, основной информацией которых являются значения целого или реального типа. Структурно параметр представляет собой перечень атрибутов, которые и содержат данные. Атрибуты могут быть пяти базовых типов: логический, целый, реальный, символьная строка(текст) и объект. Структуры объектов контроллеров, параметров и их типов содержатся в подсистеме "Сбор данных", а объекты модулей осуществляют их наполнение согласно собственной специфики.
</p><p>Отдельные типы источников данных сами могут продуцировать данные как полностью их генерируя, так и обрабатывая физические данные и даже <a href="DAQ.html#UserPrt" title="Special:MyLanguage/Documents/DAQ">полностью реализуя получение этих данных в окружении OpenSCADA</a> и на её внутреннем языке. Такие источники данных называются логическими. Полностью логические источники данных представлены модулями: <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">LogicLev</a> и <a href="Modules/BlockCalc.html" title="Special:MyLanguage/Modules/BlockCalc">BlockCalc</a>. Существует ряд модулей, которые объединяют в себе логические данные как результат непосредственной обработки физических: <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a>, <a href="Modules/Siemens.html" title="Special:MyLanguage/Modules/Siemens">Siemens</a> и <a href="Modules/OPC_UA.html" title="Special:MyLanguage/Modules/OPC UA">OPC-UA</a>.
</p><p>Источники динамических данных могут быть удалёнными, т.е. формироваться или получаться на удалённой станции OpenSCADA. Для связи с такими источниками данных используется модуль шлюзования <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQGate</a>. Функцией этого типа источников данных является отражение источников данных удалённой OpenSCADA станции на локальную.
</p><p>Детально ознакомиться с ключевой подсистемой "Сбор данных" и её функциями Вы можете в отдельном документе "<a href="DAQ.html" title="Special:MyLanguage/Documents/DAQ">Сбор данных в OpenSCADA</a>".
</p>
<h3><span class="mw-headline" id=".D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="mw-headline-number">1.4</span> <span id="DB" title="#DB">Базы данных, подсистема "Базы данных"</span></span></h3>
<p>Для хранения данных программы повсеместно используются базы данных (БД). С целью унификации доступа и управления базами данных в OpenSCADA предусмотрена подсистема "Базы данных" (Рис.1.4). Для обеспечения поддержки различных БД/СУБД подсистема выполнена модульной.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:389px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_db_str_ru.png"><img class="thumbimage" height="310" src="files/Oscada_subsys_db_str_ru.png" width="387" /></a>  <div class="thumbcaption">Рис. 1.4. Иерархическая структура подсистемы "БД".</div></div></div></div>
<p>В роли модульного объекта, который содержится в подсистеме, выступает тип БД/СУБД, т.е. модуль подсистемы "Базы данных" практически содержит реализацию доступа к определённому типу БД. OpenSCADA предоставляет следующие наиболее значительные и проработанные модули: <a href="Modules/SQLite.html" title="Special:MyLanguage/Modules/SQLite">SQLite</a>, <a href="Modules/MySQL.html" title="Special:MyLanguage/Modules/MySQL">MySQL</a>, <a href="Modules/PostgreSQL.html" title="Special:MyLanguage/Modules/PostgreSQL">PostgreSQL</a>, <a href="Modules/FireBird.html" title="Special:MyLanguage/Modules/FireBird">FireBird</a>.
</p><p>Тип БД/СУБД в свою очередь содержит перечень объектов отдельных БД этого типа, а объект БД содержит перечень объектов таблиц, которые и содержат данные в табличном виде.
</p><p>Практически все данные OpenSCADA хранятся в той или иной БД. Инструментарий программы позволяет легко переносить данные из одного типа БД в другой, и, как следствие, оптимально подбирать тип БД под конкретную область применения OpenSCADA. Перенос информации с одной БД в другую может быть выполнен двумя способами. Первый — это изменение адреса рабочей БД и сохранение всей конфигурации программы на неё, второй — это прямое копирование информации между БД. Кроме копирования поддерживается и функция прямого редактирования содержимого таблиц БД.
</p><p>Для организации централизованного доступа распределённой программы к единой БД предусматривается два способа. Первый это использование сетевых СУБД, например — MySQL. Второй способ это использование транспортного типа БД на локальных станциях, для доступа к единой центральной БД другой OpenSCADA станции, через пересылку запросов к БД на этой удалённой станции — не реализовано ещё в OpenSCADA.
</p><p>Данные могут храниться также в конфигурационном файле программы. Реализован механизм полного отражения структуры БД на структуру конфигурационного файла. Т.е. стандартную конфигурацию можно размещать в конфигурационном файле. Смысл такого механизма состоит в том, что типовые (по умолчанию) данные программы можно описывать в конфигурационном файле, например — при старте без БД. Далее эти данные могут переопределяться в БД. Кроме того, для случаев невозможности запуска какой нибудь БД вообще, можно все данные хранить в конфигурационном файле.
</p><p>Для доступа к базам данных используется механизм регистрации БД. Зарегистрированные в программе БД доступны всем подсистемам OpenSCADA и могут использоваться в их работе. Благодаря этому механизму можно обеспечить разделение хранения данных. Например, различные библиотеки могут храниться и распространяться независимо, а подключения библиотеки будет заключаться в простой регистрации нужной БД.
</p>
<h3><span class="mw-headline" id=".D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B_.D0.B8_.D0.B8.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B-.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F.22"><span class="mw-headline-number">1.5</span> <span id="Arch" title="#Arch">Архивы и история, подсистема "Архивы-История"</span></span></h3>
<p>Любая SCADA система должна предоставлять возможность архивации собранных данных, т.е. формирование истории изменения (динамики) процесса. Архивы условно можно разделить на два типа: архивы сообщений и архивы значений.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:221px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_arch_str_ru.png"><img class="thumbimage" height="251" src="files/Oscada_subsys_arch_str_ru.png" width="219" /></a>  <div class="thumbcaption">Рис. 1.5. Иерархическая структура подсистемы "Архивы-История".</div></div></div></div>
<p>Особенностью архивов сообщений является архивация так называемых сообщений программы, а именно — ведение логов и протоколов. Характерной особенностью сообщения является время его возникновения. В зависимости от источника сообщения могут классифицироваться по различным критериям. Например, это могут быть протоколы аварийных ситуаций, протоколы действий операторов, протоколы отказов связи и другое.
</p><p>Особенностью архивов значений является их периодичность, которая определяется промежутком времени между двумя смежными значениями. Архивы значений применяются для архивирования истории непрерывных процессов. Поскольку процесс непрерывный то и архивировать его можно только путём введения понятия квантования опроса значений, иначе мы получим архивы бесконечных размеров, в соответствии с непрерывностью самой природы процесса. Кроме того, практически мы можем получить значения с периодом ограниченным самими источниками данных. Например, довольно качественные источники данных в промышленности редко позволяют получать данные с частотой более 1 кГц, и это без учёта самих датчиков которые имеют менее качественные частотные характеристики.
</p><p>Для решения задач архивирования потоков данных в OpenSCADA предусмотрена подсистема "Архивы-История" (Рис.1.5), которая является модульной и позволяет вести архивы сообщений и значений. Модульным объектом, который содержится в подсистеме "Архивы-История", выступает тип архиватора. Тип архиватора определяет способ хранения данных т.е. хранилище — <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">файловая система</a>, <a href="Modules/DBArch.html" title="Special:MyLanguage/Modules/DBArch">СУБД</a>. Каждый модуль подсистемы "Архивы-История" соответственно может реализовывать архивирование сообщений и значений, а сама подсистема может содержать множество архивов, которые обслуживаются различными модулями.
</p>
<h4><span class="mw-headline" id=".D0.A1.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D1.8F"><span class="mw-headline-number">1.5.1</span> <span id="ArchMess" title="#ArchMess">Сообщения</span></span></h4>
<p>Сообщения в OpenSCADA характеризуются датой, уровнем важности, категорией и непосредственно текстом сообщения. Дата сообщения соответственно указывает на дату и время его создания. Уровень важности указывает на степень важности сообщения. Категория определяет адрес или условный идентификатор-ключ источника сообщения. Часто категория содержит полный путь к источнику сообщения в программе. Текст сообщения соответственно и несет главную смысловую нагрузку сообщения.
</p><p>В процессе архивирования сообщения пропускаются через фильтр, который работает по уровню важности и категории сообщений. Уровень сообщений в фильтре указывает на то, что нужно пропускать сообщения с указанным или высшим уровнем важности. Для фильтрации по категории применяются шаблоны или регулярные выражения, которые определяют какие сообщения пропускать. Каждый архиватор содержит собственные настройки фильтра, соответственно можно легко создавать различные специализированные архиваторы для архива сообщений. Например, архиваторы сообщений можно направить на:
</p>
<ul><li> логи, для сохранения информации отладки и другой рабочей информации серверов;</li>
<li> различные протоколы (протокол действий пользователей, протокол нарушений и исключений, протокол сообщений ... ).</li></ul>
<p>Уровней сообщений предусмотрено 8, но каждый из этих уровней, от 1(первого), может быть расширен подуровнями, т.е. фактически быть группой из 10 подуровней, что осуществляется простым добавлением цифры после основного уровня, например, 5 — это основной уровень, а 50...59 это расширения уровня 5. Что общее количество уровней устанавливает в 80. Семь основных уровней имеют названия, и соответствию которым желательно придерживаться:
</p>
<ul><li> <b>0</b> — Отладка;</li>
<li> <b>1[X]</b> — Информация;</li>
<li> <b>2[X]</b> — Замечание;</li>
<li> <b>3[X]</b> — Предупреждение;</li>
<li> <b>4[X]</b> — Ошибка;</li>
<li> <b>5[X]</b> — Критически;</li>
<li> <b>6[X]</b> — Тревога;</li>
<li> <b>7[X]</b> — Авария.</li></ul>
<p>Ввиду схожести природы сообщений и нарушений подсистема "Архивы-История" содержит буфер текущий нарушений, который содержит активные на текущее время нарушения с категорией сообщения в роли ключа-идентификатора нарушения. Доступ к перечню-буферу текущих нарушений осуществляется путём указания отрицательного значения уровня сообщений. Так, формирование сообщений с отрицательным уровнем -2 вызывает помещение этого сообщений в буфер активных нарушений с уровнем 2, а также дублирование его непосредственно в архиве сообщений (буфере общих сообщений). При формировании сообщения в такой-же категории, но с положительным уровнем — скажем 1, будет осуществлено удаление указанного нарушения из буфера нарушений, а само сообщений также попадёт в архив сообщений (буфер общих сообщений). Такой механизм позволяет одновременной вести учёт активных нарушений и протоколировать их прохождение в архиве сообщений. При запросе к архиву сообщений, указание положительного уровня осуществляет запрос к архиву сообщений (через общий буфер сообщений), а отрицательного к буферу-перечню текущих нарушений.
</p><p>Строгой структуры категории и текста сообщения не предусматривается и пользователь, для собственных сообщений, может формировать их производно, но стоит учесть структуру системных сообщений и сообщений, определённых <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs" title="Special:MyLanguage/Libs">стандартными библиотеками OpenSCADA</a>, чтобы исключить пересечение с ними, или предметно расширить:
</p>
<ul><li> <b>Системные</b>, генерируются объектами-узлами OpenSCADA:</li></ul>
<dl><dd> КАТЕГОРИЯ: определяет типовой путь к узлу сообщения, например — "/sub_DAQ/mod_LogicLev/cntr_gen/", где:
<ul><li> "/*/*" — типовой шаблон-признак системного сообщения на основе символа-разделителя элементов пути, который может быть непосредственно использован в фильтре категории для определения чисто <a class="external" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png" title="File:QTCfg subsys arch mod ma main ru.png">архива системных сообщений</a>.</li></ul></dd>
<dd> ТЕКСТ: содержит путь наименований узла сообщения и само сообщение в формате "<b>{NodeNmPath}: {message}</b>", например — "AGLKS &gt; Сбор Данных &gt; LogicLev &gt; gen: Запуск контроллера.".</dd></dl>
<ul><li> <b>Шлюзованные</b>, сообщения, которые были получены из иерархически низшей станции OpenSCADA (вроде ПЛК) или передано высшей станцией:</li></ul>
<dl><dd> КАТЕГОРИЯ: в начало категории полученного сообщения добавляется идентификатор объекта контроллера модуля <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQ.DAQGate</a>, который осуществил получение, например — "loop:alModBus:testTCP" или "TopStat(DAQCntr):alModBus:testTCP", где:
<ul><li> "loop:*" — типовой шаблон-признак удалённого нижшего сообщения на основе идентификатора объекта контроллера <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">модуля DAQ.DAQGate</a>, который может быть непосредственно использован в фильтре категории для определения исключительно <a class="external" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png" title="File:QTCfg subsys arch mod ma main ru.png">архива удалённых сообщений этого источника</a>;</li>
<li> "TopStat(DAQCntr):*" — типовой шаблон-признак удалённого высшего сообщения на основе названия проекта (или идентификатора) <i>TopStat</i> и идентификатора объекта контроллера <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">модуля DAQ.DAQGate</a>, который может быть непосредственно использован в фильтре категории для определения исключительно <a class="external" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png" title="File:QTCfg subsys arch mod ma main ru.png">архива удалённых сообщений этого источника</a>.</li></ul></dd></dl>
<ul><li> Унифицированные структуры с источником данных в категории, генерируются источником данных или его процедурами с помощью функции <i>messSet()</i> <a href="../en/API.html#TController" title="Special:MyLanguage/Documents/API">API OpenSCADA</a> и <a href="User_API.html#SYS.DAQ" title="Special:MyLanguage/Documents/User API">пользовательского API</a>:</li></ul>
<dl><dd><dl><dd> КАТЕГОРИЯ: определяет ID-адрес источника нарушения в формате "<b>{ID}{ModId}:{CntrId}[.{PrmId}][:{SpecPrms}]</b>", где:
<ul><li> <i>ID</i> — двухсимвольный идентификатор структуры;</li>
<li> <i>ModId</i> — идентификатор модуля;</li>
<li> <i>CntrId</i> — идентификатор объекта контроллера;</li>
<li> <i>PrmId</i> — идентификатор параметра;</li>
<li> <i>SpecPrms</i> — специфические параметры структуры <i>ID</i>.</li></ul></dd></dl>
<ul><li> <b>Нарушение</b>, генерируется источником данных или его процедурами с помощью функции <i>alarmSet()</i> <a href="../en/API.html#TController" title="Special:MyLanguage/Documents/API">API OpenSCADA</a> и <a href="User_API.html#SYS.DAQ" title="Special:MyLanguage/Documents/User API">пользовательского API</a>:</li></ul>
<dl><dd> КАТЕГОРИЯ: определяет ID-адрес источника нарушения в формате "<b>al{ModId}:{CntrId}[.{PrmId}]</b>", например — "alLogicLev:gen.F_PP1", где:
<ul><li> "al*" — типовой шаблон-признак сообщения нарушения на основе двух первых символов слова "alarm", который может быть непосредственно использован в фильтре категории для определения чисто <a class="external" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png" title="File:QTCfg subsys arch mod ma main ru.png">архива сообщений</a>.</li></ul></dd>
<dd> ТЕКСТ: "<b>{CntrNm} &gt; {PrmNm}: {MessText}</b>", например — "Общестанционка &gt; F_PP1: Расход газа через диафрагму PP1: НОРМА", где:
<ul><li> <i>CntrNm</i> — название объекта контроллера;</li>
<li> <i>PrmNm</i> — название параметра;</li>
<li> <i>MessText</i> — текст сообщения, которое имеет подструктуру "<b>{Viol}: {Value}[: {QuietTime}[: {NormTime}[: {Comment}]]]</b>", где:</li></ul>
<dl><dd><ul><li> <i>Viol</i> — описание нарушения, которое отдельные кадры, вроде <a href="Libs_Main_graphical_elements.html#alarmsAct" title="Special:MyLanguage/Libs/Main graphical elements">Main.alarmsAct</a> и <a href="Libs_Main_graphical_elements.html#alarmsSt" title="Special:MyLanguage/Libs/Main graphical elements">Main.alarmsSt</a>, могут расширять пользовательскими полями в форме "<b>[[{CustFld0} =&gt; {CustFld1} =&gt; ... =&gt; {CustFldN}]]</b>";</li>
<li> <i>Value</i> — значение нарушения;</li>
<li> <i>QuietTime</i> — время подтверждения (квитации);</li>
<li> <i>NormTime</i> — время возврата к состоянию НОРМА, устанавливается тут после квитации-возврата сообщения уже в НОРМА;</li>
<li> <i>Comment</i> — комментарий к этому случаю.</li></ul></dd></dl></dd></dl>
<ul><li> <b>Действия пользователя-оператора с источником данных</b>, генерируются процедурой виджетов при определении действий пользователя-оператора, которые должны быть зафиксированы в протоколе пользователя-оператора и когда доступнен объект параметра источника данных:</li></ul>
<dl><dd> КАТЕГОРИЯ: определяет пользователя и характерный источник (обычно параметр подсистемы "Сбор данных") для которого осуществлено действия, в формате "<b>OP{ModId}:{CntrId}[.{PrmId}]:{user}</b>", например — "OPLogicLev:gen.PC_PCV1:roman", где:
<ul><li> "OP*" — типовой шаблон-признак сообщения действия пользователя-оператора на основе двух первых символов слова "operator", который может быть непосредственно использован в фильтре категории для определения чисто <a class="external" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png" title="File:QTCfg subsys arch mod ma main ru.png">архива действий оператора</a>.</li></ul></dd>
<dd> TEXT: такое самое как и при структуре "Действия пользователя-оператора".</dd></dl></dd></dl>
<ul><li> <b>Действия пользователя-оператора</b>, генерируются процедурой виджетов при определении действий пользователя-оператора, которые должны быть зафиксированы в протоколе пользователя-оператора:</li></ul>
<dl><dd> КАТЕГОРИЯ: определяет пользователя и характерный источник (обычно параметр подсистемы "Сбор данных") для которого осуществлено действия, в формате "<b>OP:{user}:{src}</b>", например — "OP:roman:PC КРД1", где:
<ul><li> "OP:*" — типовой шаблон-признак сообщения действия пользователя-оператора на основе двух первых символов слова "operator", который может быть непосредственно использован в фильтре категории для определения чисто <a class="external" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png" title="File:QTCfg subsys arch mod ma main ru.png">архива действий оператора</a>;</li>
<li> <i>user</i> — пользователь OpenSCADA;</li>
<li> <i>src</i> — характерный источник, обычно параметр подсистемы "Сбор данных", при необходимости дополненный иерархией DAQ-параметров до объекта контроллера.</li></ul></dd>
<dd> ТЕКСТ: описание действия в формате "<b>{src}&nbsp;: {name}&nbsp;: [{oldVal}]&nbsp;: {newVal}</b>", например — "'PC КРД1'. Задание&nbsp;: Регулятор давления на входе КС&nbsp;: 5.8&nbsp;: 6.0", где:
<ul><li> <i>src</i> — название источнике, обычно объекта параметра с детализацией, и при необходимости дополненный иерархией DAQ-параметров до объекта контроллера;</li>
<li> <i>name</i> — название источника, обычно объекта параметра;</li>
<li> <i>oldVal</i> — старое значение, может отсутствовать;</li>
<li> <i>newVal</i> — новое значение или действие.</li></ul></dd></dl>
<ul><li> <b>Значение в сообщении</b> — измеренные значения, которые введены вручную, что первично внедрено в кадре документа "<a href="Libs_Documents.html#docRepYear" title="Special:MyLanguage/Libs/Documents">Ручной отчёт месячных значений (docRepYear)</a>":</li></ul>
<dl><dd> КАТЕГОРИЯ: определяет ID источника <i>SrcID</i> в формате "<b>val{SrcID}</b>", где:
<ul><li> "val*" — типовой шаблон-признак значения, который может быть непосредственно использован в фильтре категорий для определения чисто значения в сообщениях;</li>
<li> <i>SrcID</i> — идентификатор источника.</li></ul></dd>
<dd> ТЕКСТ: название <i>Name</i> и значение <i>Value</i> параметра в формате "<b>{Name}: {Value}</b>".</dd></dl>
<ul><li> <b><a href="Libs_Prescriptions.html#manager" title="Special:MyLanguage/Libs/Prescriptions">Исполнение рецептов</a></b> — генерирует сообщения действий в течении исполнения рецепта на предмет:</li></ul>
<dl><dd> КАТЕГОРИЯ: определяет идентификатор пользовательского рецепта-программы <i>ProgNM</i> в формате "<b>uprg{ProgNM}</b>", где:
<ul><li> "uprg*" —  типовой шаблон-признак пользовательского рецепта-программы, который может быть непосредственно использован в фильтре категории для определения чисто пользовательских рецептов-программ;</li>
<li> <i>ProgNM</i> — имя рецепта-программы.</li></ul></dd>
<dd> ТЕКСТ: описание действия в формате "<b>{ActDescr} "{ProgNM}"&nbsp;: {StartTm}&nbsp;: {ActTm}</b>", где:
<ul><li> <i>ActDescr</i> — описание действия:</li></ul>
<dl><dd><ul><li> "Текущий узел отсутствует";</li>
<li> "Прерванный пользователем сеанс программы";</li>
<li> "Прерванный ошибкой сеанс программы";</li>
<li> "Успешный сеанс программы".</li></ul></dd></dl>
<ul><li> <i>ProgNM</i> — имя рецепта-программы;</li>
<li> <i>StartTm</i> — время запуска рецепта-программы, в формате "2020-03-14 16:05:01";</li>
<li> <i>ActTm</i> — время действия рецепта-программы, в формате "2020-03-14 16:05:52".</li></ul></dd></dl>
<h4><span class="mw-headline" id=".D0.97.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F"><span class="mw-headline-number">1.5.2</span> <span id="ArchVals" title="#ArchVals">Значения</span></span></h4>
<p>Архивы значений в OpenSCADA выступают как независимые компоненты, которые включают буферы, обрабатываемые архиваторами. Основным параметром архивов значений является источник данных, в роли которого могут выступать атрибуты параметров подсистемы "Сбор Данных", а также другие внешние источники данных (пассивный режим). Другими источниками данных могут быть сетевые архиваторы удалённых станций OpenSCADA, среда программирования OpenSCADA и другое.
</p><p>Ключевым компонентом архивирования значений непрерывных процессов является буфер значений, который предназначен для промежуточного хранения массива значений, полученного с указанной периодичностью (квантом времени). Буфер значений используется для непосредственного хранения больших массивов значений в архивах значений как перед непосредственным "сбросом" на физический носитель, так и для манипуляций с кадрами значений, т.е. в функциях покадрового запроса значений и их помещения в буфере архивов.
</p><p>Для организации удалённых архиваторов в распределённых конфигурациях используется транспортный тип архиватора, на данный момент не реализовано в OpenSCADA. Функцией транспортного типа архиваторов является отражение удалённого центрального архиватора OpenSCADA в локальной конфигурации. Как следствие, архиваторы транспортного типа выполняют передачу данных между локальной конфигурацией и архиватором удаленной конфигурации программы, скрывая от подсистем локальной конфигурации реальную природу архиватора.
</p>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BC.D0.BC.D1.83.D0.BD.D0.B8.D0.BA.D0.B0.D1.86.D0.B8.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22_.D0.B8_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="mw-headline-number">1.6</span> <span id="Communication" title="#Communication">Коммуникации, подсистемы "Транспорты" и "Транспортные протоколы"</span></span></h3>
<p>Поскольку OpenSCADA является высоко-масштабируемой то поддержка коммуникаций должна быть достаточно гибкой, для чего она реализована в подсистемах "Транспорты" и "Транспортные протоколы" (Рис.1.6), которые являются модульными.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:293px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_tr_str_ru.png"><img class="thumbimage" height="296" src="files/Oscada_subsys_tr_str_ru.png" width="291" /></a>  <div class="thumbcaption">Рис. 1.6. Иерархическая структура подсистемы "Транспорты" и "Протоколы".</div></div></div></div>
<p>Подсистема "Транспорты" предназначена для обеспечения обмена неструктурированными данными между OpenSCADA и внешними системами, в роли которых также могут выступать удалённые станции OpenSCADA. Под неструктурированными данными подразумевается поток символов определённой длины. Модульным объектом, который содержится в подсистеме "Транспорты", выступает тип транспорта, который и определяет механизм передачи неструктурированных данных. Например, это могут быть и есть:
</p>
<ul><li> <a href="Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">сокеты (TCP/UDP/UNIX)</a>;</li>
<li> <a href="Modules/Serial.html" title="Special:MyLanguage/Modules/Serial">последовательные интерфейсы</a>;</li>
<li> <a href="Modules/SSL.html" title="Special:MyLanguage/Modules/SSL">шифрованные каналы</a>.</li></ul>
<p>Подсистема "Транспорты" включает поддержку входных и выходных транспортов. Входные транспорты предназначены для обслуживания внешних запросов и отправки ответов. Выходные транспорты наоборот предназначены для отправки сообщений и ожидания ответов. Соответственно входные транспорты содержат конфигурацию локальной станции, как сервера прослушивания запросов, а выходные транспорты содержат конфигурацию удалённого сервера, для подключения. Такая специализация характерна для типового механизма "запрос-ответ", однако на данное время входные и выходные транспорты поддерживают независимую передачу и приём данных. Модули подсистемы "Транспорты" реализуют поддержку как входных, так и выходных транспортов.
</p><p>Подсистема "Транспортные протоколы" предназначена для структуризации данных, полученных от подсистемы "Транспорты", является продолжением подсистемы "Транспорты", от чего имеет такое название, и осуществляет функции проверки структуры и целостности полученных данных. В глобальной нотации, эта подсистема содержит и реализует <b>КОММУНИКАЦИОННЫЕ</b> протоколы! Для указания протокола, вмести с которым должен работать транспорт, предусмотрено специальное конфигурационное поле. Модульным объектом, который содержится в подсистеме "Протоколы", является сам протокол. Например, транспортными протоколами могут быть и есть:
</p>
<ul><li> <a href="Modules/SelfSystem.html" title="Special:MyLanguage/Modules/SelfSystem">собственный протокол OpenSCADA</a>;</li>
<li> <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a>;</li>
<li> <a href="Modules/OPC_UA.html" title="Special:MyLanguage/Modules/OPC UA">OPC-UA</a>;</li>
<li> <a href="Modules/DCON.html" title="Special:MyLanguage/Modules/DCON">DCON</a>;</li>
<li> <a href="Modules/HTTP.html" title="Special:MyLanguage/Modules/HTTP">протокол передачи гипертекста (HTTP)</a>;</li>
<li> <a href="Modules/UserProtocol.html" title="Special:MyLanguage/Modules/UserProtocol">пользовательские протоколы</a>, которые реализуются в самой OpenSCADA на <a href="DAQ.html#LogicLev" title="Special:MyLanguage/Documents/DAQ">логическом уровне</a>, и который, с развитием <a href="DAQ.html#JavaLikeCalc" title="Special:MyLanguage/Documents/DAQ">внутреннего языка</a>, стал приоритетным.</li></ul>
<p>Полную последовательность сеанса входной связи для типовых протоколов режима "запрос-ответ" можно записать следующим образом:
</p>
<ul><li> внешняя система подключается ко входному транспорту;</li>
<li> сообщение от внешней системы поступает транспорту;</li>
<li> транспорт передаёт сообщение связанному с ним протоколу путём создания нового объекта протокола;</li>
<li> протокол проверяет целостность данных;</li>
<li> если пришли все данные то сообщить транспорту про прекращение ожидания данных и передать ему ответ иначе сообщить, что нужно ожидать ещё;</li>
<li> транспорт, получив подтверждение, отправляет ответ и удаляет объект протокола, если это не режим сохранения подключения;</li>
<li> если подтверждения нет то транспорт продолжает ожидание данных и в случае их поступления передаёт сохранённому объекту протокола.</li></ul>
<p>Протоколы также поддерживаются для выходных транспортов и берут на себя функцию общения с транспортом и реализацию особенностей этих протоколов, при подготовке данных к передаче и разборе ответов. Внешний интерфейс доступа к протоколам, из кода других модулей и окружения программирования OpenSCADA, реализуется в XML дереве с собственной структурой для каждого протокольного модуля. Такой механизм позволяет выполнять прозрачный доступ к внешним системам, посредством транспортов, просто указывая имя протокола с помощью которого обслуживать передачу.
</p><p>Благодаря стандартному доступу к транспортам в OpenSCADA, можно легко менять способ обмена данными не затрагивая самих программ, которые обмениваются. Например, в случае локального обмена, можно использовать более быстрый транспорт на основе UNIX-сокетов, а в случае обмена через интернет и локальную сеть использовать TCP- или UDP-сокеты.
</p>
<h3><span class="mw-headline" id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.22"><span class="mw-headline-number">1.7</span> Интерфейсы пользователя, подсистема "Интерфейсы пользователя"</span></h3>
<p>SCADA-системы, как класс, предусматривают наличие интерфейсов пользователя. В OpenSCADA для предоставления пользовательских интерфейсов предусмотрена подсистема "Пользовательские интерфейсы" под которой предусматривается не только среда визуализации, с которой должен работать конечный пользователя, но и всё, что имеет отношение к пользователю, например:
</p>
<ul><li> Среда визуализации: <a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">Движок Среды Визуализации</a>, визуализаторы <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Qt</a> и <a href="Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">Web</a>;</li>
<li> Конфигураторы: <a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">Qt</a> и <a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">Web</a>;</li>
<li> Сигнализаторы.</li></ul>
<p>Подсистема "Пользовательские интерфейсы" является модульной и её модульным объектом выступает собственно конкретный интерфейс пользователя. Модульность подсистемы позволяет создавать различные интерфейсы пользователя на разных GUI/TUI библиотеках и использовать наиболее оптимальное решения в конкретно взятом случае, например, для среды исполнения программируемых логических контроллеров можно использовать конфигураторы и визуализаторы на основе Web-технологий (<a href="Modules/WebCfg.html" title="Special:MyLanguage/Modules/WebCfg">WebCfg</a>, <a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">WebCfgD</a>, <a href="Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision</a>, <a href="Modules/WebUser.html" title="Special:MyLanguage/Modules/WebUser">WebUser</a>), а в случае стационарных рабочих станций использовать те-же конфигураторы и визуализаторы, но на основе библиотек вроде Qt (<a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">QTCfg</a>, <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a>).
</p>
<h3><span class="mw-headline" id=".D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="mw-headline-number">1.8</span> Безопасность программы, подсистема "Безопасность"</span></h3>
<p>OpenSCADA является разветвлённой программой, которая состоит из десятка подсистем и может включать множество модулей. Следовательно предоставление всем неограниченного доступа к этим ресурсам является как минимум неосторожным. Для разграничения доступа в OpenSCADA предусмотрена подсистема "Безопасность" основными функциями которой является:
</p>
<ul><li> хранение учётных записей пользователей и групп пользователей;</li>
<li> аутентификация пользователей;</li>
<li> проверка прав доступа пользователя к тому или иному ресурсу.</li></ul>
<h3><span class="mw-headline" id=".D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.94.D0.B8.D1.81.D0.BF.D0.B5.D1.82.D1.87.D0.B5.D1.80_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9.22"><span class="mw-headline-number">1.9</span> Управление модулями, подсистема "Диспетчер модулей"</span></h3>
<p>OpenSCADA построена по модульному принципу, что предусматривает наличие множества модулей, которые нужно контролировать и планировать доступность, для чего предусмотрена подсистема "Диспетчер модулей". Все модули на данное время предоставляются в программу посредством разделяемых библиотек(контейнеров) или встраиваются прямо в библиотеку ядра OpenSCADA. Каждый контейнер может содержать множество модулей различного типа согласно их логической связности.
</p><p>Подсистема "Диспетчер модулей" реализует контроль за состоянием контейнеров и позволяет осуществлять "горячее" добавление, удаление и обновление контейнеров и модулей, которые он содержит.
</p>
<h3><span class="mw-headline" id=".D0.9D.D0.B5.D0.BF.D1.80.D0.B5.D0.B4.D1.83.D1.81.D0.BC.D0.BE.D1.82.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="mw-headline-number">1.10</span> Непредусмотренные возможности, подсистема "Специальные"</span></h3>
<p>Очевидно, что невозможно предусмотреть все нужные функции и функции, которые могут понадобиться в будущем, поэтому в OpenSCADA предусмотрена подсистема "Специальные", которая является модульной и предназначена для добавления непредусмотренных функций путём модульного расширения. Например, с помощью этой подсистемы могут быть и реализованы:
</p>
<ul><li> <a href="Modules/SystemTests.html" title="Special:MyLanguage/Modules/SystemTests">тесты OpenSCADA и её модулей</a>;</li>
<li> библиотеки функций пользовательского программирования: <a href="Modules/FLibSYS.html" title="Special:MyLanguage/Modules/FLibSYS">функции системного API</a>, <a href="Modules/FLibMath.html" title="Special:MyLanguage/Modules/FLibMath">математические функции</a>.</li></ul>
<h3><span class="mw-headline" id=".D0.A4.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8.2C_.D0.BE.D0.B1.D1.8A.D0.B5.D0.BA.D1.82.D0.BD.D0.B0.D1.8F_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C_.D0.B8_.D1.81.D1.80.D0.B5.D0.B4.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F"><span class="mw-headline-number">1.11</span> Функции, объектная модель и среда программирования пользователя</span></h3>
<p>Современная SCADA система должна содержать механизмы которые предоставляют возможность программирования на пользовательском уровне, т.е. — среду программирования пользователя. OpenSCADA содержит такое окружение и с его помощью можно реализовывать:
</p>
<ul><li> алгоритмы управления технологическими процессами;</li>
<li> большие динамические модели реального времени и тренажёры технологических, химических, физических и других процессов;</li>
<li> адаптивные механизмы управления по моделям;</li>
<li> пользовательские процедуры управления внутренними функциями программы, её подсистемами и модулями;</li>
<li> гибкое формирование структур параметров <a href="#DAQ">подсистемы "Сбор Данных"</a> с целью создания параметров нестандартной структуры и наполнения их по алгоритму пользователя; процедуры и протоколы сбора данных уровня пользователя;</li>
<li> вспомогательные вычисления.</li></ul>
<p>Среда программирования представляет собой комплекс средств, которые организуют вычислительное окружение пользователя в состав которого входят:
</p>
<ul><li> <a href="User_API.html" title="Special:MyLanguage/Documents/User API">объектная модель</a>;</li>
<li> модули библиотек функций;</li>
<li> внутренние языки программирования, на данный момент:</li></ul>
<p><a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">JavaLikeCalc</a>, <a href="Modules/BlockCalc.html" title="Special:MyLanguage/Modules/BlockCalc">BlockCalc</a>;
</p>
<ul><li> динамические вычисления: объекты вычислительных контроллеров <a href="#DAQ">подсистемы "Сбор данных"</a>, <a href="DAQ.html#UserPrt" title="Special:MyLanguage/Documents/DAQ">процедуры и протоколы сбора данных уровня пользователя</a>, процедуры виджетов "<a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">Среды Визуализации и Управления</a>" и другое.</li></ul>
<p>Модули библиотек функций предоставляют статические функции определённой направленности, которые расширяют объектную модель программы и представляют собой интерфейс доступа к средствам модуля на уровне пользователя. Например, "<a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">Среда Визуализации и Управления</a>" может предоставлять функции для выдачи различных сообщений, используя которые пользователь может реализовывать интерактивные алгоритмы взаимодействия с программой. Библиотеки функций в целом могут реализовываться как набором функций фиксированного типа — статические, так и функциями, которые допускают свободную модификацию и дополнение — динамические.
</p><p>Библиотеки функций свободного типа (динамические) предоставляют среду написания пользовательских функций на одном из языков программирования, на данный момент это язык похожий на Java, который реализуется модулем <a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">DAQ.JavaLikeCalc</a>. Таким образом можно создавать библиотеки аппаратов технологических процессов и многих других, а далее использовать их путём связывания.
</p><p>На основе функций, которые предоставляются объектной моделью, строятся объекты вычислительных контроллеров, которые осуществляют связывание функций с параметрами программы и механизмом вычисления. Также пишутся <a href="DAQ.html#UserPrt" title="Special:MyLanguage/Documents/DAQ">процедуры и протоколы сбора данных уровня пользователя</a>, процедуры виджетов "<a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">Среды Визуализации и Управления</a>" и много другого.
</p>
<h2><span class="mw-headline" id="SCADA_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.B8_.D0.B8.D1.85_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0"><span class="mw-headline-number">2</span> SCADA системы и их структура</span></h2>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:471px;"><a class="image" href="http://oscada.org/wiki/File:Scada_ru.png"><img class="thumbimage" height="771" src="files/Scada_ru.png" width="469" /></a>  <div class="thumbcaption">Рис. 2. Иерархическая SCADA-система.</div></div></div></div>
<p>SCADA (Supervisory Control And Data Acquisition) в общем виде имеют распределённую архитектуру вроде изображённой на рисунке 2. Элементы SCADA систем, в смысле программного обеспечения, выполняют следующие функции:<br />
<b>Сервер сбора:</b> представляет собой задачу или группу задач, занимающихся сбором данных из источников данных, или же сам выступает в роли источника данных. В задачи сервера входит:
</p>
<ul><li> получение и/или формирование данных;</li>
<li> обработка данных;</li>
<li> обслуживание запросов на доступ к данным;</li>
<li> обслуживание запросов на модификацию данных.</li></ul>
<p><b>Сервер архивирования-истории:</b> представляет собой задачу или группу задач, занимающихся архивированием данных или ведением их истории. В задачи сервера входит:
</p>
<ul><li> архивирование или ведение истории данных SCADA-систем;</li>
<li> обслуживание запросов на доступ к архивным данным или истории;</li>
<li> импорт/экспорт архивов-истории.</li></ul>
<p><b>Сервер протоколирования:</b> представляет собой задачу или группу задач, занимающихся архивированием сообщений или ведением их истории. В задачи сервера входит:
</p>
<ul><li> архивирование или ведение истории сообщений SCADA-систем;</li>
<li> обслуживание запросов на доступ к архивным сообщениям или истории;</li>
<li> импорт/экспорт архивов-истории.</li></ul>
<p><b>Сервер сигнализации:</b> представляет собой задачу или группу задач, выполняющих функции сервера протоколирования в отношении узкой категории сообщений сигнализации.<br />
<b>Рабочее место оператора:</b> представляет собой постоянно функционирующее GUI(Grafical User Interface) приложение, выполненное в одномониторном, многомониторном или панельном режиме и выполняющее функции:
</p>
<ul><li> предоставление пользовательского интерфейса для контроля за состоянием технологического процесса;</li>
<li> предоставление возможности формирования управляющих воздействий;</li>
<li> предоставление возможности изучения и анализа истории технологического процесса;</li>
<li> предоставление инструментария для формирования отчётной документации.</li></ul>
<p><b>Рабочее место инженера:</b> представляет собой GUI приложение, используемое для конфигурации SCADA систем. В задачи приложения входит:
</p>
<ul><li> предоставление инструментария манипуляции системными функциями программы;</li>
<li> предоставление инструментария рабочего места оператора;</li>
<li> предоставление инструментария манипуляции распределёнными сетевыми архитектурами SCADA систем в целом (распределение функций между станциями, создание и удаление станций ... ).</li></ul>
<p><b>Рабочее место руководителя:</b> представляет собой GUI приложение, как правило выполненное в одномониторном режиме, выполняющее функции:
</p>
<ul><li> предоставление пользовательского интерфейса для контроля за состоянием технологических процессов;</li>
<li> предоставление инструментария для изучения и анализа истории технологических процессов как непосредственно с активных серверов, так и на основе отдельных архивов;</li>
<li> предоставление инструментария  для формирования отчётной документации.</li></ul>
<p><b>Рабочее место технолога:</b> полностью включает в себя функции рабочего места оператора плюс модели технологических процессов (без непосредственной связи с технологическим процессом).<br />
<b>Рабочее место технолога-программиста:</b> полностью включает в себя функции рабочего места технолога плюс инструментарий для создания моделей технологических процессов.
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"><span class="mw-headline-number">3</span> Варианты конфигурации и использования</span></h2>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">3.1</span> Простое серверное подключение</span></h3>
<p>В простейшем случае OpenSCADA можно сконфигурировать в серверном режиме (Рис.3.1) для сбора и архивирования данных. Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос источников данных (контроллеров);</li>
<li> архивирование значений параметров источников данных;</li>
<li> обслуживание клиентских запросов на получение различных данных сервера;</li>
<li> предоставление конфигурационного WEB-интерфейса;</li>
<li> удалённая конфигурация из OpenSCADA, посредством Qt или другого локального интерфейса.</li>
<li> вторичное регулирование — регулирование в объектах вычислительных контроллеров;</li>
<li> моделирующие, корректирующие и дополняющие в объектах вычислительных контроллеров.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:397px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_simple_server_ru.png"><img class="thumbimage" height="253" src="files/Oscada_simple_server_ru.png" width="395" /></a>  <div class="thumbcaption">Рис. 3.1. Простое серверное подключение.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">3.2</span> Дублированное серверное подключение</span></h3>
<p>Для повышения надёжности и производительности OpenSСADA допускает множественное резервирование (Рис.3.2), при котором источники данных (контроллеры) и архивы-история одного экземпляра отражаются в другом. При использовании подобной конфигурации возможно распределение нагрузки опроса/вычисления по различным станциям. Данная конфигурация позволяет выполнять функции:
</p>
<ul><li> опрос источников данных (контроллеров);</li>
<li> архивирование значений параметров источников данных;</li>
<li> обслуживание клиентских запросов на получение различных данных сервера;</li>
<li> резервирование параметров источников данных;</li>
<li> резервирование архивов-истории;</li>
<li> распределение нагрузки опроса по серверам;</li>
<li> предоставление конфигурационного WEB интерфейса;</li>
<li> вторичное регулирование — регулирование в объектах вычислительных контроллеров;</li>
<li> моделирующие, корректирующие и дополняющие вычисления в объектах вычислительных контроллеров с возможностью распределения нагрузки по серверам.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:793px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_duplicated_server_ru.png"><img class="thumbimage" height="257" src="files/Oscada_duplicated_server_ru.png" width="791" /></a>  <div class="thumbcaption">Рис. 3.2. Дублированное серверное подключение.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5"><span class="mw-headline-number">3.3</span> Дублированное серверное подключение на одном сервере</span></h3>
<p>Частным случаем дублированного подключения является дублирование в рамках одного сервера (Рис.3.3), т.е. запуск нескольких станций на одной машине с перекрещиванием параметров. Целью данной конфигурации является повышение надёжности и отказоустойчивости конфигурации, путём резервирования ПО.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:793px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_duplicated_one_server_ru.png"><img class="thumbimage" height="272" src="files/Oscada_duplicated_one_server_ru.png" width="791" /></a>  <div class="thumbcaption">Рис. 3.3. Дублированное серверное подключение на одном сервере.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9A.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D1.81.D0.BA.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D0.BF.D0.BE.D1.81.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.BE.D0.BC_Web-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0._.D0.9C.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F"><span class="mw-headline-number">3.4</span> Клиентский доступ посредством Web-интерфейса. Место руководителя</span></h3>
<p>Для визуализации данных, содержащихся на сервере, хорошим решением является использование пользовательского WEB-интерфейса (Рис.3.4). Данное решение позволяет использовать стандартный WEB-браузер у клиента и следовательно является наиболее гибким, поскольку не привязано к одной платформе, т.е. является многоплатформенным. Однако это решение имеет существенные недостатки – это невысокая производительность и надёжность. В связи с этим рекомендуется использовать данный метод для визуализации некритичных данных или данных, имеющих резервный высоконадёжный способ визуализации. Например, хорошим решением будет использование этого метода у начальства промышленных установок, где всегда существует операторская с надёжным способом визуализации. Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос сервера на предмет получения данных визуализации и конфигурации;</li>
<li> визуализация данных в доступном для понимания виде;</li>
<li> формирование протоколов, отчётов;</li>
<li> манипуляция параметрами, допускающими изменение.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:537px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_for_wwwclient_ru.png"><img class="thumbimage" height="251" src="files/Oscada_for_wwwclient_ru.png" width="535" /></a>  <div class="thumbcaption">Рис. 3.4. Клиентский доступ посредством Web-интерфейса. Место руководителя.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D0.B7.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B5_.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F.2F.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.29"><span class="mw-headline-number">3.5</span> Автоматизированное рабочее место (место руководителя/оператора)</span></h3>
<p>Для визуализации критических данных, а также в случае если требуется высокое качество и производительность, можно использовать визуализацию на основе OpenSCADA, сконфигурированной с GUI модулем (Рис.3.5). Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос сервера на предмет обновления текущих значений;</li>
<li> визуализация опрошенных данных в доступном для понимания виде;</li>
<li> формирование протоколов и отчётов;</li>
<li> манипуляция параметрами, допускающими изменения.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:647px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_clientserver_AWP_ru.png"><img class="thumbimage" height="273" src="files/Oscada_clientserver_AWP_ru.png" width="645" /></a>  <div class="thumbcaption">Рис. 3.5. Автоматизированное рабочее место (место руководителя/оператора).</div></div></div></div>
<h3><span class="mw-headline" id=".D0.90.D0.A0.D0.9C_.D1.81_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BE.D0.BC_.D1.81.D0.B1.D0.BE.D1.80.D0.B0_.D0.B8_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B9_.D0.BC.D0.B0.D1.88.D0.B8.D0.BD.D0.B5_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.2C_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C-.D1.82.D1.80.D0.B5.D0.BD.D0.B0.D0.B6.D1.91.D1.80_....29"><span class="mw-headline-number">3.6</span> АРМ с сервером сбора и архивирования на одной машине (место оператора, модель-тренажёр ...)</span></h3>
<p>Полнофункциональная клиент-серверная конфигурация на одной машине (Рис.3.6) может использоваться для повышения надёжности конфигурации в целом путём запуска клиента и сервера в разных процессах. Данная конфигурация позволяет без последствий для сервера останавливать клиент и выполнять с ним различные профилактические работы. Рекомендуется для использования на станциях оператора путём установки двух машин, совмещающих в себе станции оператора и резервированный сервер. Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос источников данных (контроллеров);</li>
<li> обслуживание клиентских запросов;</li>
<li> визуализация;</li>
<li> выдача управляющих воздействий;</li>
<li> генерация протоколов и отчётов;</li>
<li> вторичное регулирование;</li>
<li> моделирующие, корректирующие и дополнительные вычисления в объектах вычислительных контроллеров;</li>
<li> сбор и визуализация информации о персональном компьютере, сервере ... .</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:647px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_clientserver_AWP_one_ru.png"><img class="thumbimage" height="299" src="files/Oscada_clientserver_AWP_one_ru.png" width="645" /></a>  <div class="thumbcaption">Рис. 3.6. АРМ с сервером сбора и архивирования на одной машине (место оператора, модель-тренажер ...).</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.B5.D0.B9.D1.88.D0.B5.D0.B5_.D1.81.D0.BC.D0.B5.D1.88.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.28.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C.2C_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD.D1.81.D1.82.D1.80.D0.B0.D1.86.D0.B8.D1.8F.2C_.D1.82.D1.80.D0.B5.D0.BD.D0.B0.D0.B6.D1.91.D1.80.2C_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.82.D0.BE.D1.80_....29"><span class="mw-headline-number">3.7</span> Простейшее смешанное подключение (модель, демонстрация, тренажёр, конфигуратор ...)</span></h3>
<p>Смешанное подключение совмещает функции сервера и клиента (Рис.3.7). Может использоваться для тестовых, демонстрационных функций, а также для предоставления моделей и тренажёров технологических процессов как единое целое. В этом режиме могут выполняться следующие функции:
</p>
<ul><li> опрос контроллеров;</li>
<li> обслуживание клиентских запросов;</li>
<li> визуализация;</li>
<li> выдача управляющих воздействий;</li>
<li> генерация протоколов и отчётов;</li>
<li> вторичное регулирование;</li>
<li> моделирующие, корректирующие и дополняющие вычисления в вычислительных контроллерах;</li>
<li> сбор и визуализация текущей информации о персональном компьютере, сервере, модели ...&nbsp;;</li>
<li> конфигурация баз данных, подключений и др.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:394px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_misc_ru.png"><img class="thumbimage" height="303" src="files/Oscada_misc_ru.png" width="392" /></a>  <div class="thumbcaption">Рис. 3.7. Простейшее смешанное подключение (модель, демонстрация, конфигуратор ...).</div></div></div></div>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.BE.D0.B9.D1.87.D0.B8.D0.B2.D0.B0.D1.8F_.D1.80.D0.B0.D1.81.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D1.91.D0.BD.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"><span class="mw-headline-number">3.8</span> Устойчивая распределённая конфигурация</span></h3>
<p>Данная конфигурация является одним из вариантов устойчивого-надёжного соединения (Рис.3.8). Устойчивость достигается путём распределения функций по:
</p>
<ul><li> серверам опроса;</li>
<li> центральному серверу архивирования и обслуживания клиентских запросов;</li>
<li> клиентам: АРМы и WEB-клиенты.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:770px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_distrib_conn_ru.png"><img class="thumbimage" height="518" src="files/Oscada_distrib_conn_ru.png" width="768" /></a>  <div class="thumbcaption">Рис. 3.8. Устойчивая распределённая конфигурация.</div></div></div></div>
<p>Сервер опроса конфигурируется на основе OpenSCADA и представляет собой задачу или группу задач, занимающихся сбором данных — опросом контроллера или группы контроллеров одного типа. Полученные значения доступны центральному серверу через любой транспорт поддержка которого добавляется путём подключения соответствующего модуля транспорта. Для снижения частоты опроса и величины сетевого трафика, сервер опроса может оснащаться небольшим архивом значений. Конфигурация сервера опроса хранится в одной из доступных БД.
</p><p>Центральный сервер архивирования и обслуживания клиентских запросов выполняет функцию централизованного сбора и обработки параметров серверов опроса и их значений. Доступ к серверам опроса выполняется посредством одного из доступных в OpenSCADA транспортов+протоколов (на примере это <a href="Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">Sockets</a>). Для предоставления единого интерфейса доступа к параметрам и контроллерам используется модуль <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQGate</a>, который отражает данные серверов опроса на структуру локальных параметров сбора данных.
</p><p>Для выполнения внутренних вычислений и дополнительного анализа параметров используются объекты вычислительных контроллеров.
</p><p>Для разностороннего и глубокого архивирования используются различные модули архивов-истории.
</p><p>Для доступа клиентов к серверу используются доступные у OpenSCADA сетевые транспорты, на примере — <a href="Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">Sockets</a>; и транспортные протоколы, на примере — протокол OpenSCADA "<a href="Modules/SelfSystem.html" title="Special:MyLanguage/Modules/SelfSystem">SelfSystem</a>".
</p><p>Конфигурация центрального сервера хранится в одной из доступных БД (на примере это сетевая <a href="Modules/MySQL.html" title="Special:MyLanguage/Modules/MySQL">СУБД MySQL</a>).
</p><p>Для предоставления пользовательского WEB-интерфейса используется модуль <a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">WebCfgD</a> посредством транспортного протокола "<a href="Modules/HTTP.html" title="Special:MyLanguage/Modules/HTTP">HTTP</a>".
</p><p>Различные клиенты, в их числе АРМ и WEB-клиенты, выполняются на отдельных машинах в необходимом количестве. АРМ реализуется на основе OpenSCADA. В его функции входит опрос значений параметров из центрального сервера и их визуализация на GUI интерфейсе(ах). Для получения параметров сбора данных в АРМ также используется модуль отражения удалённых параметров <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQGate</a>. Для предоставления доступа к архивам-истории может использоваться модуль архива сетевого типа. Конфигурация АРМ может храниться в одной из доступных БД (в примере это сетевая <a href="Modules/MySQL.html" title="Special:MyLanguage/Modules/MySQL">СУБД MySQL</a>, расположенная на машине центрального сервера архивирования).
</p>
<h2><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"><span class="mw-headline-number">4</span> <span id="Config" title="#Config">Конфигурация и настройка</span></span></h2>
<p>Как можно видеть в разделе выше, OpenSCADA предоставляет возможность конфигурации для исполнения в различных ролях. Поддержка этой возможности обеспечивается развитыми механизмами конфигурации, хранения конфигурационных данных и организации проектов этих конфигураций. Данный раздел содержит описание этих механизмов и призван дать представление о гибкости и разнообразии, позволив тем самым использовать OpenSCADA на все 100 процентов.
</p><p>При описании механизмов конфигурации и способов её хранения в этом разделе будет делаться упор на общие механизмы. Особенности конфигурации и использования модулей подсистем OpenSCADA предоставляются в собственной документации <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules" title="Special:MyLanguage/Modules">этих модулей</a>.
</p><p>В OpenSCADA используется декларативный подход к описанию конфигурационных интерфейсов, основанный на языке XML. Фактически, особенности конфигурации компонента программы предоставляется самим компонентом, пронизывая тем самым всю программу как нервная система организма. В терминах OpenSCADA это называется интерфейсом контроля и управления OpenSCADA (Control interface). На основе интерфейса контроля формируются графические интерфейсы конфигурации пользователя посредством модулей OpenSCADA. Такой подход имеет следующие важные преимущества:
</p>
<ul><li> Масштабируемость: можно подключать только нужные модули конфигурирования или вообще использовать только удалённые механизмы.</li>
<li> Исключение необходимости обновления конфигураторов с добавлением нового модуля-функции, а также исключение его "распухания" через прямое обеспечение поддержки всей истории уже ненужных и устаревших модулей-функций.</li>
<li> Относительная простота создания графических интерфейсов конфигурации на различной основе за счёт чёткой формализации.</li>
<li> Предоставление возможности динамической конфигурации, т.е. конфигурацию можно выполнять непосредственно при работе программы как локально, так и удалённо, непосредственно контролируя результат.</li>
<li> Простая и целевая расширяемость конфигурационного интерфейса путём добавления полей конфигурации на языке описания интерфейса управления только в компонентах этого требующих.</li></ul>
<p>Для упрощения конфигурации и её хранения OpenSCADA предусматривает проекты программы в рамках которых предоставляется отдельная директория проекта OpenSCADA для хранения там конфигурации и всех сопутствующих файлов. Т.е., в ядро OpenSCADA встроен механизм выбора проекта, который осуществляет установку рабочего каталога и адреса конфигурационного файла согласно указанному проекту. Детальнее про это описано в разделе "<a href="#Projects">Проекты OpenSCADA</a>".
</p><p>OpenSCADA предоставляет три модуля конфигурации на разной основе визуализации. Отметим их и их возможности конфигурации:
</p>
<ul><li> Модуль конфигурации на основе <a class="extiw" href="https://en.wikipedia.org/wiki/Qt_(framework)" title="wikipedia:Qt (framework)">библиотеки графического интерфейса Qt</a> — <a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>. Предоставляет развитый интерфейс конфигурации, позволяющий управлять как локальными, так и удалёнными станциями в локальной и глобальной сетях, включая безопасное соединение.</li>
<li> Модуль конфигурации на основе динамических WEB-технологий (DHTML) — <a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">UI.WebCfgD</a>. Предоставляет развитый интерфейс конфигурации, позволяющий управлять как локальными станциями сервера, так и удалёнными станциями в локальной и глобальной сетях, включая работу по безопасному соединению. Клиентское подключение осуществляется посредством обычного Web-браузера.</li>
<li> Модуль конфигурации на основе статических WEB-технологий (XHTML) — <a href="Modules/WebCfg.html" title="Special:MyLanguage/Modules/WebCfg">UI.WebCfg</a>. Предоставляет достаточный интерфейс конфигурации, позволяющий управлять локальными станциями сервера посредством обычного Web-браузера.</li></ul>
<p><span id="Storage" title="#Storage">Конфигурация в целом может поступать</span> тремя способами и согласно порядка: командная строка вызова программы, Конфигурационный Файл и База Данных. Из которых доступны для изменения Конфигурационный Файл и База Данных, где и сохраняются значения конфигурации, которые изменены в конфигураторах.
</p><p>Типовым именем конфигурационного файла OpenSCADA является <b>{sysconfdir}/oscada.xml</b> (где <i>sysconfdir</i> типично — "/etc"), для конфигураций за проектами OpenSCADA, и <b>{Proj}/oscada.xml</b> для проекта "Proj". Формат конфигурационного файла и параметры командной строки рассмотрим в <a href="#CfgFilePrm">отдельном разделе</a>.
</p><p>Учитывая модульность подсистемы "БД", БД могут быть различными. Причем предоставляется возможность сохранения различных частей OpenSCADA как в разных БД одного типа, так и в БД разных типов.
</p><p>Много узлов OpenSCADA предоставляют возможность выбора хранилища для хранения своих данных и которое может быть указано как:
</p>
<ul><li> <b>&lt;cfg&gt;</b> — Конфигурационный Файл;</li>
<li> <b>{Модуль БД}.{Название БД}</b> — База Данных;</li>
<li> <b>*.*</b> — Общее Хранилище (комбинированное), которое состоит из Конфигурационного Файла и рабочей Базы Данных, указанной в конфигурационном поле <i>Рабочая БД</i>; где Конфигурационный Файл первичный для уже присутствующих там данных, т.е. их изменения, но всё новое создаётся в Базе Данных.</li></ul>
<p>Узлы, которые не предоставляют возможности выбора хранилища, фиксировано работают с Общим Хранилищем <b>*.*</b>, а те которые предоставляют такую возможность также отслеживают наличие своих данных в различных хранилищах и предлагают механизм последовательного удаления дубликатов или просто их выявления в различных библиотеках, которые формируются отдельными Базами Данных. Больше прочитать про механизм переноса конфигурации и выделения её в библиотеки вы можете в соответствующем "<a href="How_to_Transferring_project_configuration.html" title="Special:MyLanguage/Documents/How to/Transferring project configuration">Как Сделать</a>".
</p><p>Изменение конфигурации того или иного узла устанавливает флаг модификации соответствующего узла, а также активирует кнопки "Загрузить из БД", для загрузки первоначальной конфигурации, и "Сохранить в БД" для сохранения изменений. Признак модификации также поднимается к родительскому узлу, что позволяет осуществлять восстановление-сохранение от корневого узла, хотя реально в операциях с БД, будут участвовать только модифицированные узлы. <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Удаление узла приводит к непосредственному удалению его из хранилища и механизм модификации на эту операцию не распространяется.
</p><p>Ряд настроек и конфигураций узлов OpenSCADA, которые исполняются или уже включены, не применяются сразу-же по внесению изменений, поскольку конфигурация читается/применяется обычно только при включении или запуске. Следовательно, для применения изменений в таких случаях, достаточно включить/выключить включенный объект или перезапустить исполняющийся — остановить/запустить. На данный момент большинство настроек, не предусматривающих непосредственного применения, просто недоступны для редактирования.
</p><p>Дальнейшее рассмотрение конфигурации OpenSCADA будет производиться на основе интерфейса конфигуратора <a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>, однако принципы работы будут полностью соответствовать остальным конфигураторам, благодаря использованию общего интерфейса контроля OpenSCADA.
</p><p>Рассмотрение начнём с конфигурации системных параметров OpenSCADA, которая размещается в шести вкладках корневой страницы станции:
</p>
<ul><li> Вкладка "Станция" содержит основные информационные и конфигурационные поля программы, рисунок 4a. Перечислим предоставляемые поля и прокомментируем их:
<ul><li> <i>Идентификатор</i> — содержит информацию об идентификаторе станции. Указывается параметром командной строки "--station". При загрузке ищется соответствующий идентификатору станции раздел в конфигурационном файле и если не обнаруживается то используется первый доступный.</li>
<li> <i>Имя станции</i> — указывает локализованное имя станции. Указывается параметром командной строки "--statName".</li>
<li> <i>Программа</i> — содержит информацию об имени программы. Обычно это OpenSCADA или имя основанного на OpenSCADA решения.</li>
<li> <i>Версия</i> — содержит информацию о текущей версии программы.</li>
<li> <i>Имя хоста</i> — содержит информацию о имени машины, на которой запущена станция.</li>
<li> <i>Системный пользователь</i> — содержит информацию о пользователе, от имени которого выполняется программа в операционной системе (ОС).</li>
<li> <i>Операционная система</i> — содержит информацию о имени и версии ОС, ядре ОС, на которой исполняется программа.</li>
<li> <i>CPU</i> — содержит оперативную информацию о процессоре, а именно — число доступных процессоров/ядер и частота процессора, на которых исполняется программа. Значение частоты проверяется раз в 10 секунд, для X86, и позволяет отслеживать её изменение, например, механизмами управления питанием.</li>
<li> <i>Основной набор процессоров</i> — указывает основной перечень процессоров для использования задачами OpenSCADA. В круглых скобках содержится перечень используемых процессоров на данный момент.</li>
<li> <i>Часы планирования задач</i> — содержит информацию об использованных часах планирования задач и их разрешении на данной ОС. Позволяет сориентироваться с минимальным интервалом времени периодических задач, например, для задач сбора данных.</li>
<li> <i>Количество фаз вызова задач</i> — для установки фазирования вызова задач в определённое количество фаз, &lt;= 0 для установки оптимально, 1 для выключения фазирования задач.</li>
<li> <i>Внутренняя кодировка</i> — содержит информацию о кодировке, в которой хранятся текстовые сообщения внутри программы.</li>
<li> <i>Конфигурационный файл</i> — содержит информацию о конфигурационном файле, используемом программой. Устанавливается параметром командной строки "--config" или проектом.</li>
<li> <i>Рабочая директория</i> — указывает на рабочую директорию станции. Используется в относительной адресации объектов на файловой системе, например — файлов БД. В основном устанавливается менеджером проектов, при старте, или окружением запуска программы.</li>
<li> <i>Директория модулей</i> — указывает на директории модулей OpenSCADA, разделённые символом ';' и которые могут включать шаблоны файлов, в конце (/my/modules/path/lib*.so). Если значение этого поля некорректно то при запуске программа завершиться с сообщением в консоли о некорректности конфигурации.</li>
<li> <i>Директория иконок</i> — указывает на директорию, содержащую иконки программы-станции. Если в дереве навигации конфигуратора отсутствуют иконки то значение этого поля некорректно.</li>
<li> <i>Директория документов</i> — указывает на директорию, содержащую документы программы-станции. Если Вы не можете вызвать локальную документацию то значение этого поля установлено некорректно или не установлена документация.</li>
<li> <i>Рабочая БД</i> — указывает на рабочую базу данных, а именно на часть Базы Данных комбинированного хранилища, которое используется для хранения основных данных программы; которым может быть и Конфигурационный Файл (<b>&lt;cfg&gt;</b>) для исключения Базы Данных із хранения данных.</li>
<li> <i>Сохранять программу при выходе</i> — указывает на необходимость сохранения изменённых данных при завершении работы программы.</li>
<li> <i>Период сохранения программы</i> — указывает на периодичность, в секундах, с которой сохранять изменённые данные программы.</li>
<li> <i>Устанавливать модификацию для вычислительных объектов</i> — особенно подходящее для рабочих систем вместе с предыдущими конфигурационными свойствами для сохранения контекста вычисления. Но неудобно в режиме разработки, постоянно напоминая про необходимость сохранения.</li>
<li> <i>Язык</i> — указывает на язык сообщений и локализацию программы. Изменение этого поля допустимо, однако приводит к изменению языка сообщений только для интерфейса и динамических сообщений!</li>
<li> <i>Сообщения</i> — раздел группы параметров, управляющих работой с сообщениями станции:
<ul><li> <i>Наименьший уровень</i> — указывает на уровень сообщений, начиная с которого программа будет их обрабатывать. Сообщения ниже этого уровня будут игнорироваться. Уровень "Отладка (0)" имеет особый смысл, а именно — при установке будет включена генерация отладочных сообщений различными частями программы. Контролировать генерацию отладочных сообщений частями программы можно во вкладке "Отладка" (Рис.4d), которая появится в этом случае.</li>
<li> <i>В системный логер(syslog)</i> — указывает на необходимость направления сообщений в системный логер — механизм ОС для работы с сообщениями системы и ПО. При включении этого параметра появляется возможность управлять и контролировать сообщения OpenSCADA механизмами ОС.</li>
<li> <i>На стандартный выход(stdout)</i> — указывает на использование стандартного механизма вывода в консоль, в качестве вывода сообщений. Выключение этого свойства исключит весь вывод в консоль если не указан следующий параметр.</li>
<li> <i>На стандартный выход ошибок(stderr)</i> — указывает на использование стандартного механизма вывода ошибок в качестве вывода сообщения, обычно тоже направляется в консоль.</li>
<li> <i>В архив</i> — указывает на необходимость вывода сообщений в архив сообщений OpenSCADA, который представлен буфером сообщений. Этот параметр обычно включен, а его выключение приводит к фактическому отключению архивирования сообщений на станции! Сохранение сообщений буфера в хранилище осуществляется соответствующим архиватором сообщений, про создание и конфигурацию которого можно детально ознакомиться в <a href="#CfgArch">разделе конфигурации подсистемы "Архивы-История"</a>.</li></ul></li></ul></li>
<li> Вкладка "Подсистемы" содержит список подсистем (Рис.4b) и позволяет выполнять прямые переходы к ним с помощью контекстного меню.</li>
<li> Вкладка "Резервирование" (Рис.4с) содержит конфигурацию резервирования станции в составе настроек:
<ul><li> <i>Статус</i> — содержит информацию о работе механизма резервирования — текущее и максимальное время, затраченное на исполнение цикла задачи обслуживания резерва.</li>
<li> <i>Уровень станции</i> — указывает уровень данной станции в схеме резервирования (0-255).</li>
<li> <i>Период задачи резервирования</i> — указывает периодичность исполнения задачи резервирования, в секундах (1-255).</li>
<li> <i>Интервал времени восстановления соединения</i> — указывает через какой интервал времени осуществлять попытку восстановления соединения с потерянной резервной станцией, в секундах (0-255).</li>
<li> <i>Передача локальных первичных команд</i> — включает передачу локальных первичных команд резервным станциям для автоматической синхронизации локальных изменений.</li>
<li> <i>Станции</i> — содержит таблицу с информацией о резервных станциях. Станции можно добавлять и удалять посредством контекстного меню. Идентификатор добавленных станций нужно выбрать <a href="#Transports">из списка доступных системных станций OpenSCADA</a>. Наличие в таблице хотя-бы одной станции включает резервирование в целом и открывает доступ к страницам конфигурации резервирования на уровне подсистем, если подсистема поддерживает резервирование. Таблица предоставляет следующую информацию о станции:
<ul><li> <i>Идентификатор</i> — идентификатор системной станции OpenSCADA, должен быть изменён после добавления путём выбора из перечня доступных;</li>
<li> <i>Имя</i> — имя системной станции OpenSCADA;</li>
<li> <i>Жив</i> — признак наличия связи с резервной станцией;</li>
<li> <i>Уровень</i> — уровень удалённой станции в схеме резервирования;</li>
<li> <i>Счётчик</i> — счётчик запросов к резервной станции или времени ожидания восстановления, в случае отсутствия связи.</li></ul></li>
<li> <i>Переход к конфигурации перечня удалённых станций</i> — команда для перехода на страницу конфигурации удалённых OpenSCADA станций в подсистеме "Транспорты".</li></ul></li>
<li> <span id="ConfigTr" title="#ConfigTr">Вкладка "Переводы" содержит элементы менеджера централизованного перевода текстовых сообщений</span> станции (Рис.4f) и активируется при включении многоязычного режима установкой базового языка текстовых переменных:</li></ul>
<dl><dd> <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Больше узнать про детали и специфику создания многоязычных проектов вы можете в соответствующем "<a href="../en/Create_multi_language_project.html" title="Special:MyLanguage/Documents/How to/Create multi language project">Как Сделать</a>".
<ul><li> <i>Статус</i> — текущий статус перевода сообщений проекта, где возможно:</li></ul>
<dl><dd><ul><li> "ОДНОЯЗЫЧНЫЙ, только использовать уже многоязычные БД с их модификацией";</li>
<li> "МНОГОЯЗЫЧНЫЙ, создание или модификация конфигурационных БД как многоязычные с указанным базовым языком 'XX'";</li>
<li> "МНОГОЯЗЫЧНЫЙ-ДИНАМИЧЕСКИЙ, и динамический перевод".</li></ul></dd></dl>
<ul><li> <i>Базовый язык - перечень локалей</i> — включает поддержку многоязычности текстовых переменных в конфигурационных БД через ввод базового языка и перечня всех локалей (вроде "ru_RU.UTF-8") проекта (опционально) разделённых ';'. Далее, для текстовых переменных на небазовом языке в таблицах БД будут создаваться отдельные колонки. Под текстовыми переменными подразумеваются все текстовые поля конфигуратора, которые могут быть переведены на другой язык. Числа и другие служебные символы к их перечню не относятся и не переводятся. Полный перечень локалей не является обязательной частью и в основном используется в преобразовании кода языка в полную локаль для системных функций и в перечнях выбора локали.</li></ul>
<dl><dd> <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Вы можете ввести тут другой язык кроме Английский(en), но имейте ввиду, что все стандартные библиотеки OpenSCADA сформированы для базового языка Английский(en), т.е другой базовый язык будет портить эти БД при изменении!</dd></dl>
<ul><li> <i>, динамический перевод</i> — запланированное состояние динамического перевода текстовых сообщений. Динамический перевод текстовых сообщений вызывает включение кеша переводов текстовых сообщений и запросы из БД переводов частей OpenSCADA для рабочих языков. Механизм в значительной степени предназначен для многоязычных динамических пользовательских интерфейсов, когда пользователь программы имеет собственный-предпочтительный язык и пользователей у программы много, как правило это конечные пользователи-операторы.</li>
<li> <i>Включение менеджера</i> — включение общего управления переводами, что приводит к полной перезагрузке для получения встроенных сообщений, что однако не приводит к формированию полного индекса сообщений в виду запрета перезагрузки ряда объектов в момент их исполнения. Для загрузки полного индекса сообщений необходимо сохранить менеджер во включенном режиме и полностью перезапустить OpenSCADA. В процессе следующего запуска сформируется полный индекс сообщений.</li>
<li> <i>Языки контроля</i> — список обрабатываемых языков в двухсимвольном представлении и разделённые символом ';'. Если для указанного языка в источнике присутствуют переводы то колонка языка будет их содержать, иначе будет пуста.</li>
<li> <i>Фильтр источников</i> — фильтр источников для ограничения работы менеджера некоторыми БД, источник должен просто содержать такую подстроку.</li>
<li> <i>, проверка/исправление</i> — включить проверку на предмет одинаковости перевода базового сообщения в разных источниках и исправление на предмет: распространения перевода на пустые источники, очистки дублирования базовых сообщений и объединения базовых сообщений как переводы.</li>
<li> <i>, пропуск</i> — пропустить указанное количество элементов таблицы от начала, полезно для очень больших проектов которые ограничены во времени полной обработки таблицы.</li>
<li> <i>Сообщения</i> — непосредственно таблица сообщений с колонками: базовый язык, контролированные языки перевода, источники сообщения. Для модификации доступны колонки языков, изменения в которых будут вноситься в источники сообщения.</li></ul></dd></dl>
<ul><li> Вкладка "Задачи" содержит таблицу со списком задач, открытых различными компонентами OpenSCADA (Рис.4d). Из таблицы можно получить различную информацию о задачах, а также назначить используемые задачами процессора, на многопроцессорных системах, и устанавливать фазу вызова задачи.</li>
<li> Вкладка "Отладка" содержит элементы контроля за отладкой (Рис.4e) и активируется при выборе уровня сообщений "Отладка (0)" или при использовании счётчиков объектов.</li></ul>
<p>Для модификации полей этой страницы могут потребоваться права привилегированного пользователя. Получить такие права можно, включив вашего пользователя в группу суперпользователя "root" или войдя на станцию от имени суперпользователя "root".
</p><p>Нужно отметить ещё один важный момент! Поля идентификаторов всех объектов OpenSCADA недопустимы для прямого редактирования поскольку являются ключом для хранения данных объектов в БД. Однако поменять идентификатор объекта можно с помощью команды переноса и последующей вставки объекта (Cut-&gt;Paste) в конфигураторе.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:887px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_st_ru.png"><img class="thumbimage" height="806" src="files/QTCfg_sys_st_ru.png" width="885" /></a>  <div class="thumbcaption">Рис. 4a. Вкладка "Станция" корневой страницы конфигурации станции.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:761px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_sub_ru.png"><img class="thumbimage" height="454" src="files/QTCfg_sys_sub_ru.png" width="759" /></a>  <div class="thumbcaption">Рис. 4b. Вкладка "Подсистемы" корневой страницы конфигурации станции.</div></div></div></div>
<p>Задача обслуживания механизма резервирования запускается всегда и исполняется с периодичностью, установленной в соответствующем конфигурационном поле. Реальная работа по осуществлению резервирования производится при наличии хотя бы одной резервной станции в списке станций и предполагает:
</p>
<ul><li> Контроль за соединением с внешними станциями. В процессе контроля осуществляются запросы к удалённым станциям за обновлением информации о них и проверки связи. В случае потери связи со станцией повтор подключения к ней осуществляется через промежуток времени, указанный в конфигурационном поле интервала времени восстановления соединения. В поле "Жив" станции отображается текущее состояние связи. В поле "Счётчик" представлено количество запросов, осуществлённых к удалённой станции или же время, оставшееся для осуществления следующей попытки соединения с потерянной станции.</li>
<li> Локальное планирование исполнения объектов резервирования. Планирование осуществляется в соответствии с уровнями станций и предпочтениями исполнения объектов резервируемых подсистем: контроллеров, архиваторов сообщений.</li>
<li> Вызов функции синхронизации данных для локальных объектов резервируемых подсистем, работающих в режиме синхронизации данных из внешних станций.</li></ul>
<p>Резервирование рекомендуется настраивать таким образом чтобы БД резервных станций сохранялись одинаковыми, что в дальнейшем позволит безболезненно копировать их, при восстановлении, на любую станцию и, соответственно, в резервной копии можно хранить только один набор БД. При этом, настройки, специфичные для отдельной станции, будут сохраняться в конфигурационном файле и можно будет легко конфигурировать и менять нужную станцию через выбор соответствующего конфигурационного файла.
</p><p>Настройка резервирования начинается с добавления резервных станций в список станций OpenSCADA на вкладке "Подсистема" подсистемы "Транспорты" (Рис.4.3b). Причём, добавлять тут нужно не только резервные станции к текущей, но и саму эту текущую станцию с её внешним адресом, т.е. своеобразная петля. В дальнейшем эти настройки будут сохранены в общую БД резервированной системы и сама БД с этого момента будет использоваться при создании всех резервных станций. Соответственно важно на этом этапе внести все нужные изменения в общую БД вокруг проекта в целом!
</p><p>Далее, на конкретной станции с копией общей БД, настраиваем её специфические параметры во вкладке "Резервирование" главной страницы (Рис.4c), которые будут сохранены в конфигурационном файле.
</p><p>После этого вся конфигурация резервирования осуществляется во вкладке "Резервирование" соответствующей подсистемы — "Сбор данных" (Рис.4.5b) или "Архивы" (Рис.4.6b). Если установить параметр "Передача локальных первичных команд" (Рис.4c) то эта конфигурация, как и любая другая общего характера, может осуществляться на одной из станций, а внесённые изменения попадут на все резервные, конечно если они будут доступны.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:787px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_redundancy_ru.png"><img class="thumbimage" height="585" src="files/QTCfg_sys_redundancy_ru.png" width="785" /></a>  <div class="thumbcaption">Рис. 4c. Вкладка "Резервирование" корневой страницы конфигурации станции.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1202px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_tasks_ru.png"><img class="thumbimage" height="623" src="files/QTCfg_sys_tasks_ru.png" width="1200" /></a>  <div class="thumbcaption">Рис. 4d. Вкладка "Задачи" корневой страницы конфигурации станции.</div></div></div></div>
<p>Для отладки различных особенностей работы OpenSCADA может потребоваться включение генерации дополнительных-отладочных сообщений, что осуществляется установкой минимального уровня сообщений, на вкладке "Станция", в "Отладка (0)". В результате этого появится вкладке "Отладка" (Рис.4e) где доступны счётчики объектов для контроля за утечками, а также таблица с перечнем категорий поступающий отладочных сообщений. В таблице категорий можно выбрать только те источники отладочных сообщений, которые нужны, тем самым не перегружая подсистему вывода и архивирования сообщений, а так-же не понижая сильно производительность программы в целом. Можно выбирать категории высших уровней, вплоть до корневой категории подсистемы, что выключит детальный выбор и включит генерацию всех сообщений по уровню или подсистеме. Для изучения отладочных сообщений нужно перейти в подсистему "Архивы" (Рис.4.6c), для чего предусмотрена кнопка "Просмотр сообщений". Выбранный режим отладки и перечень категорий отладки может быть сохранён в конфигурационном файле стандартным образом и при следующем старте режим отладки активируется сразу, что важно в первую очередь для счётчиков объектов.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:862px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_debug_ru.png"><img class="thumbimage" height="692" src="files/QTCfg_sys_debug_ru.png" width="860" /></a>  <div class="thumbcaption">Рис. 4e. Вкладка "Отладка" корневой страницы конфигурации станции.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1282px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_transl_ru.png"><img class="thumbimage" height="1024" src="files/QTCfg_sys_transl_ru.png" width="1280" /></a>  <div class="thumbcaption">Рис. 4f. Вкладка "Переводы" корневой страницы конфигурации станции.</div></div></div></div>
<p>При рассмотрении страниц конфигурации модульных подсистем будут описаны общие для всех модулей свойства. Однако нужно отметить, что каждый модуль может предоставлять как дополнительные вкладки, так и отдельные поля для конфигурации собственных особенностей функционирования для страниц, объекты которых наследуются модулями. С особенностями и дополнениями модулей можно ознакомиться в отдельной <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules" title="Special:MyLanguage/Modules">документации на них</a>.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.94.22"><span class="mw-headline-number">4.1</span> <span id="CfgDB" title="#CfgDB">Подсистема "БД"</span></span></h3>
<p>Подсистема является модульной и содержит иерархию объектов, изображённую на рисунке 1.4. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "БД", содержащая вкладку "Подсистема" и вкладку "Модули". Вкладка "Подсистема" (Рис.4.1a) на данный момен содержит только конфигурационное поле установки времени жизни открытых таблиц, в секундах. Вкладка "Модули" (Рис.4.1b) содержит список модулей подсистемы "БД", доступных на станции.
</p><p>Для модификации полей страниц этой подсистемы могут потребоваться права привилегированного пользователя или включение вашего пользователя в группу "БД".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:682px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_subsys_ru.png"><img class="thumbimage" height="408" src="files/QTCfg_subsys_db_subsys_ru.png" width="680" /></a>  <div class="thumbcaption">Рис. 4.1a. Вкладка "Подсистема" корневой страницы подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:681px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_ru.png"><img class="thumbimage" height="402" src="files/QTCfg_subsys_db_mod_ru.png" width="679" /></a>  <div class="thumbcaption">Рис. 4.1b. Вкладка "Модули" корневой страницы подсистемы "БД".</div></div></div></div>
<p>Каждый модуль подсистемы "БД" предоставляет конфигурационную страницу с вкладками "БД" и "Модуль". Вкладка "БД" (Рис.4.1c) содержит список объектов БД, зарегистрированных в модуле и флажок признака полного удаления БД при выполнении команды удаления. В контекстном меню списка БД пользователю предоставляется возможность добавления, удаления и перехода к нужной БД. Во вкладке "Модуль" содержится информация о модуле подсистемы "БД" в качестве информационных полей каждого модуля (Рис.4.1d):
</p>
<ul><li> <i>Модуль</i> — идентификатор модуля.</li>
<li> <i>Имя</i> — имя модуля.</li>
<li> <i>Тип</i> — тип модуля, идентификатор подсистемы к которой модуль относится.</li>
<li> <i>Источник</i> — разделяемая библиотека или <b>*bd_{ModId}</b>, для встраивания, что характеризует источник данного модуля.</li>
<li> <i>Версия</i> — версия модуля.</li>
<li> <i>Автор</i> — автор модуля.</li>
<li> <i>Описание</i> — краткое описание модуля.</li>
<li> <i>Лицензия</i> — лицензионное соглашение распространения модуля.</li></ul>
<p><span id="DBFeat" title="#DBFeat">Модули подсистемы "БД" содержат также специфическое информационное поле "Свойства"</span> с ключевыми словами поддерживаемых свойств:
</p>
<ul><li> <i>LIST</i> — перечень таблиц-контейнеров в БД-хранилище;</li>
<li> <i>GET</i>, <i>SEEK</i>, <i>SET</i>, <i>DEL</i> — соответствующие запросы записей данных OpenSCADA;</li>
<li> <i>STRUCT</i> — получение структуры полей БД в отражении на типы данных OpenSCADA;</li>
<li> <i>PRELOAD</i> — предварительная загрузка записей данных OpenSCADA при SEEK-запросе, груповым SQL SELECT запросом;</li>
<li> <i>SQL</i> — SQL-запросы;</li>
<li> <i>FIX</i> — исправление-изменение структуры хранилища согласно структуре запросов данных OpenSCADA;</li>
<li> <i>TR</i> — обработка данных перевода структуры записи OpenSCADA;</li>
<li> <i>ERR</i> — проверенная обработка и регистрация ошибок окружения вроде RO-режима, подключения и подобное.</li></ul>
<p>Для хранения конфигурации OpenSCADA, модуль реализации хранилища должен предоставлять по крайней мере следующие свойства: <b>GET</b>, <b>SEEK</b>, <b>SET</b>, <b>DEL</b>. И чтобы быть многоязычным хранилищем должен также предоставлять свойство <b>TR</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:630px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_ru.png"><img class="thumbimage" height="401" src="files/QTCfg_subsys_db_mod_db_ru.png" width="628" /></a>  <div class="thumbcaption">Рис. 4.1c. Вкладка "БД" модуля подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:765px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_module_ru.png"><img class="thumbimage" height="536" src="files/QTCfg_subsys_db_mod_module_ru.png" width="763" /></a>  <div class="thumbcaption">Рис. 4.1d. Вкладка "Модуль" модуля подсистемы "БД".</div></div></div></div>
<p>Каждый объект БД содержит собственную страницу конфигурации с вкладками "База данных", "Таблицы" и "SQL", в случае поддержки SQL-запросов. Кроме основных операций можно выполнять копирование содержимого БД стандартной функцией копирования объектов в конфигураторе. Операция копирования содержимого БД подразумевает копирование исходной БД в БД назначения, при этом содержимое БД назначения не очищается перед операцией копирования. Копирование содержимого БД производится при условии включения обоих БД, иначе будет выполняться простое копирование объекта БД!
</p><p>Вкладка "База данных" (Рис.4.1e) содержит основные настройки объекта БД, в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние объекта БД:
<ul><li> <i>Включен</i> — состояние "Включен", объекта БД. Для сетевых БД это состояние предусматривает подключение к СУБД, соответственно и отражает факт наличия подключения и которое, при установке "Включать", периодически восстанавливается.</li>
<li> <i>Доступные таблицы</i> — перечень таблиц, которые содержит БД. Контекстным меню данного свойства предоставляется возможность физического удаления таблиц из БД.</li>
<li> <i>Загрузить программу из этой БД</i> — команда для выполнения загрузки из данной БД. Может использоваться при переносе данных в БД между станциями. Например, можно сохранить участок одной станции в экспортную БД, физически перенести БД на другую станцию, подключить её в этой подсистеме и вызвать данную команду.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — содержит информацию об идентификаторе объекта БД.</li>
<li> <i>Имя</i> — указывает имя объекта БД.</li>
<li> <i>Описание</i> — краткое описание и назначение объекта БД и самой БД в программе.</li>
<li> <i>Адрес</i> — адрес БД в специфичном для типа БД (модуля) формате. Описание формата записи адреса БД как правило доступно во всплывающей подсказке этого поля.</li>
<li> <i>Кодовая страница</i> — указывает на кодовую страницу, в которой хранятся и предоставляются текстовые значения БД. Значение кодовой страницы БД в связке с внутренней кодировкой станции используется для прозрачного перекодирования текстовых сообщений при обмене между станцией и БД.</li>
<li> <i>Включать</i> — указывает на состояние "Включен", в которое переводить БД при загрузке.</li>
<li> <i>Приоритет в списке</i> — приоритет БД [0...99] в общем перечне баз данных используемых в загрузке, полезно для библиотек размещённых в нескольких базах данных для определения приоритетных — используемых.</li>
<li> <i>Закрытие транзакции: после открытия, секунд</i> — время закрытия транзакции после её открытия.</li>
<li> <i>Закрытие транзакции: после запроса, секунд</i> — время закрытия транзакции после последнего запроса. Если время меньше SERV_TASK_PER (10), тогда для обработки транзакций БД будет открыт независимый поток-задачу с определённым следующим параметром приоритетом, иначе процесс будет осуществляться сервисной задачей.</li>
<li> <i>Закрытие транзакции: приоритет отдельной задачи</i> — приоритет независимого потока-задачи, открытой для предыдущего времени меньше SERV_TASK_PER (10).</li></ul></li></ul>
<p>Вкладка "Таблицы" (Рис.4.1f) содержит список открытых таблиц. При нормальной работе программы эта вкладка пуста, поскольку после завершения работы с таблицами программа их закрывает. Наличие открытых таблиц говорит о том, что программа сейчас с таблицами работает или таблицы открыты пользователем для изучения их содержимого. В контекстном меню перечня открытых таблиц можно открыть таблицу для изучения (команда "Добавить"), закрыть открытую таблицу (команда "Удалить") и перейти к изучению её содержимого.
</p><p>Вкладка "SQL" (Рис.4.1g) доступна только для баз данных, поддерживающих SQL-запросы, и содержит поле ввода запроса, кнопку отправки запроса и таблицу с результатом запроса. Для управления режимом транзакции запроса предусмотрено отдельное конфигурационное поле.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:763px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_db_ru.png"><img class="thumbimage" height="688" src="files/QTCfg_subsys_db_mod_db_db_ru.png" width="761" /></a>  <div class="thumbcaption">Рис. 4.1e. Вкладка "База данных" объекта БД модуля подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:735px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_tbl_ru.png"><img class="thumbimage" height="627" src="files/QTCfg_subsys_db_mod_db_tbl_ru.png" width="733" /></a>  <div class="thumbcaption">Рис. 4.1f. Вкладка "Таблицы" объекта БД модуля подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1035px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_sql_ru.png"><img class="thumbimage" height="736" src="files/QTCfg_subsys_db_mod_db_sql_ru.png" width="1033" /></a>  <div class="thumbcaption">Рис. 4.1g. Вкладка "SQL" объекта БД модуля подсистемы "БД".</div></div></div></div>
<p>Страница изучения содержимого таблицы содержит только одну вкладку "Таблица". Вкладка "Таблица" (Рис.4.1h) содержит поле названия таблицы и таблицу с содержимым. Таблицей содержимого предоставляются функции:
</p>
<ul><li> редактирование содержимого ячеек таблицы;</li>
<li> добавление записи (строки);</li>
<li> удаление записи (строки).</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1075px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_tbl_tbl_ru.png"><img class="thumbimage" height="737" src="files/QTCfg_subsys_db_mod_db_tbl_tbl_ru.png" width="1073" /></a>  <div class="thumbcaption">Рис. 4.1h. Вкладка "Таблица" таблицы БД модуля подсистемы "БД".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="mw-headline-number">4.2</span> <span id="CfgSecurity" title="#CfgSecurity">Подсистема "Безопасность"</span></span></h3>
<p>Подсистема не является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Безопасность", содержащая вкладку "Пользователи и группы пользователей". Вкладка "Пользователи и группы пользователей" (Рис.4.2a) содержит списки пользователей и групп пользователей. Пользователь в группе "Security" или с правами привилегированного пользователя может добавить, удалить пользователя или группу пользователей. Все остальные пользователи могут переходить к страницам пользователей или групп пользователей и изменять ряд персональных параметров на собственной странице пользователя.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:649px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_sec_ru.png"><img class="thumbimage" height="543" src="files/QTCfg_subsys_sec_ru.png" width="647" /></a>  <div class="thumbcaption">Рис. 4.2a. Вкладка "Пользователи и группы пользователей" корневой страницы подсистемы "Безопасность".</div></div></div></div>
<p>Для конфигурации пользователя предоставляется страница, содержащая только вкладку "Пользователь" (Рис.4.2b). Вкладка содержит конфигурационные данные профиля пользователя, которые может изменять сам пользователь, пользователь в группе "Security" или привилегированный пользователь:
</p>
<ul><li> <i>Имя</i> — информация об имени (идентификаторе) пользователя.</li>
<li> <i>Полное имя</i> — указывает на полное имя пользователя.</li>
<li> <i>Описание</i> — описание и произвольная информация о пользователе.</li>
<li> <i>Пароль</i> — поле для изменения пароля пользователя. Всегда отображает "********".</li>
<li> <i>Язык</i> — язык пользователя для контекста динамических сообщений и синтеза речи пользовательского интерфейса. Пусто для системного языка.</li>
<li> <i>Изображение пользователя</i> — указывает изображение пользователя. Изображение может быть загружено или выгружено.</li>
<li> <i>Группы</i> — таблица с перечнем групп пользователей и признаком принадлежности пользователя к соответствующей группе.</li>
<li> <i>БД пользователя</i> — адрес БД для хранения данных пользователя, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:681px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_sec_user_ru.png"><img class="thumbimage" height="733" src="files/QTCfg_subsys_sec_user_ru.png" width="679" /></a>  <div class="thumbcaption">Рис. 4.2b. Вкладка "Пользователь" страницы пользователя подсистемы "Безопасность".</div></div></div></div>
<p>Для конфигурации группы пользователей предоставляется страница, содержащая только вкладку "Группа" (Рис.4.2c). Вкладка содержит конфигурационные данные профиля группы пользователей, которые может изменять только привилегированный пользователь:
</p>
<ul><li> <i>Имя</i> — информация об имени (идентификаторе) группы пользователей.</li>
<li> <i>Полное имя</i> — указывает на полное имя группы пользователей.</li>
<li> <i>Описание</i> — описание и произвольная информация о группе пользователей.</li>
<li> <i>Пользователи</i> — список пользователей, включенных в данную группу. С помощью контекстного меню списка можно добавить или удалить пользователя в группе.</li>
<li> <i>БД группы пользователей</i> — адрес БД для хранения данных группы пользователей, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:651px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_sec_grp_ru.png"><img class="thumbimage" height="563" src="files/QTCfg_subsys_sec_grp_ru.png" width="649" /></a>  <div class="thumbcaption">Рис. 4.2c. Вкладка "Группа" страницы группы пользователей подсистемы "Безопасность".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22"><span class="mw-headline-number">4.3</span> <span id="Transports" title="#Transports">Подсистема "Транспорты"</span></span></h3>
<p>Подсистема является модульной и содержит иерархию объектов, изображённую на рисунке 1.6. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Транспорты", содержащая вкладки "Подсистема" и "Модули".
</p><p>Вкладка "Подсистема" (Рис.4.3a) содержит таблицу конфигурации внешних, для данной, OpenSCADA станций. Внешние станции могут быть системными, пользовательскими или одновременно, что выбирается в соответствующей колонке. Системные внешние станции доступны только привилегированному пользователю и используются компонентами системного назначения, например, механизмом горизонтального резервирования и модулем <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQ.DAQGate</a>. Пользовательские внешние станции привязаны к пользователю, который их создавал, а значит список пользовательских внешних станций индивидуален для каждого пользователя. Пользовательские внешние станции используются компонентами графического интерфейса, например: <a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>, <a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">UI.WebCfgD</a> и <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">UI.Vision</a>. В таблице внешних станций возможно добавление и удаление записей про станции, а также их модификация. Каждая запись содержит поля:
</p>
<ul><li> <i>Идентификатор</i> — идентификатор внешней станции.</li>
<li> <i>Имя</i> — имя внешней станции.</li>
<li> <i>Транспорт</i> — выбор модуля подсистемы "Транспорты" из списка, для использования его в доступе к внешней станции.</li>
<li> <i>Адрес</i> — адрес внешней станции в формате, специфичном для выбранного в предыдущем поле модуля подсистемы "Транспорты".</li>
<li> <i>Пользователь</i> — имя/идентификатор пользователя удалённой станции, от имени которого выполнять подключение.</li>
<li> <i>Пароль</i> — пароль пользователя удалённой станции.</li>
<li> <i>Режим</i> — режим хоста: "Пользовательский", "Системный", "Пользовательский и Системный".</li>
<li> <i>Уровень поднятия</i> — уровень поднятия хостов указанного хоста для возможности перенаправления запросов.</li></ul>
<p>Вкладка "Модули" (Рис.4.1b) содержит список модулей подсистемы "Транспорты" и идентична для всех модульных подсистем.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:941px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_sub_ru.png"><img class="thumbimage" height="451" src="files/QTCfg_subsys_tr_sub_ru.png" width="939" /></a>  <div class="thumbcaption">Рис. 4.3a. Вкладка "Подсистема" корневой страницы подсистемы "Транспорты".</div></div></div></div>
<p>Каждый модуль подсистемы "Транспорты" предоставляет конфигурационную страницу с вкладками "Транспорты" и "Модуль".
</p><p>Вкладка "Транспорты" (Рис.4.3b) содержит список входных и выходных транспортов, зарегистрированных модулем. В контекстном меню списков транспортов пользователю предоставляется возможность добавления, удаления и перехода к нужному транспорту. Выходные транспорты также предоставляют функцию времени жизни, которая предусматривает закрытие транспортов по неактивности. Установите это поле в 0 для выключения этой функции!
</p><p>Во вкладке "Модуль" содержится информация о модуле подсистемы "Транспорты" (Рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:681px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_ru.png"><img class="thumbimage" height="558" src="files/QTCfg_subsys_tr_mod_tr_ru.png" width="679" /></a>  <div class="thumbcaption">Рис. 4.3b. Вкладка "Транспорты" модуля подсистемы "Транспорты".</div></div></div></div>
<p>Каждый транспорт содержит собственную страницу конфигурации с вкладкой "Транспорт". Эта вкладка содержит основные настройки транспорта. <span id="TransportIn" title="#TransportIn">Входной транспорт</span> (Рис.4.3c) содержит:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние транспорта:
<ul><li> <i>Статус</i> — информация о текущем состоянии транспорта и статистика его работы. Большинство модулей транспортов предоставляют расширенную диагностику в этом поле при включении <a href="#Config">режима отладки</a>.</li>
<li> <i>Подключение</i> — оперативное состояние/команда транспорта.</li>
<li> <i>БД транспорта</i> — адрес БД для хранения данных транспорта, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li>
<li> <i>Активные подключения</i> — список активных и актуальных подключений входного транспорта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — информация об идентификаторе транспорта.</li>
<li> <i>Имя</i> — указывает имя транспорта.</li>
<li> <i>Описание</i> — краткое описание транспорта и его назначения.</li>
<li> <i>Адрес</i> — адрес транспорта в специфичном для типа транспорта (модуля) формате. Описание формата записи адреса транспорта, как правило, доступно во всплывающей подсказке этого поля.</li>
<li> <i>Транспортный протокол</i> — указывает на модули транспортного протокола (подсистема "Транспортные протоколы"), которые должны работать в связке с данным входным транспортом. Т.е. полученные неструктурированные данные этот модуль будет направлять на структуризацию и обработку указанным модулям транспортного протокола.</li>
<li> <i>Подключаться</i> — указывает на состояние/команду "Подключение" в которое переводить транспорт при загрузке.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:810px;"><a class="image" href="http://oscada.org/wiki/File:Sockets_in_ru.png"><img class="thumbimage" height="836" src="files/Sockets_in_ru.png" width="808" /></a>  <div class="thumbcaption">Рис. 4.3c. Вкладка "Транспорт" страницы входного транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<p><span id="TransportOut" title="#TransportOut">Выходной транспорт</span> (Рис.4.3d) содержит:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние транспорта:
<ul><li> <i>Статус</i> — информация о текущем состоянии транспорта и статистика его работы. Большинство модулей транспортов предоставляют расширенную диагностику в этом поле при включении <a href="#Config">режима отладки</a>.</li>
<li> <i>Подключение</i> — оперативное состояние/команда транспорта. Учитывая сетевую природу транспортов, это состояние часто предусматривает подключение к удалённому сетевому узлу и соответственно отражает факт наличия подключения. Для выходных транспортов нет необходимости в обязательной установке этого состояния пользователем поскольку он используется внешней сущностью протоколов обмена, часто источниками данных, которые предварительно пытаются транспорт подключить, таким образом установив подключение для дальнейшего обмена, более того, транспорт может этой сущностью и отключаться.</li>
<li> <i>БД транспорта</i> — адрес БД для хранения данных транспорта, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — информация об идентификаторе транспорта.</li>
<li> <i>Имя</i> — указывает имя транспорта.</li>
<li> <i>Описание</i> — краткое описание транспорта и его назначения.</li>
<li> <i>Адрес</i> — адрес транспорта в специфичном для типа транспорта (модуля) формате. Описание формата записи адреса транспорта, как правило, доступно во всплывающей подсказке этого поля.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:731px;"><a class="image" href="http://oscada.org/wiki/File:Sockets_out_ru.png"><img class="thumbimage" height="636" src="files/Sockets_out_ru.png" width="729" /></a>  <div class="thumbcaption">Рис. 4.3d. Вкладка "Транспорт" страницы выходного транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<p>Выходной транспорт дополнительно предоставляет вкладку формирования пользовательского запроса через данный транспорт (Рис.4.3e). Вкладка предназначена для наладки связи и протоколов обмена, и она содержит:
</p>
<ul><li> <i>Время</i> — информация о времени, затраченном на запрос и получение ответа.</li>
<li> <i>Режим</i> — указывает режим данных, из списка: "Бинарный", "Текст(LF)", "Текст(CR)", "Текст(CR/LF)"; в котором будет формироваться запрос и предоставляться ответ. В бинарном режиме данные записываются парами чисел в шестнадцатеричном исчислении, т.е. байтами, разделёнными пробелами.</li>
<li> <i>Ожидать таймаут</i> — признак ожидания таймаута при получении ответа. Многие системы при ответе на различных протоколах (например, HTTP) могут слать данные ответа несколькими кусками. Без этого флага будет получен и отображён только первый кусок. При установке флага будет осуществлено ожидание всех кусков ответа, вплоть до отсутствия данных в течении таймаута дожидания транспорта. </li>
<li> <i>Размер входного буфера, байт</i> — контролирует размер входного буфера или выключает чтение (0) вообще — только запись.</li>
<li> <i>Отправить</i> — команда отправить запрос.</li>
<li> <i>Запрос</i> — содержит данные запроса в выбранном режиме представления.</li>
<li> <i>Ответ</i> — предоставляет данные ответа в выбранном режиме представления.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:825px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_otr_req_ru.png"><img class="thumbimage" height="678" src="files/QTCfg_subsys_tr_mod_tr_otr_req_ru.png" width="823" /></a>  <div class="thumbcaption">Рис. 4.3e. Вкладка "Запрос" страницы выходного транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<p><span id="TrDiagnostic" title="#TrDiagnostic">Входной и выходной транспорты также содержат вкладку "Лог ВВ"</span> (Рис.4.3f). Вкладка предоставляется для общего контроля, наблюдения и изучения трафика через транспорты и включает поле длины лога и ограничение блока и саму текстовую область лога. Для отключения лога Вы можете поле длины лога установить в ноль.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:826px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_log_ru.png"><img class="thumbimage" height="709" src="files/QTCfg_subsys_tr_mod_tr_log_ru.png" width="824" /></a>  <div class="thumbcaption">Рис. 4.3f. Вкладка "Лог ВВ" страницы входного транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="mw-headline-number">4.4</span> Подсистема "Транспортные протоколы"</span></h3>
<p>Подсистема является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Транспортные протоколы", содержащая вкладку "Модули". Вкладка "Модули" (Рис.4.1b) содержит список модулей подсистемы "Транспортные протоколы" и идентична для всех модульных подсистем.
</p><p>Каждый модуль подсистемы "Транспортные протоколы" предоставляет конфигурационную страницу с вкладкой "Модуль". Во вкладке "Модуль" содержится информация о модуле подсистемы "Транспортные протоколы" (Рис.4.1d), состав которой идентичен для всех модулей.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="mw-headline-number">4.5</span> <span id="CfgDAQ" title="#CfgDAQ">Подсистема "Сбор данных"</span></span></h3>
<p>Подсистема является модульной и содержит иерархию объектов изображённую на рисунке 1.3. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Сбор данных", содержащая вкладки: "Резервирование", "Библиотеки шаблонов" и "Модули".
</p><p>Для получения доступа на модификацию объектов этой подсистемы необходимы права пользователя в группе "DAQ" или права привилегированного пользователя.
</p><p>Объектом резервирования подсистемы "Сбор Данных" выступает объект контроллера в рамках которого резервирование данных выполняет функции:
</p>
<ul><li> <b>Резервирование механизма сбора данных</b>. Обычно эта функция реализуется без специальных механизмов путём простого запуска параллельных резервных станций с одинаковой конфигурацией и работающих независимо. Однако в случае выполнения станцией функции ПЛК такое поведение недопустимо по причине одновременной выдачи управляющих воздействий и отсутствия синхронизации данных вычислителей.</li>
<li> <b>Компенсация потери данных на время простоя узла</b> за счёт архива резервного. Предусмотрены два механизма компенсации. Первый и основной механизм осуществляет загрузку участков архива из резервной станции в момент запуска станции в целом или отдельных объектов контроллеров, а также восстановления после продолжительного отсутствия связи. Участок архива запрашивается с момента последней записи в локальном архиве и по текущее время. Глубина запроса при этом ограничивается указанием предельного времени в конфигурации резервирования. Второй, дополняющий механизм, осуществляет заполнение "дыр" в архиве значений в момент фактического запроса пользователя к этим данным. Такой подход, с одной стороны, позволяет осуществить прогнозируемую по времени синхронизацию при старте, а с другой фактически исключает потерю данных при условии работы хотя бы одной станции в течение всего рабочего времени.</li>
<li> <b>Распределение нагрузки по сбору данных между узлами</b>. При создании сложных распределённых систем может оказаться важным вопрос прогнозирования и оптимизации общей производительности SCADA системы. С учётом таких задач механизм резервирования предусматривает исполнение задач сбора данных отдельных источников (контроллеров OpenSCADA) только на одной станции. При этом задачи остальных станций переходят в режим синхронизации данных с исполняющей станцией. В случае потери связи с исполняющей станцией запускается задача локального сбора данных. Предусмотрена также возможность оптимального распределение нагрузки исполнения задач сбора данных группы объектов контроллеров между станциями.</li>
<li> <b>Оптимизация нагрузки на внешние источники данных</b> за счёт запроса (обмена) данных у внешнего источника только одним узлом. В практике часто встречаются высоко-нагруженные источники данных или интерфейсы доступа к источникам данных, для которых даже сбор данных одной станцией может быть проблемой и потребует снижения периодичности сбора, т.е. качества данных. Механизм резервирования, кроме распределения нагрузки между станциями по описанной выше схеме, позволяет снять дополнительную нагрузку на источник данных и его интерфейсы тем самым повысив качество данных. Запись в атрибуты резервного объекта контроллера приводит к отправке запроса модификации на основной, т.е. — запись через основной.</li>
<li> <b>Предотвращение некоторого отличия данных на разных узлах</b>, связанное с несовпадением моментов времени при независимом сборе данных отдельными узлами, путём получения данных у станции с активным объектом контроллера. В системах высокой отчётности с резервированием должно быть исключено или сведено к минимуму расхождение в данных на разных станциях, что подразумевает реальный сбор данных одной станцией и синхронизацию с этими данными остальных станций.</li></ul>
<p>Вкладка "Резервирование" (Рис.4.5a) доступна только если в резерве указана хотя-бы одна станция (Рис.4c) и содержит конфигурацию резервирования источников данных подсистемы "Сбор данных", в составе настроек:
</p>
<ul><li> <i>Глубина восстановления данных при запуске</i> — указывает на максимальную глубину архивных данных для восстановления из архива удалённой станции при запуске, в часах (0-12).</li>
<li> <i>Контроллеры</i> — содержит таблицу с перечнем объектов контроллеров, доступных для резервирования, и текущее их состояние:
<ul><li> <i>Контроллер</i> — полный идентификатор объекта контроллера;</li>
<li> <i>Имя</i> — имя объекта контроллера;</li>
<li> <i>Запущен</i> — признак исполнения объекта контроллера локальной станцией;</li>
<li> <i>Резервирование</i> — режим резервирования объекта контроллера, может быть выбран из перечня:
<ul><li> "Выключено" — совершенно независимая работа объекта контроллера.</li>
<li> "Асимметричное" — полное резервирование с доступной конфигурацией объекта контроллера удалённой станции и без попыток её обобщать.</li>
<li> "Только нарушения" — фактическая работа без резервирования, но с подавлением нарушений от резервного объекта контроллера с целью исключения дублирующих сообщений о нарушениях.</li></ul></li>
<li> <i>Предпочтение исполнения</i> — конфигурация предпочтительного исполнения на указанной станции; зарезервированные значения указывают на:
<ul><li> <b>&lt;Высокий уровень&gt;</b> — исполнение на станции с самым высшим уровнем.</li>
<li> <b>&lt;Низкий уровень&gt;</b> — исполнение на станции с самым низким уровнем.</li>
<li> <b>&lt;Оптимально&gt;</b> — выбор для исполнения наименее нагруженной станции — станции которая исполняет наименьшее количество объектов контроллеров.</li></ul></li>
<li> <i>Удалённый</i> — признак, указывающий на исполнение объекта контроллера удалённой станцией и работу локальной станции в режиме синхронизации данных с удалённой.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:951px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_red_ru.png"><img class="thumbimage" height="615" src="files/QTCfg_subsys_daq_red_ru.png" width="949" /></a>  <div class="thumbcaption">Рис. 4.5a. Вкладка "Резервирование" подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "<span id="DAQTmpl" title="#DAQTmpl">Библиотеки шаблонов</span>" (Рис.4.5b) содержит список библиотек шаблонов для параметров этой подсистемы. В контекстном меню списка библиотек шаблонов пользователю предоставляется возможность добавления, удаления и перехода к нужной библиотеке. Вкладка "Модули" (Рис.4.1c) содержит список модулей подсистемы "Транспорты" и идентична для всех модульных подсистем.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:682px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_ru.png"><img class="thumbimage" height="402" src="files/QTCfg_subsys_daq_tmpl_ru.png" width="680" /></a>  <div class="thumbcaption">Рис. 4.5b. Вкладка "Библиотеки шаблонов" подсистемы "Сбор данных".</div></div></div></div>
<p>Каждая библиотека шаблонов подсистемы "Сбор данных" предоставляет конфигурационную страницу с вкладками "Библиотека" и "Шаблоны параметров". Вкладка "Библиотека" (Рис.4.5d) содержит основные настройки библиотеки в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние библиотеки:</li></ul>
<dl><dd><ul><li> <i>Доступен</i> — состояние библиотеки "Доступен".</li>
<li> <i>БД библиотеки</i> — адрес хранилища данных библиотеки и её шаблонов, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li></ul>
<dl><dd> <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Объект всё ещё поддерживает определение избыточного адреса хранилища с таблицей, до того момента как вы переименуете её в стандартную форму "<b>tmplib_{ObjID}</b>".</dd></dl>
<ul><li> <i>Дата модификации</i> — дата и время последней модификации объекта.</li></ul></dd></dl>
<ul><li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:</li></ul>
<dl><dd><ul><li> <i>Идентификатор</i> — информация об идентификаторе библиотеки.</li>
<li> <i>Имя</i> — указывает имя библиотеки.</li>
<li> <i>Описание</i> — краткое описание библиотеки и её назначения.</li></ul></dd></dl>
<p>Вкладка "Шаблоны параметров" (Рис.4.5d) содержит список шаблонов в библиотеке. В контекстном меню списка пользователю предоставляется возможность добавления, удаления и перехода к нужному шаблону.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:744px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_lib_ru.png"><img class="thumbimage" height="626" src="files/QTCfg_subsys_daq_tmpl_lib_ru.png" width="742" /></a>  <div class="thumbcaption">Рис. 4.5c. Основная вкладка конфигурации библиотеки шаблонов подсистемы "Сбор данных".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:758px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_ls_ru.png"><img class="thumbimage" height="510" src="files/QTCfg_subsys_daq_tmpl_ls_ru.png" width="756" /></a>  <div class="thumbcaption">Рис. 4.5d. Вкладка списка шаблонов в библиотеке шаблонов подсистемы "Сбор данных".</div></div></div></div>
<p>Каждый шаблон библиотеки шаблонов предоставляет конфигурационную страницу с вкладками "Шаблон" и "ВВ". Вкладка "Шаблон" (Рис.4.5e) содержит основные настройки шаблона в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние шаблона:
<ul><li> <i>Доступен</i> — состояние шаблона "Доступен".</li>
<li> <i>Использовано</i> — количество использования шаблона. Позволяет определить факт использования и, как следствие, возможность структурных изменений шаблона.</li>
<li> <i>Дата модификации</i> — дата и время последней модификации объекта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — информация об идентификаторе шаблона.</li>
<li> <i>Имя</i> — указывает имя шаблона.</li>
<li> <i>Описание</i> — краткое описание шаблона и его назначения.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:979px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_tmpl_main_ru.png"><img class="thumbimage" height="549" src="files/QTCfg_subsys_daq_tmpl_tmpl_main_ru.png" width="977" /></a>  <div class="thumbcaption">Рис. 4.5e. Главная вкладка конфигурации шаблона параметров подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "ВВ" (Рис.4.5f) содержит конфигурацию атрибутов (Вход-Выход) шаблонов и текст программы шаблона на языке пользовательского программирования OpenSCADA, например, "JavaLikeCalc.JavaScript". Признак "Переводить программу" указывает на сохранение и перевод текста программы для каждого языка (человеческого) отдельно, что усложняет поддержание алгоритма одинаковым для <a href="#Config">многоязычных конфигураций</a>. Этот признак в целом внедрён для совместимости со старыми версиями OpenSCADA, не рекомендуется для установки и на данное время практикуется перевод конкретных текстовых сообщений в тексте программы, через функцию <a href="User_API.html#JavaLikeCalc" title="Special:MyLanguage/Documents/User API">tr()</a>.
</p><p>В таблице атрибутов шаблона пользователь может, посредством контекстного меню: добавить, вставить, удалить, передвинуть вверх или вниз запись атрибута, а также отредактировать поля атрибута:
</p>
<ul><li> <i>Идентификатор</i> — идентификатор атрибута.</li>
<li> <i>Имя</i> — имя атрибута.</li>
<li> <i>Тип</i> — выбор типа значения атрибута из списка: "Вещественный", "Целый", "Логический", "Строка", "Строка (перевод)", "Текст", "Текст (перевод)", "Объект", "Выбор целых чисел", "Выбор вещественных чисел", "Выбор строк".</li>
<li> <i>Режим</i> — выбор режима из списка: "Вход", "Выход". Обычно используется для указания направления передачи данных посредством связи. Т.е. для значения "Вход" данные по связи будут только получаться, а для "Выход" также будут передаваться, в случае модификации.</li>
<li> <i>Атрибут</i> — режим атрибута параметра реализованного на основе шаблона, из списка: "Не атрибут", "Только для чтения", "Полный доступ". Для атрибутов шаблона у которых это поле установлено будет создаваться соответствующий атрибут у параметра контроллера этой подсистемы.</li>
<li> <i>Конфигурация</i> — режим конфигурации атрибута во вкладке конфигурации шаблона у параметра контроллера этой подсистемы, из списка: "Переменная", "Константа", "Связь". В режимах "Константа" и "Связь" во вкладке конфигурации шаблона будут добавлены эти атрибуты для установки константы или указания внешней связи параметра.</li>
<li> <i>Значение</i> — значение атрибута по умолчанию или шаблон ссылки для доступа по ссылке:
<ul><li> Формат шаблона ссылки зависит от компонента который его использует. Общий формат ссылок записывается в виде: <b>{Parameter}|{attribute}</b>. Поле <i>Parameter</i> — указывает имя параметра как контейнера атрибутов. Атрибуты с одинаковым значением <i>Parameter</i> будут группироваться и позволят назначаться указанием только контейнера атрибутов, а отдельные атрибуты будут связаны с атрибутами контейнера в соответствии с полем <i>attribute</i>.</li>
<li> Связь на постоянное значение записывается в форме "<b>val:{Constant}</b>".</li>
<li> Для выборных типов это поле также может содержать перечень значений, во второй строке, и перечень наименований, в третьей строке, с разделением элементов символом ";".</li></ul></li></ul>
<p>С синтаксисом языка программы шаблона можно ознакомиться в документации модуля, предоставляющего интерпретатор выбранного языка. Например, типичным языком пользовательского программирования OpenSCADA является <a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">JavaLikeCalc.JavaScript</a>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1037px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_tmpl_io_ru.png"><img class="thumbimage" height="718" src="files/QTCfg_subsys_daq_tmpl_tmpl_io_ru.png" width="1035" /></a>  <div class="thumbcaption">Рис. 4.5f. Вкладка конфигурации атрибутов и программы шаблона подсистемы "Сбор данных".</div></div></div></div>
<p>Каждый модуль подсистемы "Сбор данных" предоставляет конфигурационную страницу с вкладками "Контроллеры" и "Модуль". Вкладка "Контроллеры" (Рис.4.5g) содержит список объектов контроллеров, зарегистрированных в модуле. В контекстном меню списка пользователю предоставляется возможность добавления, удаления и перехода к нужному объекту контроллера. Во вкладке "Модуль" содержится информация о модуле подсистемы "Сбор данных" (Рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:680px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_ru.png"><img class="thumbimage" height="563" src="files/QTCfg_subsys_daq_mod_cntr_ru.png" width="678" /></a>  <div class="thumbcaption">Рис. 4.5g. Вкладка "Контроллеры" модуля подсистемы "Сбор данных".</div></div></div></div>
<p>Каждый объект контроллера содержит собственную страницу конфигурации с вкладками "Контроллер", "Параметры" и "Диагностика".
</p><p>Вкладка "Контроллер" (Рис.4.5h) содержит основные настройки. Состав этих настроек может несколько отличаться от одного модуля этой подсистемы к другому, о чём можно узнать в собственной документации модулей. В качестве примера рассмотрим настройки объекта контроллера у модуля контроллера логического уровня <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">DAQ.LogicLev</a>:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние объекта контроллера и самого контроллера:</li></ul>
<dl><dd><ul><li> <i>Статус</i> — указывает на статус объекта контроллера и самого контроллера. В нашем случае контроллер исполняется, текущее время вычисления составляет 476 микросекунды и максимальное 2.0 миллисекунд.</li>
<li> <i>Включен</i> — состояние объекта контроллера "Включен". Включенный объект контроллера предоставляет возможность создания параметров и их конфигурации.</li>
<li> <i>Выполняется</i> — состояние объекта контроллера "Выполняется". Исполняющийся объект контроллера осуществляет физический сбор данных и/или включает механизмы доступа к этим данным.</li></ul>
<dl><dd><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Некоторые типы источников данных предоставляют возможность исполнения некоторой части функций перехода в состояние <i>Включен</i> — горячее обновление конфигурационных данных при ручном запуске и что вы можете видеть во всплывающей подсказке к этому полю.</dd></dl>
<ul><li> <i>БД контроллера</i> — адрес хранилища данных объекта контроллера и его параметров, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li>
<li> <i>Дата модификации</i> — дата и время последней модификации объекта.</li></ul></dd></dl>
<ul><li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:</li></ul>
<dl><dd><ul><li> <i>Идентификатор</i> — информация об идентификаторе объекта контроллера.</li>
<li> <i>Имя</i> — указывает имя контроллера.</li>
<li> <i>Описание</i> — краткое описание контроллера и его назначения.</li>
<li> <i>Включать</i> — указывает на состояние "Включен" в которое переводить объект контроллера при запуске программы.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется" в которое переводить объект контроллера при запуске программы.</li>
<li> <i>Таблицы параметров</i> — имена таблиц, в которых сохранять параметры разных типов (имеются в виду объекты параметров сбора данных).</li>
<li> <i>Планирование вычисления</i> — определяет периодический или по расписанию характер вычисления. В нашем примере это периодическое секундное вычисления шаблона.</li>
<li> <i>Уровень приоритета задачи получения данных</i> — устанавливает приоритет задачи сбора данных этого контроллера. Используется при планировании задач операционной системой. В случае наличия доступа это поле включает планирование задачи контроллера в режиме реального времени и с указанным приоритетом иначе модифицирует параметр "nice" задачи.</li></ul></dd></dl>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:782px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_main_ru.png"><img class="thumbimage" height="679" src="files/QTCfg_subsys_daq_mod_cntr_main_ru.png" width="780" /></a>  <div class="thumbcaption">Рис. 4.5h. Главная вкладка конфигурации объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Параметры" (Рис.4.5i) содержит список параметров в объекте контроллера, предоставляет выбор типа создаваемых по умолчанию параметров, а также информацию об общем количестве и количестве включенных параметров. В контекстном меню списка параметров пользователю предоставляется возможность добавления, удаления и перехода к нужному параметру.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:689px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_ru.png"><img class="thumbimage" height="614" src="files/QTCfg_subsys_daq_mod_cntr_prm_ru.png" width="687" /></a>  <div class="thumbcaption">Рис. 4.5i. Вкладка "Параметры" страницы конфигурации объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p><span id="DAQDiagnostic" title="#DAQDiagnostic">Вкладка "Диагностика"</span> (Рис.4.5j) содержит форму диагностических сообщений источника данных. Поскольку многие источники данных представляют собой внешние устройства с доступом к данным посредством сетевого обмена или системной шины то возможны различные нештатные ситуации при доступе к данным. Вывод всех их в поле "Статус" объекта контроллера невозможен поскольку он отображает только текущее состояние доступа к данным. С помощью диагностики можно проследить все нештатные ситуации в виде сообщений, сформированных данным объектом контроллера за указанный промежуток времени и с выбранным уровнем сообщения. Кроме непосредственно рабочей диагностической информации ряд модулей источников данных могут предоставлять здесь различные отладочные дампы обмена, на уровне сообщений "Отладка (0)".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1217px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_diagn_ru.png"><img class="thumbimage" height="605" src="files/QTCfg_subsys_daq_mod_cntr_diagn_ru.png" width="1215" /></a>  <div class="thumbcaption">Рис. 4.5j. Вкладка "Диагностика" страницы конфигурации объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Параметры объектов контроллеров подсистемы "Сбор данных" предоставляют конфигурационную страницу с вкладками "Параметр", "Атрибуты", "Архивация", "Включение" и "Конфигурация шаблона".
</p><p>Вкладка "Параметр" (Рис.4.5k) содержит основные настройки в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние параметра:
<ul><li> <i>Тип</i> — указывает тип параметра. Тип выключенного параметра может быть изменён если доступно несколько типов.</li>
<li> <i>Включен</i> — состояние параметра "Включен". Включенный параметр используется объектом контроллера для сбора данных.</li>
<li> <i>Дата модификации</i> — дата и время последней модификации объекта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — содержит информацию об идентификаторе параметра.</li>
<li> <i>Имя</i> — указывает имя параметра.</li>
<li> <i>Описание</i> — краткое описание параметра и его назначения.</li>
<li> <i>Включать</i> — указывает на состояние "Включен" в которое переводить параметр при запуске программы.</li>
<li> <i>Шаблон параметра</i> — адрес ранее нами рассмотренного шаблона.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:831px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_main_ru.png"><img class="thumbimage" height="653" src="files/QTCfg_subsys_daq_mod_cntr_prm_main_ru.png" width="829" /></a>  <div class="thumbcaption">Рис. 4.5k. Главная вкладка конфигурации параметра объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Атрибуты" (Рис.4.5l) содержит атрибуты параметра и их значения в соответствии с конфигурацией используемого шаблона и вычисления его программы.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:834px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_attr_ru.png"><img class="thumbimage" height="554" src="files/QTCfg_subsys_daq_mod_cntr_prm_attr_ru.png" width="832" /></a>  <div class="thumbcaption">Рис. 4.5l. Вкладка "Атрибуты" параметра объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Архивация" (Рис.4.5m) содержит таблицу с атрибутами параметра в строках и архиваторами в колонках. Пользователь имеет возможность установить архивацию нужного атрибута требуемым архиватором просто изменив ячейку на пересечении.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:834px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_arch_ru.png"><img class="thumbimage" height="554" src="files/QTCfg_subsys_daq_mod_cntr_prm_arch_ru.png" width="832" /></a>  <div class="thumbcaption">Рис. 4.5m. Вкладка "Архивация" параметра объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Включение" (Fig.4.5n) содержит перечень параметров иерархически включенных в другой параметр, предоставляет информацию об общем количестве и количестве включенных параметров. В контекстном меню пользователь может добавить, удалить и перейти к нужному параметру. Включение параметров поддерживается большинством источников данных и глубина включения обычно ограничена 10 уровнями!
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:670px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_incl_ru.png"><img class="thumbimage" height="498" src="files/QTCfg_subsys_daq_mod_cntr_prm_incl_ru.png" width="668" /></a>  <div class="thumbcaption">Fig. 4.5n. Вкладка "Включение" параметра объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Конфигурация шаблона" не является типовой, а присутствует только в параметрах модулей подсистемы "Сбор данных", которые реализуют механизмы работы по шаблону в контексте источника данных ими обслуживаемого для логического типа. В данный обзор эта вкладка включена для обеспечения логической завершённости обзора конфигурации шаблонов параметров подсистемы "Сбор данных" как финальный этап использования. Эта вкладка (Рис.4.5o) содержит конфигурационные поля в соответствии с шаблоном. В примере это групповая связь на внешний параметр. Эту связь можно установить просто указав путь к параметру, если флаг "Показать атрибуты" не установлен, или же установить адреса отдельных атрибутов, если флаг установлен. Знак "(+)" в конце адреса сигнализирует про успешное связывание и присутствии целевого объекта.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:834px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_tmpl_ru.png"><img class="thumbimage" height="554" src="files/QTCfg_subsys_daq_mod_cntr_prm_tmpl_ru.png" width="832" /></a>  <div class="thumbcaption">Рис. 4.5o. Вкладка "Конфигурация шаблона" параметра объекта контроллера подсистемы "Сбор данных".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B-.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F.22"><span class="mw-headline-number">4.6</span> <span id="CfgArch" title="#CfgArch">Подсистема "Архивы-История"</span></span></h3>
<p>Подсистема является модульной и содержит иерархию объектов изображённую на рисунке 1.5. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Архивы-История", содержащая вкладки "Резервирование", "Сообщения", "Значения" и "Модули".
</p><p>Для получения доступа на модификацию объектов этой подсистемы необходимы права пользователя в группе "Archive" или права привилегированного пользователя.
</p><p>Объектом резервирования подсистемы "Архивы-История" выступает объект архиватора сообщений в рамках которого резервирование данных выполняет функции:
</p>
<ul><li> <b>Резервирование механизма архивации</b> — предусматривает обобщение сообщений с резервных станций посредством трёх механизмов:
<ul><li> в основном цикле резервирования резервного архива осуществляется запрос новых сообщений архиватора на основной станции от времени последнего сообщения резервного объекта, где последнее сообщение это последняя секунда времени, что запрашивается дважды, чтобы предотвратить потерю сообщений на эту секунду времени, но предусмотрен механизм контроля дубликатов и их подавления как непосредственно после запроса, так и самим архиватором;</li>
<li> запись или перезапись сообщений в резервный архиватор приводит к перенаправлению запроса записи на основную станцию как для новых, так и перезаписывающих сообщений (также сообщения записываются локально);</li>
<li> перезапись сообщений в основной архиватор приводит к рассылке этих сообщений всем резервным станциям, где исключается создание новых записей в таблице текущих сообщений — только модификация существующих.</li></ul></li>
<li> <b>Компенсация потери данных на время простоя узла</b> за счёт архива резервного узла. Предусматривает только первичную синхронизацию путём загрузки/перегрузки участков архива из резервной станции в момент запуска станции в целом. Участок архива запрашивается с момента последней записи в локальном архиве минус значение параметра глубины принудительной перегрузки и по текущее время. <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Изменённые сообщения на глубину более указанной будут утеряны на запускаемой станции! Процедура первичной синхронизации в целом предусматривает:</li></ul>
<dl><dd><ol><li> запрос всех активных нарушений;</li>
<li> запрос сообщений конкретного архива на глубину, указанную параметром "Глубина принудительной перезагрузки истории резерва при запуске", и по время предыдущего запроса, т.е. когда новые активные нарушения точно не появятся;</li>
<li> переход в нормальный режим отслеживания новых сообщений и нарушений через архив.</li></ol></dd></dl>
<ul><li> <b>Распределение нагрузки по архивации между узлами</b>. При создании сложных распределённых систем может оказаться важным вопрос прогнозирования и оптимизации общей производительности системы с учётом которого механизм резервирования предусматривает исполнение задач архивации отдельных архиваторов только на одной станции. При этом задачи остальных станций переходят в режим синхронизации данных с исполняющей станцией. В случае потери связи с исполняющей станцией запускается задача локальной архивации. Предусмотрена также возможность оптимального распределение нагрузки исполнения задач архивации группы архивов между станциями.</li>
<li> <b>Восстановление первичности нарушений</b>. Для сообщений о нарушениях, отрицательный уровень, при записи осуществляется дополнительная обработка для активных нарушений, а именно — обеспечивается перезапись только старыми-оригинальными.</li></ul>
<p>Резервирование архиваторов значений не предоставляется прямо ввиду осуществления этого процесса через источники данных и подсистему сбора данных.
</p><p>Вкладка "Резервирование" (Рис.4.6a) доступна только если в резерве указана хотя-бы одна станция (Рис.4c) и содержит конфигурацию резервирования архиваторов сообщений подсистемы "Архивы-История", в составе настроек:
</p>
<ul><li> <i>Глубина принудительной перезагрузки истории резерва при запуске</i> — указывает на глубину, в сутках, запроса сообщений у резервной станции от времени последнего сообщения в локальном архиве. Иногда может быть полезным для перегрузки последних сообщений если они потенциально могут поменяться-дополниться на резервной станции при простое локальной.</li>
<li> <i>Архиваторы сообщений</i> — содержит таблицу с перечнем архиваторов сообщений доступных для резервирования и текущее их состояние:
<ul><li> <i>Архиватор</i> — полный идентификатор архиватора сообщений;</li>
<li> <i>Имя</i> — имя архиватора;</li>
<li> <i>Исполняется</i> — признак исполнения архиватора локальной станцией;</li>
<li> <i>Резервирование</i> — режим резервирования архиватора — включение;</li>
<li> <i>Предпочтение исполнения</i> — конфигурация предпочтительного исполнения на указанной станции; зарезервированные значения указывают на:
<ul><li> <b>&lt;Высокий уровень&gt;</b> — исполнение на станции с самым высоким уровнем.</li>
<li> <b>&lt;Низкий уровень&gt;</b> — исполнение на станции с самым низким уровнем.</li>
<li> <b>&lt;Оптимально&gt;</b> — выбор для исполнения наименее нагруженной станции — станции которая исполняет наименьшее количество объектов архиваторов.</li></ul></li>
<li> <i>Удалённый</i> — признак, указывающий на исполнение архиватора удалённой станцией и работу локальной станции в режиме синхронизации данных с удалённой.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:947px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_red_ru.png"><img class="thumbimage" height="475" src="files/QTCfg_subsys_arch_red_ru.png" width="945" /></a>  <div class="thumbcaption">Рис. 4.6a. Вкладка "Резервирование" подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Сообщения" (Рис.4.6b) содержит конфигурацию архива сообщений и форму запроса сообщений из него.
</p><p>Конфигурация архива сообщений представлена полями:
</p>
<ul><li> <i>Размер буфера</i> — определяет размер области оперативной памяти зарезервированной на промежуточный буфер сообщений. Сообщения из буфера запрашиваются для просмотра и архивируются архиваторами сообщений.</li>
<li> <i>Период архивирования</i> — периодичность, в секундах, с которой архиваторы выбирают сообщения из буфера для их архивирования.</li></ul>
<p>Форма запроса сообщений содержит конфигурационные поля запроса и таблицу результата. Конфигурационные поля запроса:
</p>
<ul><li> <i>Время, размер (секунд) и уровень</i> — указывает время, размер или глубину (в секундах) и минимальный уровень сообщений (более или равный указанному) запроса.</li>
<li> <i>Шаблон категории</i> — указывает категорию запрашиваемых сообщений. В категории можно указывать элементы выборки по шаблону, а именно символы "*" — для любой подстроки и "?" — для любого символа, а также регулярное выражение заключённое между символами '/' (/mod_(System|LogicLev)/).</li>
<li> <i>Архиваторы</i> — указывает архиваторы сообщений, разделённые символом ';', для которых обрабатывать запрос. Если значение отсутствует то запрос будет обработан для буфера и всех архиваторов. Если указано "&lt;buffer&gt;" то запрос будет обработан для буфера сообщений.</li></ul>
<p>Таблица результата содержит строки сообщений с колонками:
</p>
<ul><li> <i>Время</i>, <i>мкс</i> — полная дата и время сообщения, а также микросекундная часть, отдельно.</li>
<li> <i>Категория</i> — категория сообщения.</li>
<li> <i>Уровень</i> — уровень сообщения.</li>
<li> <i>Сообщение</i> — непосредственно текст сообщения.</li></ul>
<p>Для сообщений о нарушениях, после таблицы появляется кнопка очистки этой таблицы на предмет видимых нарушений, что полезно для сервисных функций. Таблица также дополняется командой "Удалить" для удаления отдельных нарушений.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1170px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mess_ru.png"><img class="thumbimage" height="632" src="files/QTCfg_subsys_arch_mess_ru.png" width="1168" /></a>  <div class="thumbcaption">Рис. 4.6b. Вкладка "Сообщения" подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Значения" (Рис.4.6c) содержит общую конфигурацию архивирования значений и список архивов значений. В контекстном меню списка значений пользователю предоставляется возможность добавления, удаления и перехода к нужному архиву. Общая конфигурация архивирования представлена полями:
</p>
<ul><li> <i>Период получения данных</i> — указывает периодичность задачи активного архивирования, в миллисекундах. Максимальная детализация или минимальный период активных архивов фактически определяется этим значением.</li>
<li> <i>Уровень приоритета задачи получения данных</i> — устанавливает приоритет задачи активного архивирования. Используется при планировании задач операционной системой. В случае наличия доступа это поле включает планирование задачи архивации в режиме реального времени и с указанным приоритетом иначе модифицирует параметр "nice" задачи.</li>
<li> <i>Принудительно устанавливать метку времени в текущее время</i> — метка времени полученных при активном архивировании значений принудительно устанавливается в текущее время, заменяя время источника данных.</li>
<li> <i>Режим формирования ID автоматически создаваемых архивов</i> — режим формирования идентификатора при выборе архивирования на вкладке "Архивирование" DAQ-параметров.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:906px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_val_ru.png"><img class="thumbimage" height="540" src="files/QTCfg_subsys_arch_val_ru.png" width="904" /></a>  <div class="thumbcaption">Рис. 4.6c. Вкладка "Значения" подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Модули" (Рис.4.1b) содержит список модулей подсистемы "Архивы-История" и идентична для всех модульных подсистем.
</p><p>Архив значений подсистемы "Архивы-История" предоставляет конфигурационную страницу с вкладками "Архив", "Архиваторы" и "Значения".
</p><p>Вкладка "Архив" (Рис.4.6d) содержит основные настройки архива в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства характеризующие состояние архива:
<ul><li> <i>Выполняется</i> — состояние архива "Выполняется". Исполняющийся архив собирает данные в буфер и обслуживается архиваторами.</li>
<li> <i>Начало и конец буфера</i> — дата и время начала и конца значений в буфере.</li>
<li> <i>БД архива</i> — адрес хранилища конфигурации архива, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — информация об идентификаторе архива.</li>
<li> <i>Имя</i> — указывает имя архива.</li>
<li> <i>Описание</i> — краткое описание архива и его назначения.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется" в которое переводить архив при запуске программы.</li>
<li> <i>Источник</i> — указывает на тип и адрес источника. Тип источника указывается из списка: "Пассивный", "Пассивный атрибут параметра" или "Активный атрибут параметра". Пассивный архив не имеет ассоциированного источника значений, а данные в такой архив передаются источником самостоятельно, например, из пользовательских вычислительных процедур посредством внутреннего языка программирования. Типы с атрибутом параметра в поле адреса указывают на атрибут параметра подсистемы "Сбор данных" как источник. Пассивный атрибут параметра направляет данные в архив самостоятельно с собственным периодом сбора данных. Активный атрибут параметра опрашивается задачей архивирования этой подсистемы. Фактически все источники реальных данных работают в пассивном режиме архивирования поскольку полученные данные сразу помещают в атрибут параметра, иногда по метке времени источника. А вот вычислители (<a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">DAQ.JavaLikeCalc</a>, <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">DAQ.LogicLev</a>, <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">DAQ.BlockCalc</a>, <a href="Modules/Siemens.html" title="Special:MyLanguage/Modules/Siemens">DAQ.Siemens</a>) могут работать только в активном режиме архивирования поскольку данные в атрибуте параметра обновляются только при их непосредственном запросе и берутся из контекста вычисления. В случае с источниками реальных данных, разница между активным и пассивным режимом архивирования определяется тем, что в пассивном режиме источник может помещать данные в архив по метке времени, а в активном режиме метка времени всегда устанавливается в текущее системное время.</li>
<li> <i>Режим объединения данных</i> — устанавливает режим объединения данных при записи с буфера высокого разрешения (например, 1 секунда) в архиватор низкого разрешения (например, 1 минута), когда в одну точку архиватора попадает несколько значений из буфера (например, 60). Реализованы режимы: "Скользящее среднее", "Один", "Минимум" и "Максимум".</li>
<li> <i>Тип значений</i> — указывает на тип значений, хранящихся в архиве, из списка: "Логический", "Целый", "Вещественный", "Строка", "Целое16", "Целое32", "Целое64", "Вещ.(Float)" и "Вещ.(Double).</li>
<li> <i>Период буфера</i> — указывает на периодичность значений в буфере архива, в секундах.</li>
<li> <i>Размер буфера</i> — указывает размерность или глубину буфера архива, в единицах. Размерность автоматически устанавливается из расчёта на 60 сек периодичности задачи архивирования, с запасом.</li>
<li> <i>Жесткая сетка времени буфера</i> — указывает на режим буфера. Режим жёсткой сетки подразумевает резервирование памяти под каждое значение, но без метки времени. Такой режим исключает возможность упаковки смежно-одинаковых значений, но экономит на хранении метки времени. Иначе буфер работает в режиме хранения значения и метки времени и поддерживает упаковку смежно-одинаковых значений.</li>
<li> <i>Высокое разрешение времени буфера</i> — указывает на возможность хранения значений с периодичностью и разрешающей способностью до 1 микросекунды, иначе значения могут храниться с периодичностью и разрешающей способностью до 1 секунды.</li>
<li> <i>Заполнение проходных точек последним значением</i> — проходные значения в основном заполняются EVAL однако иногда периодичность значений источника больше периодичности этого архива и это нормально.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:896px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_va_arch_ru.png"><img class="thumbimage" height="719" src="files/QTCfg_subsys_arch_va_arch_ru.png" width="894" /></a>  <div class="thumbcaption">Рис. 4.6d. Основная вкладка конфигурации архива значений подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Архиваторы" (Рис.4.6e) содержит таблицу с конфигурацией процесса обработки данного архива доступными архиваторами. В строках расположены доступные архиваторы, а в колонках параметры:
</p>
<ul><li> <i>Архиватор</i> — информация об адресе архиватора.</li>
<li> <i>Выполняется</i> — информация о состоянии "Выполняется" архиватора.</li>
<li> <i>Обработка</i> — признак обработки данного архива архиватором. Поле доступно для модификации пользователем.</li>
<li> <i>Период</i> — информация о периодичности архиватора, в секундах.</li>
<li> <i>Начало</i> — дата и время начала данных архива в архиваторе.</li>
<li> <i>Конец</i> — дата и время конца данных архива в архиваторе.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:882px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_va_arcs_ru.png"><img class="thumbimage" height="530" src="files/QTCfg_subsys_arch_va_arcs_ru.png" width="880" /></a>  <div class="thumbcaption">Рис. 4.6e. Вкладка "Архиваторы" архива значений подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Значения" (Рис.4.6f) содержит запрос значений в архиве и результат в виде таблицы значений или изображения тренда. Запрос значений содержит поля:
</p>
<ul><li> <i>Время</i> — указывает дату и время запроса. Содержит два поля: поле дата+время и микросекунды.</li>
<li> <i>Размер</i> — указывает размер или глубину запроса в секундах.</li>
<li> <i>Архиватор</i> — указывает архиватор значений для которого обрабатывать запрос. Если значение отсутствует то запрос будет обработан для буфера и всех архиваторов. Если указано "&lt;buffer&gt;", то запрос будет обработан только для буфера архива.</li>
<li> <i>Показать график</i> — указывает на необходимость представления данных архива в виде графика (тренда) иначе результат представляется в таблице, содержащей только время и значение. В случае установки этого поля формируется и отображается график, кроме того появляются дополнительные конфигурационные поля настройки изображения:
<ul><li> <i>Размер изображения</i> — указывает ширину и высоту формируемого изображения, в пикселах.</li>
<li> <i>Шкала значения</i> — указывает нижнюю и верхнюю границу шкалы значений. Если оба значения установлены в 0 или равны, то шкала будет определяться автоматически в зависимости от значений.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1003px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_va_vals_ru.png"><img class="thumbimage" height="631" src="files/QTCfg_subsys_arch_va_vals_ru.png" width="1001" /></a>  <div class="thumbcaption">Рис. 4.6f. Вкладка "Значения" архива значений подсистемы "Архивы-История".</div></div></div></div>
<p>Каждый модуль подсистемы "Архивы-История" предоставляет конфигурационную страницу с вкладками "Архиваторы" и "Модуль". Вкладка "Архиваторы" (Рис.4.6g) содержит списки архиваторов сообщений и значений, зарегистрированных в модуле. В контекстном меню списков пользователю предоставляется возможность добавления, удаления и перехода к нужному архиватору. На вкладке "Модуль" содержится информация о модуле подсистемы "Архивы-История" (Рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:697px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_arcs_ru.png"><img class="thumbimage" height="457" src="files/QTCfg_subsys_arch_mod_arcs_ru.png" width="695" /></a>  <div class="thumbcaption">Рис. 4.6g. Вкладка "Архиваторы" модуля подсистемы "Архивы-История".</div></div></div></div>
<p>Архиваторы сообщений содержат собственную страницу конфигурации с вкладками "Архиватор" и "Сообщения".
</p><p>Вкладка "Архиватор" (Рис.4.6h) содержит основные настройки. Состав этих настроек может несколько отличаться от модуля к модулю этой подсистемы о чём можно узнать в собственной документации модулей. В качестве примера рассмотрим настройки архиватора сообщений у модуля архивирования на файловую систему <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Arch.FSArch</a>:
</p>
<ul><li> Раздел "Состояние" — содержит свойства характеризующие состояние архиватора:
<ul><li> <i>Выполняется</i> — состояние архиватора "Выполняется". Исполняющийся архиватор обрабатывает буфер архива сообщений и помещает его данные в своё хранилище, а также обслуживает запросы на доступ к данным в этом хранилище.</li>
<li> <i>БД архиватора</i> — адрес хранилища данных архиватора, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li>
<li> <i>Конец и начало архиватора</i> — дата и время конца и начала значений данных в хранилище архиватора.</li>
<li> <i>Общий размер файлов архиватора</i> — информация о суммарном размере файлов архиватора с данными.</li>
<li> <i>Время архивирования</i> — текущее и максимальное время, затраченное на архивирование данных архива сообщений.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — информация об идентификаторе архиватора.</li>
<li> <i>Имя</i> — указывает имя архиватора.</li>
<li> <i>Описание</i> — краткое описание архиватора и его назначения.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется" в которое переводить архиватор при запуске программы.</li>
<li> <i>Категории сообщений</i> — список категорий сообщений, разделённых символом ';'. Сообщения, попавшие под шаблоны или регулярные выражения категорий, будут обрабатываться архиватором. В категории можно указывать элементы выборки по шаблону, а именно символы '*' — для любой подстроки и '?' — для любого символа, а также регулярное выражение, заключённое между символами '/' (/mod_(System|LogicLev)/).</li>
<li> <i>Уровень сообщений</i> — указывает на уровень сообщений архиватора. Сообщения с уровнем более или равным указанному обрабатываются архиватором — берутся из буфера.</li>
<li> <i>Адрес</i> — адрес хранилища в специфичном для типа архиватора (модуля) формате. Описание формата записи адреса архиватора как правило доступно во всплывающей подсказке этого поля. В примере это относительный путь к директории хранилища.</li></ul></li>
<li> Раздел "Дополнительные опции" — специализированный для модуля раздел с содержимым которого можно ознакомиться в документации на модуль.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:894px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png"><img class="thumbimage" height="666" src="files/QTCfg_subsys_arch_mod_ma_main_ru.png" width="892" /></a>  <div class="thumbcaption">Рис. 4.6h. Главная вкладка конфигурации архиватора сообщений подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Сообщения" (Рис.4.6i) содержит форму запроса сообщений из архива данного архиватора:
</p>
<ul><li> <i>Время, размер (секунд) и уровень</i> — указывает дату и время, размер или глубину и минимальный уровень сообщений (более или равный указанному) запроса.</li>
<li> <i>Шаблон категории</i> — указывает категорию запрошенных сообщений. В категории можно указывать элементы выборки по шаблону, а именно символы '*' — для любой подстроки и '?' — для любого символа, а также регулярное выражение, заключённое между символами '/' (/mod_(System|LogicLev)/).</li></ul>
<p>Таблица результата содержит строки сообщений с колонками:
</p>
<ul><li> <i>Время</i>, <i>мкс</i> — полная дата и время сообщения, а также микросекундная часть, отдельно.</li>
<li> <i>Категория</i> — категория сообщения.</li>
<li> <i>Уровень</i> — уровень сообщения.</li>
<li> <i>Сообщение</i> — непосредственно текст сообщения.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1036px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_mess_ru.png"><img class="thumbimage" height="694" src="files/QTCfg_subsys_arch_mod_ma_mess_ru.png" width="1034" /></a>  <div class="thumbcaption">Рис. 4.6i. Вкладка запроса сообщений "Сообщения" архиватора сообщений подсистемы "Архивы-История".</div></div></div></div>
<p>Архиваторы значений содержат собственную страницу конфигурации с вкладками "Архиватор" и "Архивы".
</p><p>Вкладка "Архиватор" (Рис.4.6j) содержит основные настройки. Состав этих настроек может несколько отличаться от модуля к модулю этой подсистемы о чём можно узнать в собственной документации модулей. В качестве примера рассмотрим настройки архиватора значений у модуля архивирования на файловую систему <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Arch.FSArch</a>:
</p>
<ul><li> Раздел "Состояние" — содержит свойства характеризующие состояние архиватора:
<ul><li> <i>Выполняется</i> — состояние архиватора "Выполняется". Исполняющийся архиватор обрабатывает буфера архивов значений и помещает их данные в своё хранилище, а также обслуживает запросы на доступ к данным в хранилище.</li>
<li> <i>Время архивирования</i> — текущее и максимальное времени, затраченное на архивирование данных буферов архивов. Периодичность архивирования указывается в поле "Период архивирования" раздела "Конфигурация" этой вкладки.</li>
<li> <i>БД архиватора</i> — адрес хранилища данных архиватора, с отслеживанием наличия данных в различных хранилищах и предоставлением последовательного удаления дубликатов.</li>
<li> <i>Общий размер файлов архиватора</i> — информация о суммарном размере файлов архиватора с данными.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>Идентификатор</i> — информация об идентификаторе архиватора.</li>
<li> <i>Имя</i> — указывает имя архиватора.</li>
<li> <i>Описание</i> — краткое описание архиватора и его назначения.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется" в которое переводить архиватор при запуске программы.</li>
<li> <i>Адрес</i> — адрес хранилища в специфичном для типа архиватора (модуля) формате. Описание формата записи адреса архиватора как правило доступно во всплывающей подсказке этого поля. В примере это относительный путь к директории хранилища.</li>
<li> <i>Период значений</i> — указывает периодичность значений, которые содержаться в хранилище архиватора, в секундах.</li>
<li> <i>Период архивирования</i> — указывает периодичность задачи архивирования данных буферов архивов, в секундах. Размер буферов архивов, во временном выражении, должна быть не менее, а лучше несколько больше, периодичности задачи архивирования. Установить нулевой период для отключения использования архиватора в обработке буфера — только прямая запись.</li>
<li> <i>Приоритет выбора</i> — приоритет выбора архиватора для режима использования источника "Все". Установить в нуль для полного исключения из выбора.</li></ul></li>
<li> Раздел "Дополнительные опции" — специализированный для модуля раздел с содержимым которого можно ознакомиться в документации на модуль.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:800px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_va_main_ru.png"><img class="thumbimage" height="657" src="files/QTCfg_subsys_arch_mod_va_main_ru.png" width="798" /></a>  <div class="thumbcaption">Рис. 4.6j. Главная вкладка конфигурации архиватора значений подсистемы "Архивы-История".</div></div></div></div>
<p>Вкладка "Архивы" (Рис.4.6k) содержит таблицу с информацией об архивах, обрабатываемых архиватором. Таблица в строках содержит архивы, а в колонках информацию:
</p>
<ul><li> <i>Архив</i> — имя архива.</li>
<li> <i>Период, секунд</i> — периодичность архива.</li>
<li> <i>Размер буфера</i> — размер буфера, в единицах.</li>
<li> <i>Последнее чтение буфера</i> — дата и время последнего чтения данных из буфера.</li>
<li> <i>Размер файлов</i> — специфичное для модуля <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Arch.FSArch</a> поле с информацией о суммарном размере файлов хранилища архиватора для архива.</li></ul>
<p>В случае с модулем <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Arch.FSArch</a> в этой вкладке ещё содержится форма экспорта данных архиватора.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1013px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_va_archs_ru.png"><img class="thumbimage" height="540" src="files/QTCfg_subsys_arch_mod_va_archs_ru.png" width="1011" /></a>  <div class="thumbcaption">Рис. 4.6k. Вкладка "Архивы" архиватора значений подсистемы "Архивы-История".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B.22"><span class="mw-headline-number">4.7</span> Подсистема "Пользовательские интерфейсы"</span></h3>
<p>Подсистема является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Пользовательские интерфейсы", содержащая вкладку "Модули". Вкладка "Модули" (Рис.4.1b) содержит список модулей подсистемы "Специальные" и идентична для всех модульных подсистем.
</p><p>Каждый модуль подсистемы "Пользовательские интерфейсы" предоставляет конфигурационную страницу с вкладками "Пользовательский интерфейс" и "Модуль". Вкладка "Пользовательский интерфейс" (Рис.4.7) предоставляет параметр для контроля за состоянием "Выполняется" модуля, а также разделы конфигурации, специализированные для модулей этой подсистемы. Во вкладке "Модуль" содержится информация о модуле подсистемы "Пользовательские интерфейсы" (Рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:921px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_ui_mod_ru.png"><img class="thumbimage" height="541" src="files/QTCfg_subsys_ui_mod_ru.png" width="919" /></a>  <div class="thumbcaption">Рис. 4.7. Вкладка "Пользовательский интерфейс" модуля подсистемы "Пользовательские интерфейсы".</div></div></div></div>
<p>В связи с тем, что большинство модулей этой подсистемы являются графическими интерфейсами то они сами могут предоставлять развитый интерфейс настройки, например, модуль <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">UI.Vision</a>, а информацию про специфику их конфигурации можно найти в собственной документации этих модулей.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="mw-headline-number">4.8</span> Подсистема "Специальные"</span></h3>
<p>Подсистема является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Специальные", содержащая вкладку "Модули". Вкладка "Модули" (Рис.4.1b) содержит список модулей подсистемы "Специальные" и идентична для всех модульных подсистем. 
</p><p>Каждый модуль подсистемы "Специальные" предоставляет конфигурационную страницу с вкладками "Специальный" и "Модуль". Вкладка "Специальный" (Рис.4.8) предоставляет параметр для контроля за состоянием "Выполняется" модуля, а также разделы конфигурации, специализированные для модулей этой подсистемы. Во вкладке "Модуль" содержится информация о модуле подсистемы "Специальные" (Рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:696px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_spec_mod_ru.png"><img class="thumbimage" height="541" src="files/QTCfg_subsys_spec_mod_ru.png" width="694" /></a>  <div class="thumbcaption">Рис. 4.8. Вкладка "Специальный" модуля подсистемы "Специальные".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.94.D0.B8.D1.81.D0.BF.D0.B5.D1.82.D1.87.D0.B5.D1.80_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D0.B5.D0.B9.22"><span class="mw-headline-number">4.9</span> <span id="CfgModSched" title="#CfgModSched">Подсистема "Диспетчер модулей"</span></span></h3>
<p>Подсистема не является модульной. Для конфигурации подсистемы "Диспетчер модулей" предусмотрена страница подсистемы, содержащая вкладку "Подсистема". Вкладка "Подсистема" (Рис.4.9) содержит основные настройки подсистемы в составе:
</p>
<ul><li> <i>Путь к разделяемым библиотекам (модулям)</i> — информация о расположении директории с модулями OpenSCADA. Устанавливается параметром <i>ModDir</i> конфигурационного файла станции.</li>
<li> <i>Запрещённые модули</i> — список модулей, разделённый символом ';', запрещённых для автоматического подключения и обновления. Устанавливается параметром <i>ModDeny</i> раздела подсистемы "sub_ModSched" конфигурационного файла станции. Список запрещённых модулей имеет больший приоритет чем разрешённых.</li>
<li> <i>Разрешённые модули</i> — список модулей, разделённый символом ';', разрешённых для автоматического подключения и обновления. Значение '*' используется для разрешения всех модулей. Устанавливается параметром <i>ModAllow</i> раздела подсистемы "sub_ModSched" конфигурационного файла станции.</li>
<li> <i>Период проверки модулей</i> — указывает на период проверки модулей на факт их обновления, в секундах. Модули, допустимые для автоматического подключения и обновления, будут автоматически обновлены.</li>
<li> <i>Проверить модули сейчас</i> — команда выполнить проверку модулей на факт их обновления. Модули, допустимые для автоматического подключения и обновления, будут автоматически обновлены.</li>
<li> <i>Разделяемые библиотеки (модули)</i> — таблица с перечнем разделяемых библиотек с модулями, обнаруженными OpenSCADA. В строках расположены модули, а в колонках информация о них:
<ul><li> <i>Путь</i> — информация о полном пути к разделяемой библиотеке.</li>
<li> <i>Время</i> — информация о дате и времени последней модификации файла разделяемой библиотеки.</li>
<li> <i>Модули</i> — информация о перечне модулей в разделяемой библиотеке.</li>
<li> <i>Включен</i> — состояние "Включен" разделяемой библиотеки. Привилегированным пользователям предоставляется возможность ручного включения/выключения разделяемых библиотек путём изменения этого поля.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1081px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_modshed_ru.png"><img class="thumbimage" height="708" src="files/QTCfg_subsys_modshed_ru.png" width="1079" /></a>  <div class="thumbcaption">Рис. 4.9. Главная вкладка конфигурации подсистемы "Диспетчер модулей".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B9_.D0.A4.D0.B0.D0.B9.D0.BB_.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D0.BE.D0.B9_.D1.81.D1.82.D1.80.D0.BE.D0.BA.D0.B8"><span class="mw-headline-number">4.10</span> <span id="CfgFilePrm" title="#CfgFilePrm">Конфигурационный Файл и параметры командной строки</span></span></h3>
<p>Конфигурационный Файл OpenSCADA предназначен для хранения основной конфигурации станции OpenSCADA. Только в Конфигурационном Файле и через параметры командной строки можно указать часть ключевых параметров станции, поэтому знакомство со структурой конфигурационного файла необходимо специалистам, разворачивающим специфические решения на основе OpenSCADA. Больше информации про запуск и исполнение OpenSCADA может быть найдено в секции "<a href="#Startup">Запуск и исполнение</a>".
</p><p>Структурно Конфигурационный Файл организован на расширяемом языке разметки текста XML. Следовательно требуется жёсткое соблюдение правилам синтаксиса XML. Показательный пример Конфигурационного Файла OpenSCADA с примерами конфигурации большинства компонентов OpenSCADA, приведен ниже:
</p>
<pre style="white-space: pre-wrap;">
&lt;?xml version='1.0' encoding='UTF-8'&nbsp;?&gt;
&lt;OpenSCADA&gt;
    &lt;!--
    This is the OpenSCADA configuration file.
    --&gt;
    &lt;station id="SimulatorStation"&gt;
        &lt;!--
        Description of the internal parameters of the station.
        The station is the OpenSCADA program.
        --&gt;
        &lt;prm id="StName"&gt;AGLKS&lt;/prm&gt;
        &lt;prm id="WorkDB"&gt;SQLite.GenDB&lt;/prm&gt;
        &lt;prm id="LogTarget"&gt;10&lt;/prm&gt;
        &lt;prm id="Lang2CodeBase"&gt;en_US.UTF-8;uk_UA.UTF-8;ru_RU.UTF-8&lt;/prm&gt;
        &lt;prm id="SaveAtExit"&gt;0&lt;/prm&gt;
        &lt;prm id="SavePeriod"&gt;0&lt;/prm&gt;

        &lt;node id="sub_BD"&gt;
            &lt;tbl id="DB"&gt;
                &lt;fld ID="GenDB" TYPE="SQLite" NAME="Generic DB" NAME_uk="Основна БД" NAME_ru="Основная БД" ADDR="St.db" CODEPAGE="UTF-8" /&gt;
            &lt;/tbl&gt;
        &lt;/node&gt;

        &lt;node id="sub_Security"&gt;
            &lt;tbl id="Security_user"&gt;
                &lt;fld NAME="roman" DESCR="Roman Savochenko" PASS="$1$roman$wleNCf/uyA84cGpBn5QuG." /&gt;
                &lt;fld NAME="root" DESCR="Administrator (superuser)!!!" DESCR_uk="Супер користувач" DESCR_ru="Супер пользователь" PASS="$1$root$lCn57dP9yzkCIAyrwJ24r1" /&gt;
                &lt;fld NAME="test" DESCR="Test user" PASS="$1$test$pi/xDtU5WFVRqYS6BMU8X/" /&gt;
                &lt;fld NAME="user" DESCR="Simple user" DESCR_uk="Звичайний користувач" DESCR_ru="Простой пользователь" PASS="$1$user$k8sntSoh7jhsc6lwspjsU." /&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Security_grp"&gt;
                &lt;fld NAME="Archive" DESCR="Archives-History" DESCR_uk="Архіви-Історія" DESCR_ru="Архивы-История" /&gt;
                &lt;fld NAME="BD" DESCR="Databases" DESCR_uk="Бази даних" DESCR_ru="Базы данных" /&gt;
                &lt;fld NAME="DAQ" DESCR="Data acquisition" DESCR_uk="Збір даних" DESCR_ru="Сбор данных" /&gt;
                &lt;fld NAME="ModSched" DESCR="Modules scheduler" DESCR_uk="Диспетчер модулів" DESCR_ru="Диспетчер модулей" /&gt;
                &lt;fld NAME="Protocol" DESCR="Transport protocols" DESCR_uk="Транспортні протоколи" DESCR_ru="Транспортные протоколы" /&gt;
                &lt;fld NAME="Security" DESCR="Security" DESCR_uk="Безпека" DESCR_ru="Безопасность" /&gt;
                &lt;fld NAME="Special" DESCR="Specials" DESCR_uk="Спеціальні" DESCR_ru="Специальные" /&gt;
                &lt;fld NAME="Transport" DESCR="Transports" DESCR_uk="Транспорти" DESCR_ru="Транспорты" /&gt;
                &lt;fld NAME="UI" DESCR="User Interfaces" DESCR_uk="Інтерфейси користувача" DESCR_ru="Интерфейсы пользователя" /&gt;
                &lt;fld NAME="root" DESCR="Administartors group" DESCR_uk="Група адміністраторів" DESCR_ru="Группа администраторов" USERS="roman;" /&gt;
                &lt;fld NAME="users" DESCR="Users group" DESCR_uk="Група користувачів" DESCR_ru="Группа пользователей" USERS="test;user;" /&gt;
                &lt;fld NAME="ITW" DESCR="IT worker" DESCR_uk="Робітник IT" DESCR_ru="Работник IT"
                    LONGDESCR="Information Technology or service worker."
                    LONGDESCR_uk="Робітник Інформаційних Технологій та сервісу."
                    LONGDESCR_ru="Работник Информационных Технологий и сервиса." /&gt;
                &lt;fld NAME="op" DESCR="Operator" DESCR_uk="Оператор" DESCR_ru="Оператор" /&gt;
            &lt;/tbl&gt;
        &lt;/node&gt;

        &lt;node id="sub_ModSched"&gt;
            &lt;prm id="ModAllow"&gt;*&lt;/prm&gt;
            &lt;prm id="ModDeny" /&gt;
            &lt;prm id="ChkPer"&gt;0&lt;/prm&gt;
        &lt;/node&gt;

        &lt;node id="sub_Transport"&gt;
            &lt;tbl id="ExtTansp"&gt;
                &lt;fld OP_USER="roman" ID="loop" NAME="Loop" NAME_uk="Петля" NAME_ru="Петля" TRANSP="Sockets" ADDR="TCP:localhost:10005" USER="roman" PASS="roman" /&gt;
                &lt;fld OP_USER="*" ID="loop" NAME="Loop" NAME_uk="Петля" NAME_ru="Петля" TRANSP="Sockets" ADDR="TCP:localhost:10005" USER="roman" PASS="roman" /&gt;
                &lt;fld OP_USER="roman" ID="loopSSL" NAME="Loop SSL" NAME_uk="Петля SSL" NAME_ru="Петля SSL" TRANSP="SSL" ADDR="localhost:10045" USER="roman" PASS="roman" /&gt;
                &lt;fld OP_USER="*" ID="loopSSL" NAME="Loop SSL" NAME_uk="Петля SSL" NAME_ru="Петля SSL" TRANSP="SSL" ADDR="localhost:10045" USER="roman" PASS="roman" /&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Transport_in"&gt;
                &lt;fld ID="Self" MODULE="Sockets" NAME="Self system" DESCRIPT="Main transport of OpenSCADA self protocol."
                        DESCRIPT_uk="Основний транспорт власного протоколу OpenSCADA." DESCRIPT_ru="Основной транспорт собственного протокола OpenSCADA." ADDR="TCP::10005:1" PROT="SelfSystem" START="1"&gt;
                    &lt;A_PRMS&gt;&amp;lt;prms MaxQueue="10" MaxClients="20" MaxClientsPerHost="5" BufLen="5" KeepAliveReqs="0" KeepAliveTm="60" /&amp;gt;&lt;/A_PRMS&gt;
                &lt;/fld&gt;
                &lt;fld ID="WEB_1" MODULE="Sockets" NAME="WEB 1" DESCRIPT="Main transport of the WEB interfaces."
                        DESCRIPT_uk="Основний транспорт WEB інтерфейсів." DESCRIPT_ru="Основной транспорт WEB интерфейсов." ADDR="TCP::10002:0" PROT="HTTP" START="1"&gt;
                    &lt;A_PRMS&gt;&amp;lt;prms MaxQueue="10" MaxClients="100" MaxClientsPerHost="25" BufLen="5" KeepAliveReqs="0" KeepAliveTm="5" /&amp;gt;&lt;/A_PRMS&gt;
                &lt;/fld&gt;
                &lt;fld ID="WEB_2" MODULE="Sockets" NAME="WEB 2" DESCRIPT="Reserve transport of the WEB interfaces."
                        DESCRIPT_uk="Резервний транспорт WEB інтерфейсів." DESCRIPT_ru="Резервный транспорт WEB интерфейсов." ADDR="TCP::10004:0" PROT="HTTP" START="1"&gt;
                    &lt;A_PRMS&gt;&amp;lt;prms MaxQueue="10" MaxClients="100" MaxClientsPerHost="25" BufLen="5" KeepAliveReqs="0" KeepAliveTm="5" /&amp;gt;&lt;/A_PRMS&gt;
                &lt;/fld&gt;
            &lt;/tbl&gt;
            &lt;!--
            &lt;tbl id="Transport_out"&gt;
                &lt;fld
                    ID="testModBus"
                    MODULE="Sockets"
                    NAME="Test ModBus"
                    NAME_uk="Тест ModBus"
                    NAME_ru="Тест ModBus"
                    DESCRIPT="ModBus protocol exchange test."
                    DESCRIPT_uk="Тест обміну за протоколом ModBus."
                    DESCRIPT_ru="Тест обмена по протоколу ModBus."
                    ADDR="TCP:localhost:10502"
                    START="1"/&gt;
            &lt;/tbl&gt;--&gt;
        &lt;/node&gt;

        &lt;node id="sub_DAQ"&gt;
            &lt;!--
            &lt;tbl id="tmplib"&gt;
                &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" DB="tmplib_test2"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="tmplib_test2"&gt;
                &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR=""
                    PROGRAM="JavaLikeCalc.JavaScript&amp;#010;cnt=5*i;"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="tmplib_test2_io"&gt;
                &lt;fld TMPL_ID="test2" ID="i" NAME="I" NAME_uk="I" NAME_ru="I" TYPE="4" FLAGS="160" VALUE="" POS="0"/&gt;
                &lt;fld TMPL_ID="test2" ID="cnt" NAME="Cnt" NAME_uk="Cnt" NAME_ru="Cnt" TYPE="4" FLAGS="32" VALUE="" POS="0"/&gt;
            &lt;/tbl&gt;--&gt;

            &lt;node id="mod_LogicLev"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld
                        ID="test2"
                        NAME="Test 2"
                        NAME_uk="Тест 2"
                        NAME_ru="Тест 2"
                        DESCR=""
                        ENABLE="1"
                        START="1"
                        PRM_BD="test2prm"
                        PERIOD="1000"
                        PRIOR="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR=""
                        EN="1" MODE="2" PRM="test2.test2"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_System"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld
                        ID="dataOS"
                        NAME="OS data"
                        NAME_uk="Дані ОС"
                        NAME_ru="Даные ОС"
                        DESCR="Data of services and subsystems of OS."
                        DESCR_uk="Дані сервісів та підсистем ОС."
                        DESCR_ru="Данные сервисов и подсистем ОС."
                        ENABLE="1"
                        START="1"
                        AUTO_FILL="0"
                        PRM_BD="DataOSprm"
                        PERIOD="1000"
                        PRIOR="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="DataOSprm"&gt;
                    &lt;fld SHIFR="CPU" NAME="CPU load" NAME_uk="Навантаження CPU" NAME_ru="Нагрузка CPU" DESCR=""
                        EN="1" TYPE="CPU" SUBT="gen"/&gt;
                    &lt;fld SHIFR="MEM" NAME="Memory" NAME_uk="Пам'ять" NAME_ru="Память" DESCR="" EN="1" TYPE="MEM"/&gt;
                &lt;/tbl&gt;
                --&gt;
            &lt;/node&gt;

            &lt;node id="mod_DiamondBoards"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="Athena" NAME="Athena board" NAME_uk="Плата Athena" NAME_ru="Плата Athena" DESCR=""
                        ENABLE="1" START="0" BOARD="25" PRM_BD_A="AthenaAnPrm" PRM_BD_D="AthenaDigPrm" ADDR="640" INT="5"
                        DIO_CFG="0" ADMODE="0" ADRANGE="0" ADPOLAR="0" ADGAIN="0" ADCONVRATE="1000"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="AthenaAnPrm"&gt;
                    &lt;fld SHIFR="ai0" NAME="AI 0" NAME_uk="AI 0" NAME_ru="AI 0" DESCR="" EN="0" TYPE="0" CNL="0" GAIN="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="AthenaDigPrm"&gt;
                    &lt;fld SHIFR="di0" NAME="DI 0" NAME_uk="DI 0" NAME_ru="DI 0" DESCR="" EN="0" TYPE="0" PORT="0" CNL="0"/&gt;
                &lt;/tbl&gt;
                --&gt;
            &lt;/node&gt;

            &lt;node id="mod_BlockCalc"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="Model" NAME="Model" NAME_uk="Модель" NAME_ru="Модель" DESCR=""
                        ENABLE="1" START="1" PRM_BD="Model_prm" BLOCK_SH="Model_blcks" PERIOD="1000" PRIOR="0" PER_DB="0" ITER="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="Model_blcks"&gt;
                    &lt;fld ID="Klap" NAME="Klapan" NAME_uk="Клапан" NAME_ru="Клапан" DESCR=""
                        FUNC="DAQ.JavaLikeCalc.lib_techApp.klap" EN="1" PROC="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="Model_blcks_io"&gt;
                    &lt;fld BLK_ID="Klap" ID="l_kl1" TLNK="0" LNK="" VAL="50"/&gt;
                    &lt;fld BLK_ID="Klap" ID="l_kl2" TLNK="0" LNK="" VAL="20"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="Model_prm"&gt;
                    &lt;fld SHIFR="l_kl" NAME="Klap level" NAME_uk="Положення клапану" NAME_ru="Положение клапана" DESCR=""
                        EN="1" IO="Klap.l_kl1"/&gt;
                &lt;/tbl&gt;
                --&gt;
            &lt;/node&gt;

            &lt;node id="mod_JavaLikeCalc"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="CalcTest" NAME="Calculation test" NAME_uk="Тест обчислення" NAME_ru="Тест вычисления" DESCR=""
                        ENABLE="1" START="1" PRM_BD="CalcTest_prm" FUNC="TemplFunc.d_alarm" SCHEDULE="1" PRIOR="0" ITER="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="CalcTest_val"&gt;
                    &lt;fld ID="in" VAL="0"/&gt;
                    &lt;fld ID="alrm" VAL=""/&gt;
                    &lt;fld ID="alrm_md" VAL="1"/&gt;
                    &lt;fld ID="alrm_mess" VAL="Error present."/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="CalcTest_prm"&gt;
                    &lt;fld SHIFR="alrm" NAME="Alarm" NAME_uk="Аварія" NAME_ru="Авария" DESCR="" EN="1" FLD="alrm"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="lib"&gt;
                    &lt;fld ID="TemplFunc" NAME="" DESCR="" DB="lib_TemplFunc"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="lib_TemplFunc"&gt;
                    &lt;fld ID="d_alarm" NAME="Digit alarm" NAME_uk="Аварія за дискретним" NAME_ru="Авария по дискретному" DESCR=""
                        FORMULA="alrm=(in==alrm_md)?&amp;quot;1:&amp;quot;+alrm_mess:&amp;quot;0&amp;quot;;"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="lib_TemplFunc_io"&gt;
                    &lt;fld F_ID="d_alarm" ID="in" NAME="Input" NAME_uk="Вхід" NAME_ru="Вход" TYPE="3" MODE="0" DEF="" HIDE="0" POS="0"/&gt;
                    &lt;fld F_ID="d_alarm" ID="alrm" NAME="Alarm" NAME_uk="Аварія" NAME_ru="Авария" TYPE="0" MODE="1" DEF="" HIDE="0" POS="1"/&gt;
                    &lt;fld F_ID="d_alarm" ID="alrm_md" NAME="Alarm mode" NAME_uk="Режим аварії" NAME_ru="Режим аварии"
                        TYPE="3" MODE="0" DEF="" HIDE="0" POS="2"/&gt;
                    &lt;fld F_ID="d_alarm" ID="alrm_mess" NAME="Alarm message" NAME_uk="Повідомлення аварії" NAME_ru="Сообщение аварии"
                        TYPE="0" MODE="0" DEF="" HIDE="0" POS="3"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_Siemens"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1000" PRIOR="0" CIF_DEV="0" ADDR="5" ASINC_WR="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1" TMPL="S7.ai_man"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_SNMP"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR=""
                        ENABLE="1" START="1" PRM_BD="test2prm" PERIOD="1000" PRIOR="0" ADDR="localhost" COMM="public" PATTR_LIM="20"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1" OID_LS="system"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_ModBus"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1000" PRIOR="0" TRANSP="Sockets" ADDR="exlar.diya.org" NODE="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1"
                        ATTR_LS="321:0:tst:Test"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_DAQGate"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1000" PRIOR="0" SYNCPER="60" STATIONS="loop" CNTRPRM="System.AutoDA"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_DCON"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1" PRIOR="0" ADDR="" REQ_TRY="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1" MOD_TP="0"
                        MOD_ADDR="1" CRC_CTRL="1"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_ICP_DAS"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1" PRIOR="0" BUS="1" BAUD="115200" LP_PRMS="" REQ_TRY="3"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1"
                        MOD_TP="552985" MOD_ADDR="0" MOD_SLOT="1" MOD_PRMS="0"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_OPC_UA"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" SCHEDULE="1" PRIOR="0" SYNCPER="60" ADDR="" EndPoint="opc.tcp://localhost:4841" SecPolicy="None"
                        SecMessMode="1" Cert="" PvKey="" AttrsLimit="100"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1" ND_LS=""/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_SoundCard"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" ENABLE="1" START="1"
                        PRM_BD="test2prm" CARD="" SMPL_RATE="8000" SMPL_TYPE="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" EN="1" CHANNEL="0"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;
        &lt;/node&gt;

        &lt;node id="sub_Archive"&gt;
            &lt;prm id="MessBufSize"&gt;1000&lt;/prm&gt;
            &lt;prm id="MessPeriod"&gt;5&lt;/prm&gt;
            &lt;prm id="ValPeriod"&gt;1000&lt;/prm&gt;
            &lt;prm id="ValPriority"&gt;10&lt;/prm&gt;
            &lt;!--
            &lt;tbl id="Archive_mess_proc"&gt;
                &lt;fld
                    ID="StatErrors"
                    MODUL="FSArch"
                    NAME="Errors"
                    NAME_uk="Помилки"
                    NAME_ru="Ошибки"
                    DESCR="Archive of local errors"
                    DESCR_uk="Архів локальних помилок"
                    DESCR_ru="Архив локальных ощибок"
                    START="1"
                    CATEG="/DemoStation*"
                    LEVEL="4"
                    ADDR="ARCHIVES/MESS/stError/"/&gt;
                &lt;fld
                    ID="NetRequsts"
                    MODUL="FSArch"
                    NAME="Network requests"
                    NAME_uk="Мережеві запити"
                    NAME_ru="Сетевые запросы"
                    DESCR="Requests to the server via Sockets transport."
                    DESCR_uk="Запити до сервера через транспорт Sockets."
                    DESCR_ru="Запросы к серверу через транспорт Sockets."
                    START="1"
                    CATEG="/DemoStation/Transport/Sockets*"
                    LEVEL="1"
                    ADDR="ARCHIVES/MESS/Net/"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Archive_val_proc"&gt;
                &lt;fld
                    ID="1h"
                    MODUL="FSArch"
                    NAME="1hour"
                    NAME_uk="1година"
                    NAME_ru="1час"
                    DESCR="Averaging at hour"
                    DESCR_uk="Усереднення за годину"
                    DESCR_ru="Усреднение за час"
                    START="1"
                    ADDR="ARCHIVES/VAL/1h/"
                    V_PER="360"
                    A_PER="60"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Archive_val"&gt;
                &lt;fld
                    ID="test1"
                    NAME="Test 1"
                    NAME_uk="Тест 1"
                    NAME_ru="Тест 1"
                    DESCR="Test 1"
                    DESCR_uk="Тест 1"
                    DESCR_ru="Тест 1"
                    START="1"
                    VTYPE="1"
                    BPER="1"
                    BSIZE="200"
                    BHGRD="1"
                    BHRES="0"
                    SrcMode="0"
                    Source=""
                    ArchS=""/&gt;
            &lt;/tbl&gt;--&gt;
        &lt;/node&gt;

        &lt;node id="sub_Protocol"&gt;
        &lt;/node&gt;

        &lt;node id="sub_UI"&gt;
            &lt;node id="mod_QTStarter"&gt;
                &lt;prm id="StartMod"&gt;QTCfg&lt;/prm&gt;
                &lt;prm id="CloseToTray"&gt;0&lt;/prm&gt;
                &lt;prm id="Style"&gt;&lt;/prm&gt;
                &lt;prm id="Palette"&gt;&lt;/prm&gt;
                &lt;prm id="StyleSheets"&gt;&lt;/prm&gt;
                &lt;tbl id="LookFeel"&gt;
                    &lt;fld NAME="Typical TDE" STYLE="" STL_SHTS=""&gt;
                        &lt;PALETTE&gt;#000000, #dddfe4, #ffffff, #ffffff, #555555, #c7c7c7, #000000, #ffffff, #000000, #ffffff, #efefef, #000000, #678db2, #ffffff, #0000ee, #52188b
#808080, #dddfe4, #ffffff, #ffffff, #555555, #c7c7c7, #c7c7c7, #ffffff, #808080, #ffffff, #efefef, #000000, #567594, #ffffff, #0000ee, #52188b
#000000, #dddfe4, #ffffff, #ffffff, #555555, #c7c7c7, #000000, #ffffff, #000000, #ffffff, #efefef, #000000, #678db2, #ffffff, #0000ee, #52188b&lt;/PALETTE&gt;
                    &lt;/fld&gt;
                    &lt;fld NAME="Blue Slate" STYLE="" STL_SHTS=""&gt;
                        &lt;PALETTE&gt;#000000, #9db9c8, #f6fcff, #c9dae3, #4e5c64, #697b85, #000000, #bfe2f4, #000000, #c3c3c3, #9db9c8, #000000, #558097, #ffffff, #0000ee, #52188b, #b4b4b4, #000000, #ffffdc, #000000
#808080, #9db9c8, #f6fcff, #b5d5e6, #4e5c64, #697b85, #808080, #bfe2f4, #808080, #c3c3c3, #9db9c8, #000000, #558097, #808080, #0000ee, #52188b, #b4b4b4, #000000, #ffffdc, #000000
#000000, #9db9c8, #f6fcff, #b5d5e6, #4e5c64, #697b85, #000000, #bfe2f4, #000000, #c3c3c3, #9db9c8, #000000, #558097, #ffffff, #0000ee, #52188b, #b4b4b4, #000000, #ffffdc, #000000&lt;/PALETTE&gt;
                    &lt;/fld&gt;
                    &lt;fld NAME="Blue Darkness" STYLE="" STL_SHTS=""&gt;
                        &lt;PALETTE&gt;#ffffff, #426794, #5788c3, #4871a2, #162231, #37567b, #dcdcdc, #5788c3, #ffffff, #002a4e, #426794, #000000, #5cb3ff, #000000, #00ffff, #c0c0ff
#555555, #426794, #5788c3, #4871a2, #162231, #37567b, #37567b, #5788c3, #555555, #002a4e, #426794, #000000, #4c95d4, #ffffff, #00ffff, #c0c0ff
#ffffff, #426794, #5788c3, #4871a2, #162231, #37567b, #dcdcdc, #5788c3, #ffffff, #002a4e, #426794, #000000, #5cb3ff, #000000, #00ffff, #c0c0ff&lt;/PALETTE&gt;
                    &lt;/fld&gt;
                &lt;/tbl&gt;
            &lt;/node&gt;
            &lt;node id="mod_QTCfg"&gt;
                &lt;prm id="StartUser"&gt;roman&lt;/prm&gt;
            &lt;/node&gt;
            &lt;node id="mod_Vision"&gt;
                &lt;prm id="StartUser"&gt;roman&lt;/prm&gt;
            &lt;/node&gt;
            &lt;node id="mod_WebCfg"&gt;
                &lt;prm id="SessTimeLife"&gt;20&lt;/prm&gt;
            &lt;/node&gt;
            &lt;node id="mod_VCAEngine"&gt;
                &lt;!--
                &lt;tbl id="LIB"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR=""
                        DB_TBL="wlib_test2" ICO="" USER="root" GRP="UI" PERMIT="436"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="wlib_test2"&gt;
                    &lt;fld ID="test2" ICO="" PARENT="/wlb_originals/wdg_Box" PROC="" PROC_PER="-1"
                        USER="root" GRP="UI" PERMIT="436"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="wlib_test2_io"&gt;
                    &lt;fld IDW="test2" ID="name" IO_VAL="Test 2" IO_VAL_uk="Тест 2" IO_VAL_ru="Тест 2" SELF_FLG="" CFG_TMPL="" CFG_VAL=""/&gt;
                    &lt;fld IDW="test2" ID="dscr" IO_VAL="Test of the module 2" IO_VAL_uk="Тест модуля 2" IO_VAL_ru="Тест модуля 2" SELF_FLG="" CFG_TMPL="" CFG_VAL=""/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="PRJ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_uk="Тест 2" NAME_ru="Тест 2" DESCR="" DB_TBL="prj_test2" ICO="" USER="root" GRP="UI" PERMIT="436"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="prj_test2"&gt;
                    &lt;fld OWNER="/test2" ID="pg1" ICO="" PARENT="/wlb_originals/wdg_Box" PROC="" PROC_PER="-1" USER="root" GRP="UI" PERMIT="436" FLGS="1"/&gt;
                    &lt;fld OWNER="/test2/pg1" ID="pg2" ICO="" PARENT="/wlb_originals/wdg_Box" PROC="" PROC_PER="-1" USER="root" GRP="UI" PERMIT="436" FLGS="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="prj_test2_incl"&gt;
                    &lt;fld IDW="/prj_test2/pg_pg1" ID="wdg1" PARENT="/wlb_originals/wdg_Box"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;
        &lt;/node&gt;

        &lt;node id="sub_Special"&gt;
            &lt;node id="mod_SystemTests"&gt;
                &lt;prm id="Param" on="0" per="5" name="LogicLev.experiment.F3" /&gt;
                &lt;prm id="XML" on="0" per="10" file="/etc/oscada.xml" /&gt;
                &lt;prm id="Mess" on="0" per="10" arhtor="DBArch.test3" depth="10" /&gt;
                &lt;prm id="SOAttach" on="0" per="20" name="../../lib/openscada/daq_LogicLev.so" mode="0" full="1" /&gt;
                &lt;prm id="Val" on="0" per="1" name="LogicLev.experiment.F3.var" arch_len="5" arch_per="1000000" /&gt;
                &lt;prm id="Val" on="0" per="1" name="System.AutoDA.CPULoad.load" arch_len="10" arch_per="1000000" /&gt;
                &lt;prm id="DB" on="0" per="10" type="MySQL" addr="server.diya.org;roman;123456;oscadaTest" table="test" size="1000" /&gt;
                &lt;prm id="DB" on="0" per="10" type="DBF" addr="./DATA/DBF" table="test.dbf" size="1000" /&gt;
                &lt;prm id="DB" on="0" per="10" type="SQLite" addr="./DATA/test.db" table="test" size="1000" /&gt;
                &lt;prm id="DB" on="0" per="10" type="FireBird" addr="server.diya.org:/var/tmp/test.fdb;roman;123456" table="test" size="1000" /&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="TCP:127.0.0.1:10001" type="Sockets" req="time" /&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="UDP:127.0.0.1:10001" type="Sockets" req="time" /&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="UNIX:./oscada" type="Sockets" req="time" /&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="UDP:127.0.0.1:daytime" type="Sockets" req="time" /&gt;
                &lt;prm id="SysContrLang" on="0" per="10" path="/Archive/FSArch/mess_StatErrors/%2fprm%2fst" /&gt;
                &lt;prm id="ValBuf" on="0" per="5" /&gt;
                &lt;prm id="Archive" on="0" per="30" arch="test1" period="1000000" /&gt;
                &lt;prm id="Base64Code" on="0" per="10" /&gt;
            &lt;/node&gt;
        &lt;/node&gt;
  &lt;/station&gt;

&lt;/OpenSCADA&gt;
</pre>
<p>Детально рассмотрим структуру конфигурационного файла. Один конфигурационный файл может содержать конфигурацию нескольких станций в секциях <i>&lt;station id="SimulatorStation"/&gt;</i>. Атрибутом "id" указывается идентификатор станции — класс станции. Использование той или иной секции станции указывается параметром командной строки <i>--station=SimulatorStation</i>, при вызове. Секция станции непосредственно содержит параметры станции и секции подсистем. Параметры конфигурации секции записываются в виде <i>&lt;prm id="StName"&gt;AGLKS&lt;/prm&gt;</i>, где атрибутом "id" указывается идентификатор параметра, а в теле тега "prm" указывается значение параметра "AGLKS". Перечень доступных параметров и их описание для станции и всех остальных секций можно получить в консоли, посредством вызова OpenSCADA с параметром <i>--help</i>.
</p><p>Секции подсистем <i>&lt;node id="sub_DAQ" /&gt;</i> содержат: параметры подсистемы, секции модулей и секции таблиц отражения данных баз данных в конфигурационном файле. Секции модулей <i>&lt;node id="mod_DiamondBoards" /&gt;</i> содержат индивидуальные параметры модулей и секции таблиц отражения данных баз данных в конфигурационном файле.
</p><p>Секции таблиц отражения данных баз данных предназначены для размещения в конфигурационном файле записей таблиц БД для компонентов OpenSCADA. Рассмотрим таблицу входных транспортов "Transport_in" подсистемы "Транспорты" <i>&lt;node id="sub_Transport"&gt;</i> из приведенного выше примера конфигурационного файла. Таблица содержит три записи с полями: ID, MODULE, NAME, DESCRIPT, ADDR, PROT, START. После загрузки с такой секцией и вообще без БД в подсистеме "Транспорты" модуля "Sockets" появятся три входных транспорта. Форматы структур таблиц основных компонентов включены в демонстрационные конфигурационные файлы — модели технологических процессов. За деталями структур таблиц БД обращайтесь к документации соответствующих модулей или просто сохраните нужный объект в конфигурационный файл.
</p><p>Результат выполнения команды: <b>$ openscada_AGLKS --help</b>
</p>
<pre style="white-space: pre-wrap;">
***************************************************************************
********** OpenSCADA v0.9+r2535 (Linux-4.9.0-0.bpo.5-amd64). *********
***************************************************************************

===========================================================================
======================= Основные опции ====================================
===========================================================================
-h, --help              Этот текст помощи по опциям командной строки и параметрам конфигурационного файла программы.
    --projName=&lt;имя&gt;    Имя проекта OpenSCADA для переключения.
                        Для такой операции также используется переменная окружение "OSCADA_ProjName" и имя бинарной программы "openscada_{ProjName}".
    --projUserDir={дир.} Директория пользовательских проектов OpenSCADA (доступна для записи), по умолчанию "~/.openscada".
    --projLock={per}    Использовать блокирование проектов созданием файла "lock" в директории проекта и его обновление с периодом &lt;per&gt;,
                        по умолчанию включено и период обновления &lt;per&gt; составляет 60 секунд. Для отключения установить период обновления &lt;per&gt; в нуль.
    --lang=&lt;LANG&gt;       Язык станции, в виде "ru_RU.UTF-8".
    --config=&lt;файл&gt;     Конфигурационный файл станции.
    --station=&lt;ид&gt;      Идентификатор станции.
    --statName=&lt;имя&gt;    Имя станции.
    --modDir=&lt;path&gt;     Директории модулей, разделённые ';', и в конце могут содержать шаблон файлов.
    --messLev=&lt;уров&gt;    Уровень обрабатываемых сообщений (0-7).
    --log=&lt;направл.&gt;    Направление сообщений в, по битовому полю:
                          0x1 - системный логер (syslogd);
                          0x2 - стандартный выход (stdout);
                          0x4 - стандартный выход ошибок (stderr);
                          0x8 - архив сообщений.
    --consoleCharSet={CharSet} Принудительно установить кодовый набор символов консоли в &lt;CharSet&gt;, по умолчанию он системный.
    --demon, --daemon   Запуск в режиме демона.
    --pidFile=&lt;файл&gt;    файл для помещения ID процесса программы сюда.
    --noCoreDump        Предотвращать создание предсмертных дампов - не снимать это ограничение.
    --permCrtFiles={права} Права создаваемых OpenSCADA файлов, по умолчанию это 0755 (RWXRW_RW_).
-------------- Параметры станции 'AGLKS(SimulatorStation)' в конфигурационном файле ------------
StName     &lt;имя&gt;        Имя станции.
WorkDB     &lt;Тип.Имя&gt;    Рабочая БД (тип и имя).
WorkDir    &lt;path&gt;       Рабочая директория.
ModDir     &lt;path&gt;       Директории модулей, разделённые ';', и в конце могут содержать шаблон файлов.
IcoDir     &lt;path&gt;       Директория с иконками.
DocDir     &lt;path&gt;       Директория с документами.
MessLev    &lt;уровень&gt;    Уровень обрабатываемых сообщений (0-7).
SelDebCats &lt;список&gt;     Список категорий отладки, разделены ';'.
LogTarget  &lt;направл.&gt;   Направление сообщений в, по битовому полю:
                          0x1 - системный логер (syslogd);
                          0x2 - стандартный выход (stdout);
                          0x4 - стандартный выход ошибок (stderr);
                          0x8 - архив сообщений.
Lang       &lt;язык&gt;       Язык станции, в виде "ru_RU.UTF-8".
Lang2CodeBase &lt;язык&gt;    Базовый язык для перевода текстовых переменных, два символа.
MainCPUs   &lt;список&gt;     Основной перечень используемых процессоров, разделены ':'.
TaskInvPhs &lt;n&gt;          Количество фаз вызова задач, 1 для отключения фазирования.
ClockRT    &lt;0|1&gt;        Установить использование источника часов в REALTIME (иначе MONOTONIC), несколько проблематичное при модификации системных часов.
SaveAtExit &lt;0|1&gt;        Сохранять программу при выходе.
SavePeriod &lt;секунд&gt;     Период сохранения программы, 0 для отключения.
ModifCalc  &lt;0|1&gt;        Устанавливать модификацию для вычислительных объектов.
RdStLevel  &lt;уров&gt;       Уровень резервирования текущей станции.
RdTaskPer  &lt;секунд&gt;     Период вызова задачи обслуживания резервирования.
RdRestConnTm &lt;секунд&gt;   Время восстановления соединения с "мёртвой" резервной станцией.
RdStList   &lt;список&gt;     Список резервных станций, разделённых символом ';' (st1;st2).
RdPrimCmdTr &lt;0|1&gt;       Включение транзита первичных команд на резервные станции.
    Глобальные конфигурируемые лимиты:
limObjID_SZ     [*20..50] Размер ИД объектов OpenSCADA.
                ВНИМАНИЕ! Большой размер может вызвать ошибку размера ключа на БД похожих на MySQL!
                        Измените это только один раз перед использованием на БД с фиксированным типом "char({N})"!
limObjNm_SZ     [*100...200] Размер НАЗВАНИЯ объектов OpenSCADA.
                ВНИМАНИЕ! Измените это лишь один раз перед использованием на БД с фиксированным типом "char({N})"!
limArchID_SZ    [*50...90] Размер ИД объектов архива значений.
                ВНИМАНИЕ! Только увеличивайте его, иначе можете получить проблемы в Archive.FSArch!
                        Измените это лишь один раз перед использованием на БД с фиксированным типом "char({N})"!
limUserFile_SZ  [1MB...*10MB...1000MB] Ограничение на размер файлов при загрузке и обработке в пространстве пользователя
                и размер частей передачи больших файлов.
limUserIts_N    [1000...*1000000...1000000000] Ограничение на количество создаваемых элементов пользователя, вроде элементов массивов.
limCacheIts_N   [*100...100000] Ограничение на количество элементов в кеше.
limCacheIts_TM  [10...*60...1000] Ограничение на время элементов в кеше, секунд.
    Глобальные конфигурируемые параметры:
prmStrBuf_SZ    [1000...*10000...1000000] Длина строковых буферов, не строковых классов.
prmWait_DL      [0.001...*0.1...1] Время кванта циклов ожидания, секунд.
prmWait_TM      [*5...10] Стандартный размер таймаута ожидания, секунд.
prmInterf_TM    [*7...15] Время ожидания реакции интерфейса, секунд.
prmServTask_PER [1...*10...120] Период сервисной задачи, секунд.

========================= Опции подсистемы "БД" =========================
---------- Параметры секции '/sub_BD/' конфигурационного файла ----------
TblLifeTime  &lt;секунд&gt;   Время жизни открытых таблиц (по умолчанию 600 секунд).

==================== Опции подсистемы "Безопасности" ====================

====================== Опции подсистемы "Транспорты" ====================

========================== Опции модуля &lt;Transport:Sockets&gt; ==========================
------ Параметры модульной секции '/sub_Transport/mod_Sockets/' конфигурационного файла ------
OutLifeTime  &lt;секунд&gt;   Время жизни выходного транспорта (по умолчанию 0 секунд), 0 - для выключения функции.

========================== Опции модуля &lt;Transport:Serial&gt; ==========================
------ Параметры модульной секции '/sub_Transport/mod_Serial/' конфигурационного файла ------
OutLifeTime  &lt;секунд&gt;   Время жизни выходного транспорта (по умолчанию 0 секунд), 0 - для выключения функции.

========================== Опции модуля &lt;Transport:SSL&gt; ==========================
------ Параметры модульной секции '/sub_Transport/mod_SSL/' конфигурационного файла ------
OutLifeTime  &lt;секунд&gt;   Время жизни выходного транспорта (по умолчанию 0 секунд), 0 - для выключения функции.

============== Опции подсистемы "Транспортные Протоколы" ================

======================= Опции модуля &lt;Protocol:HTTP&gt; =============================
------ Параметры модульной секции '/sub_Protocol/mod_HTTP/' конфигурационного файла ------
AuthTime   &lt;мин&gt;        Время жизни сеанса аутентификации, минут (по умолчанию 10).

=================== Опции подсистемы "Сбор данных" ======================
---------- Параметры секции '/sub_DAQ/' конфигурационного файла ----------
RdRestDtTm &lt;час&gt;        Глубина восстановления данных архива из резервной станции, при включении, в часах.

==================== Опции подсистемы "Архивы-История" ======================
---------- Параметры секции '/sub_Archive/' конфигурационного файла ----------
MessBufSize   &lt;ед.&gt;     Размер буфера сообщений.
MessPeriod    &lt;секунд&gt;  Период архивирования сообщений.
ValPeriod     &lt;мсекунд&gt; Период активного архивирования значений.
ValPriority   &lt;уровень&gt; Уровень приоритета задачи активного архивирования значений.
RdRestDtOverTm &lt;дней&gt;   Глубина принудительной перезагрузки истории резерва при запуске, в днях.

======================= Опции модуля &lt;Archive:FSArch&gt; =============================
    --noArchLimit       Отключить лимит на количество файлов.
                        Используйте для режима просмотра архивов, не для работы.

===================== Опции подсистемы "Специальные" ====================

========================== Опции модуля &lt;Special:SystemTests&gt; ==========================
------ Параметры модульной секции '/sub_Special/mod_SystemTests/' конфигурационного файла ------
       *** Общие опции всех тестов ***
  id                    идентификатор теста;
  on                    флаг включения теста;
  per                   период повторения, секунд.
       *** Опции тестов ***
  1) Param      Тест DAQ параметров. Вычитывает атрибуты и конфигурационные поля параметра.
    1:name      Адрес DAQ параметра
  2) XML        Тест разбора файла XML. Разбирает и отображает структуру указанного файла.
    1:file      XML файл
  3) Mess       Тест архива сообщений. Периодически вычитывает новые сообщения из архива, для указанного архиватора.
    1:arhtor    Архиватор
    2:categ     Шаблон категории сообщения
    3:depth     Глубина сообщения, секунд
  4) SOAttach   Тест подключения/отключения модулей.
    1:name      Путь к модулю
    2:mode      Режим (1-подключение;-1-отключение;0-изменение)
    3:full      Полное подключение(при старте)
  5) Val        Тест значений атрибута параметра.
Выполняет периодический опрос последнего значения указанного атрибута, а также опрос архива на указанную глубину.
    1:name      Путь к атрибуту параметра
    2:arch_len  Глубина получения архивных значений, секунд
    3:arch_per  Глубина получения архивных значений, микросекунды
  6) DB Полный тест БД. Выполняет:
  - создание/открытие БД;
  - создание/открытие таблицы;
  - создание множества записей (строк) предопределённой структуры;
  - модификация множества записей;
  - получение и проверка значений множества записей;
  - модификация структуры записи и таблицы;
  - удаление записей;
  - закрытие/удаление таблицы;
  - закрытие/удаление БД.
    1:type      Тип БД
    2:addr      Адрес БД
    3:table     Таблица БД
    4:size      Количество записей
  7) TrOut      Тест выходных и/или входных транспортов.
Выполняет тестирование выходного транспорта путём отправки запроса к указанному входному транспорту.
    1:addr      Адрес
    2:type      Модуль транспорта
    3:req       Текст запиту
  8) SysContrLang       Тест языка управления программой.
Производит запрос элементов языка посредством полного пути.
Полный путь к элементу языка имеет вид &lt;/Archive/%2fbd%2fm_per&gt;.
Полный путь состоит из двух вложенных путей.
Первый &lt;/Archive/&gt; это путь к узлу дерева контроля.
Второй &lt;/bd/m_per&gt; это путь к конкретному элементу узла.
    1:path      Путь к элементу языка
  9) ValBuf     Тесты буфера значений.
Содержит 13 тестов всех аспектов буфера значений (подсистема "Архивы").
  10) Archive   Тесты размещения в архиве значений.
Содержит 7(8) тестов архиватора значений на проверку корректности функционирования последовательного механизма упаковки.
    1:arch      Архив значений
    2:period    Период значений, микросекунды
    3:archtor   Архиватор
  11) Base64Code        Тесты кодирования Mime Base64 алгоритмом.

============= Опции подсистемы "Пользовательские интерфейсы" ============

======================== Опции модуля &lt;UI:Vision&gt; ============================
------ Параметры модульной секции '/sub_UI/mod_Vision/' конфигурационного файла ------
StartUser  &lt;польз&gt;      Стартовый, беспарольный, пользователь.
UserPass   &lt;пароль&gt;     Пароль пользователя для нелокального запуска.
RunPrjs    &lt;список&gt;     Перечень запускаемых при старте проектов.
ExitLstRunPrjCls &lt;0|1&gt;  Выход при закрытии последнего исполняющегося проекта (по умолчанию = 1).
CachePgLife &lt;часы&gt;      Время жизни страниц в кеше (по умолчанию = 1).
CachePgSz  &lt;кол.&gt;       Максимальное количество страниц в кеше (по умолчанию 10).
CachePgLife &lt;часы&gt;      Время жизни страниц в кеше.
VCAstation &lt;id&gt;         Станция с движком СВУ ('.' - локальная).
RestoreTime &lt;секунды&gt;   Время восстановления подключения.

======================== Опции модуля &lt;UI:QTStarter&gt; ============================
    --QtInNotMainThread Запускать Qt в отдельном потоке от основного.
    --showWin=&lt;0,1,2&gt;   Режим отображения окон, начальный и от которого разрешён для изменения: 0-типовое окно, 1-максимизированое окно, 2-полный экран.
    --simulRightMKeyTm=&lt;tm&gt; Время, в секундах, симуляции правой клавиши мыши и контекстного меню путём удержания правой клавиши в течении этого времени - более нуля.
------ Отладочные параметры Qt, командной строки --
    --noX11             Предотвращать запуск Qt, в основном для чистой консоли.
    --sync              Переключение в синхронный режим X11 для отладки.
    --widgetcount       Печать отладочных сообщений при выходе, о количеcтве
                        виджетов оставшихся неудалёнными и максимальном их количестве.
------ Параметры Qt, командной строки -------------
    --qws               Делает данное приложение сервером с Qt для встраиваемого Linux.
    --style=&lt;имя&gt;       Установить GUI стиль в имя (windows, platinum, plastique, ...).
    --stylesheet=&lt;путь&gt; Установить таблицу стилей из файла по пути.
    --session=&lt;имя&gt;     Восстановить из предыдущего сеанса с указанным именем.
    --reverse           Установить направление размещения в Qt::RightToLeft.
    --graphicssystem=&lt;имя&gt; Установить механизм рендеринга для экранных виджетов и QPixmaps (raster, opengl).
    --display=&lt;имя&gt;     Установить X экран (типично в $DISPLAY).
    --geometry=&lt;геом&gt;   Установить клиентскую геометрию первого отображаемого окна.
------ Параметры модульной секции '/sub_UI/mod_QTStarter/' конфигурационного файла ------
StartMod   &lt;модули&gt;     Список запускаемых модулей, разделённых ';'.
CloseToTray &lt;0|1&gt;       Закрывать все окна или запускать без Qt модулей в системный лоток.
Style      &lt;имя&gt;        GUI стиль Qt.
Font       &lt;шрифт&gt;      Общий шрифт Qt.
Palette    &lt;цвета&gt;      Двадцать цветов палитры разделённые символом ',' в трёх строках для активной, отключенной и неактивной групп.
StyleSheets &lt;CSS&gt;       Правила таблиц каскадных стилей (CSS).

======================= Опции модуля &lt;UI:QTCfg&gt; =============================
------ Параметры модульной секции '/sub_UI/mod_QTCfg/' конфигурационного файла ------
StartPath  &lt;path&gt;       Путь первичной страницы конфигуратора.
StartUser  &lt;user&gt;       Стартовый пользователь, беспарольный.

======================== Опции модуля &lt;UI:WebVision&gt; ============================
------ Параметры модульной секции '/sub_UI/mod_WebVision/' конфигурационного файла ------
SessTimeLife &lt;мин&gt;      Время жизни сеансов в минутах (по умолчанию 10).
SessLimit    &lt;кол.&gt;     Максимальное количество сеансов (по умолчанию 5).
CachePgLife  &lt;часы&gt;     Время жизни страниц в кеше (по умолчанию = 1).
CachePgSz    &lt;кол.&gt;     Максимальное количество страниц в кеше (по умолчанию 10).
PNGCompLev   &lt;уров.&gt;    Уровень сжатия [-1..9] создаваемых PNG-фафлов.
ImgResize    &lt;0|1&gt;      Изменение размера растровых изображений на стороне сервера.

=================== Опции подсистемы "Планировщик модулей" ====================
    --ModPath=&lt;путь&gt;    Директории модулей, разделённые ';', и в конце могут содержать шаблон файлов.
---------- Параметры секции '/sub_ModSched/' конфигурационного файла ----------
ModPath    &lt;путь&gt;       Директории модулей, разделённые ';', и в конце могут содержать шаблон файлов.
                        Это синоним параметра уровня станции "ModDir".
ModAllow   &lt;список&gt;     Список разделяемых библиотек допустимых для автоматической загрузки, подключения и запуска (bd_DBF.so;daq_JavaLikeCalc.so).
                        Использовать значение '*' для разрешения всех модулей.
ModDeny    &lt;список&gt;     Список разделяемых библиотек запрещённых для автоматической загрузки, подключения и запуска (bd_DBF.so;daq_JavaLikeCalc.so).
ChkPer     &lt;секунд&gt;     Период поиска новых разделяемых библиотек (модулей), 0 для отключения.
</pre>
<h2><span class="mw-headline" id=".D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">5</span> <span id="Startup" title="#Startup">Запуск и исполнение</span></span></h2>
<p>OpenSCADA изначально является программой, которая может быть запущена из консоли или терминала, набрав <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada</span>. В такой способ программа запустится с сообщениями её действий в эту консоль и блокированием консоли на ожидании действий пользователя, что является типовым режимом запуска в консоль-терминал и может использоваться для оперативной отладки и контроля результата действий и ошибок. Кроме типового режима предусмотрено также ещё три режима, которые определяются передачей <a href="#CfgFilePrm">параметров в команду запуска</a>:
</p>
<ol><li> Режим получения помощи по параметрам командной строки — <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada --help</span>.</li>
<li> Режим демона — <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada --demon</span>, фонового или сервисного исполнения. Предусматривает отключение от консоли запуска и фоновое исполнение, т.е. визуально программа вроде сразу завершается, консоль освобождается и блокируются все модули локального графического интерфейсу вроде Qt. Используется для запуска и исполнения программы в режиме обслуживания сервисов вроде: сервера SCADA, среды исполнения ПЛК, сервера визуализации, сервера WEB-интерфейсов. Обычно эта команда помещается в файлы описания-формирования сервиса операционной системы и несколько готовых на данный момент поставляются вместе с OpenSCADA.</li>
<li> Режим отладки сервиса-демона — <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada --noX11</span>, по сути является обычным режимом с сообщениями о действиях в консоли, но с предотвращением запуска модулей локального графического интерфейса, что невозможно в чистой консоли и недоступным X-сервером.</li></ol>
<p>OpenSCADA является модульной и имеет модули локальных графических интерфейсов, а следовательно может запускаться в графическом интерфейсе, что производится одновременно при типовом запуске из консоли и при наличии доступного X-сервера. Для запуска исключительно в и с графического интерфейса команда типового запуска может и используется: в конфигурации иконок-ярлыков, запуска программ (также автоматического) из окружения графической среды — рабочего стола (DE). Сам модуль запуска локального графического окружения может предусматривать несколько режимов про что можно узнать из документации на этот модуль, которым сейчас является <a href="Modules/QTStarter.html" title="Special:MyLanguage/Modules/QTStarter">UI.QTStarter</a> и который предусматривает режимы:
</p>
<ul><li> основной режим исполнения проекта OpenSCADA с:
<ul><li> открытием определённых модулей Qt;</li>
<li> открытием собственного диалогового окна пускателя (Рис.5a);</li>
<li> запуском-свёртыванием в системный лоток (Рис.5b) — фактически является режимом фонового исполнения, но с доступом из графического окружения.</li></ul></li>
<li> режим инициирующего запуска (Рис.5c) — выбор проекта для переключения в основной режим исполнения проекта OpenSCADA.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:472px;"><a class="image" href="http://oscada.org/wiki/File:QTStarter_dialog_ru.png"><img class="thumbimage" height="673" src="files/QTStarter_dialog_ru.png" width="470" /></a>  <div class="thumbcaption">Рис.5a. Диалоговое окно пускателя модуля QTStarter.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:386px;"><a class="image" href="http://oscada.org/wiki/File:QTStarter_systray_ru.png"><img class="thumbimage" height="181" src="files/QTStarter_systray_ru.png" width="384" /></a>  <div class="thumbcaption">Рис.5b. Проект "АГЛКС", запущенный или свёрнутый в системный лоток.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:298px;"><a class="image" href="http://oscada.org/wiki/File:QTStarter_selectProj_ru.png"><img class="thumbimage" height="514" src="files/QTStarter_selectProj_ru.png" width="296" /></a>  <div class="thumbcaption">Рис.5c. Диалоговое окно пускателя модуля QTStarter в режиме инициирующего запуска — выбора проекта.</div></div></div></div>
<p>Простой запуск является малополезным, неудобным и предусматривает использование и работу только с одной конфигурацией, это — <a href="#Config">конфигурационный файл</a> <i>{sysconfdir}/oscada.xml</i>, как первичное хранилище конфигурации. Для предоставления возможности выбора конфигурации при запуске программы предусмотрен <a href="#CfgFilePrm">параметр командной строки <i>--config</i></a> и изменение рабочей папки программы перед запуском или <a href="#CfgFilePrm">параметром "WorkDir" этого конфигурационного файла</a>, что может быть использовано и исключительно использовалось OpenSCADA до версии 0.9 через создание отдельного сценария командной строки (Shell) для отдельной конфигурации. В версии OpenSCADA 0.9 добавлено понятие "Проекта OpenSCADA", которое сначала реализовывалось отдельным сценарием командной строки <b>openscada_start</b>, а затем было интегрировано в ядро OpenSCADA и модуль запуска локального графического интерфейса.
</p>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B5.D0.BA.D1.82.D1.8B_OpenSCADA"><span class="mw-headline-number">5.1</span> <span id="Projects" title="#Projects">Проекты OpenSCADA</span></span></h3>
<p>В OpenSCADA 0.9 бала определена, внедрена и окончательно сформирована суть проекта OpenSCADA, как отдельное место (папка) с конфигурацией и всеми данными отдельного проекта-решения SCADA-системы — объект технологического процесса, ПЛК, сервер визуализации, сервер Web и другое.
</p><p>Данные отдельного проекта-папки обычно предусматривают:
</p>
<ul><li> сам конфигурационный файл ("oscada.xml");</li>
<li> файлы БД проекта и библиотек (папка "LibsDB") в режиме полного доступа и/или ссылки на только для чтение;</li>
<li> архивы сообщений и значений на файловую систему (папка "ARCHIVES");</li>
<li> изображения и медиа-данные (папка "icons");</li>
<li> документация (папка "docs");</li>
<li> специфические файлы конфигурации, ресурсы модулей OpenSCADA и внутренних процедур проекта.</li></ul>
<p>Название папки проекта равно названию проекта и размещается в рабочей папке OpenSCADA. Рабочая папка OpenSCADA делится на системную ("{datadir}/openscada", где "datadir" обычно — "/usr/share"), которая обычному-непривилегированному пользователю доступна только для чтения, и пользовательская ("{HOME}/.openscada"), которая, при необходимости, создаётся в домашней папке пользователя. В системную рабочую папку обычно помещаются предварительно-установленные проекты и библиотеки OpenSCADA, которые устанавливаются соответствующими пакетами дистрибутива Linux. Соответственно, для обеспечения полноценной работы, проекты и библиотеки из системной рабочей папки копируются в пользовательскую, что менеджер проектов осуществляет автоматически.
</p><p>Первым механизмом реализации сущности проекта стал сценарий командной строки <b>openscada_start</b>, который всё ещё предоставляется для совместимости, предусматривает и определяет следующие функции и требования:
</p>
<dl><dd>1. Определение конфигурационного файла, папки с данными и имя по указанному названию проекта, где название проекта можно указать:
<ul><li> параметром командной строки "--ProjName={ИмяПроекта}";</li>
<li> переменной окружения "OSCADA_ProjName={ИмяПроекта}";</li>
<li> именем символьной ссылки <b>openscada_{ИмяПроекта}</b> на <b>openscada_start</b>.</li></ul></dd>
<dd>2. Запуск OpenSCADA через вызов первичного бинарного файла <b>openscada</b> и с параметрами командной строки определённого проекта.</dd>
<dd>3. Проверку корректности завершения программы и генерацию отчёта про аварийное завершение в случае наличия файла предсмертного дампа памяти в папке проекта и отладчика "gdb".</dd>
<dd>4. Проверку и предотвращение множественного запуска одного и того-же проекта, что является опасным для данных, архивов и общей стабильности работы программы.</dd>
<dd>5. Формирование диалогов выбора и создания нового проекта, если не указано нужного для запуска, в одной из программ диалогового типа: dialog, kdialog, zenity или Xdialog.</dd>
<dd>6. Создание новых проектов по шаблону конфигурации рабочей станции, что предусматривает:
<ul><li> создание папки проекта;</li>
<li> копирование шаблона конфигурационного файла "oscada_start.xml" в "oscada.xml" папки проекта;</li>
<li> создание ссылки на локальную копию папки библиотек (которая, при необходимости, копируется из зоны "Только для чтения");</li>
<li> создание папок архивов на файловую систему "ARCHIVES/MESS" для сообщений и "ARCHIVES/VAL" для значений;</li>
<li> создание на рабочем столе файла запуска проекта OpenSCADA из графического окружения (иконки-ярлыка), путём создания файла "openscada_{ИмяПроекта}.desktop" по шаблонному файлу "openscada.desktop".</li></ul></dd></dl>
<p>С целью унификации и расширения функциональности, и по опыту эксплуатации <b>openscada_start</b>, сущность проекта позже была интегрирована в ядро OpenSCADA и модуль запуска локального графического интерфейса <a href="Modules/QTStarter.html" title="Special:MyLanguage/Modules/QTStarter">UI.QTStarter</a>. Соответственно, ядро OpenSCADA, а именно первичный бинарный файл <b>openscada</b>, предусматривает определение конфигурационного файла, папки с данными и имя по указанному названию проекта и переключение на эту конфигурацию согласно пунктам 1, 2 и 4 выше-перечисленных функций менеджера проекта. Формирование элементов интерфейса для выбора и создания новых проектов, пункт 5, осуществляет модуль запуска локального графического интерфейса <a href="Modules/QTStarter.html" title="Special:MyLanguage/Modules/QTStarter">UI.QTStarter</a> (Рис.5a,5c). Пункты 3 и 6 вынесены в отдельный сценарий командной строки <b>openscada-proj</b> из-за специфичности этих операций к программной платформе, а соответственно и необходимость в простой адаптации к этой специфики.
</p><p>Соответственно, сейчас OpenSCADA можно запустить как в режиме демона-сервиса, так и графического интерфейса просто указав имя присутствующего проекта четырьмя способами:
</p>
<ol><li> параметром командной строки — <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada --projName={ИмяПроекта}</span>;</li>
<li> переменной окружения — <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">OSCADA_ProjName={ИмяПроекта} openscada</span>;</li>
<li> именем символьной ссылки — <b>openscada_{ИмяПроекта}</b> на <b>openscada</b>.</li>
<li> выбором присутствующего проекта из перечня локального графического интерфейса <a href="Modules/QTStarter.html" title="Special:MyLanguage/Modules/QTStarter">UI.QTStarter</a>, который предоставляется по простому вызову первичного бинарного файла <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada</span> — инициирующий режим (Рис.5c), и если не указаны графические модули Qt автоматического запуска — режим исполнения проекта OpenSCADA (Рис.5a).</li></ol>
<p>Создать новый проект можно из локального графического интерфейса <a href="Modules/QTStarter.html" title="Special:MyLanguage/Modules/QTStarter">UI.QTStarter</a> (Рис.5c) и через сценарий командной строки менеджера проектов <b>openscada-proj</b>, который собственно и вызывается из локального графического интерфейса.
</p><p>Результат исполнения команды <span style="border: solid gray 1px; padding: 1px; font-family: monospace; font-size: 1.2em;">openscada-proj --help</span>:
</p>
<pre style="white-space: pre-wrap;">
Projects management script of OpenSCADA mostly designed to call from OpenSCADA but also can be used independently.
The script is mostly software platform specific and relates now for Linux.
openscada-proj list
openscada-proj proc|create|remove|update {ProjName}
 Commands:
  list   - allowed projects list;
  proc   - proceed for copy RO projects to WR, create desktop links, process core dumps;
  create - create new projects or copy RO projects to WR, create desktop links;
  remove - remove project;
  update - update from 0.8.0 LTS;
 Arguments:
  ProjName - project name;
 Environments:
  dPrj     - directory of projects OpenSCADA, can be RO;
  dPrjUser - directory of projects OpenSCADA of the user, WR;
  dSysCfg  - directory of system configuration;
  dData    - directory of system data;

openscada-proj backup|backupRestore {ProjName} [{BackupName}]
openscada-proj backupList {ProjName}
 Commands:
  backup - backup the selected project &lt;ProjName&gt; to the name &lt;BackupName&gt;, or to the current date at missing;
  backupRestore - restore the selected project &lt;ProjName&gt; from the pointed backup name &lt;BackupName&gt;, or from the last one at missing;
  backupList    - list the project &lt;ProjName&gt; backups.
 Arguments:
  ProjName   - project name;
  BackupName - the backup archive name.
 Environments:
  OSCADA_TAR_ComprPrg - TAR compression program, at missing there used gzip.
  OSCADA_BackLim      - Backups limit, 10 by default
</pre>
<p>В целом сценарий командной строки менеджера проектов <b>openscada-proj</b> предусматривает функции и команды над проектами:
</p>
<ul><li> <i>list</i> — перечень присутствующих проектов;</li>
<li> <i>proc</i> — обработка на предмет: копирования RO проекта в RW, создания иконки-ярлыка на рабочем столе, генерации отчёта об аварийном завершении и т.д.;</li>
<li> <i>create</i> — создание нового проекта, дополнительно ко всем функциям <i>proc</i>;</li>
<li> <i>remove</i> — удаление существующего проекта.</li></ul>
<p>Дополнительно сценарий командной строки содержит команды менеджера резервного копирования проектов:
</p>
<ul><li> <i>backup</i> — резервное копирование выбранного проекта <i>ProjName</i> в <i>BackupName</i>, или на текущую дату при отсутствии;</li>
<li> <i>backupRestore</i> — восстановление выбранного проекта <i>ProjName</i> из резервной копии с указанным названием <i>BackupName</i>, или из последнего при отсутствии;</li>
<li> <i>backupList</i> — перечень резервных копий проекта <i>ProjName</i>.</li></ul>
<p>Резервное копирование в целом осуществляется в рабочем каталоге OpenSCADA, рядом с каталогами самих проектов для которых создаются файлы запакованных каталогов с названием <b>{ProjName}_{BackupName}.backup</b>, например — "Boiler_2020-06-24_20.09.backup". По умолчанию каталоги проектов сжимаются программой "gzip", которую можно заменить установкой переменной окружения "OSCADA_TAR_ComprPrg". Соответственно резервирование можно осуществлять из вне, например, по указанному расписанию из CRON, кроме того, что осуществлять это вручную из графического интерфейса менеджера проектов (Рис.5a).
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Резервное копирование каталога проекта с большими архивами на рабочих системах может оказаться неэффективным и очень затратным, поэтому сам каталог архивов "ARCHIVES" целесообразно выносить на отдельное большое хранилище и ссылаться на него из каталога проекта, что также целесообразно и из соображений распределения хранилища на базовое-высоконадёжное-резервное и хранилище больших архивных данных (DATA) — истории.
</p>
<h3><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.BF.D1.80.D0.BE.D0.B5.D0.BA.D1.82.D0.B0_OpenSCADA_.D0.B2_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.82.D0.B2.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B8.D1.81.D0.B0-.D1.84.D0.BE.D0.BD.D0.B5"><span class="mw-headline-number">5.2</span> <span id="Service" title="#Service">Исполнение готового проекта OpenSCADA в пространстве сервиса-фоне</span></span></h3>
<p>Организация проекта OpenSCADA в отдельном каталоге делает простым запуск готовых проектов в пространстве сервиса — исполнение в фоне, а также дальнейшее обновление и сопровождение этого проекта без прямого удаленного контроля. Фактически, вы можете разрабатывать проект локально, держа его каталог в пользовательском рабочем каталоге (типично "{HOME}/.openscada"), а для запуска в пространстве сервиса только копировать или паковать, передавать на удалённое рабочее устройство и распаковывать в системный рабочий каталог (типично "/usr/share/openscada").
</p><p>Сервисное-фоновое исполнение программ в Linux обслуживается соответствующим образом сформированным сценарием-скриптом, который размещается в каталоге "/etc/ini.d" и должен быть отдельным на каждый проект OpenSCADA, который запускается в сервисном пространстве. Для упрощения и исключения необходимости заниматься созданием собственных сценариев, OpenSCADA предоставляет соответствующие для стандартных случаев-профилей и которые обычно поставляются пакетами <b>openscada-server</b> и <b>openscada-plc</b>.
</p><p>Соответственно, для запуска в пространстве сервиса скажем библиотечного проекта "АГЛКС" мы:
</p>
<ul><li> устанавливаем пакет <b>openscada-model-aglks</b> и <b>openscada-server</b>, если их ещё не установлено и это не окружение <a href="How_to_Live_disk.html" title="Special:MyLanguage/Documents/How to/Live disk">Живого Диска</a> или <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Linux Автоматизации</a> от установки этого Диска;</li>
<li> запускаем проект "АГЛКС", для получения его каталога в пользовательском рабочем каталоге;</li>
<li> копируем каталог проекта "АГЛКС" в системный рабочий каталог с переименованием в "server", предварительно остановив фоновое исполнение проекта "server" и удалив его каталог проекта; например следующим образом из консоли:</li></ul>
<pre style="white-space: pre-wrap; margin-left: 30pt">
# Подключиться от суперпользователя
$ su -
# ... для живого диска и некоторых других окружений Linux
$ sudo bash
# Остановить исполнение предыдущей конфигурации сервера и удалить его каталог
$ service openscada-server stop; rm -R /usr/share/openscada/server
# Скопировать проект "АГЛКС" из домашнего каталога пользователя "{HOME}" с переименованием в "server"
$ cp -R {HOME}/.openscada/AGLKS /usr/share/openscada/server 
# Запустить сервер уже с проектом "АГЛКС"
$ service openscada-server start
</pre>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Отметьте, что локально вы можете не копировать каталог проекта целком, а только сделать на него символическую ссылку, но вы получите риск двойного исполнения проекта на общий каталог и данные, что приводит к аварийному завершению одного исполнения или их обоих!
</p><p>Отличие исполнения проекта в среде сервиса-фона от пользовательской среды рабочего стола собственно одно, естественно кроме отсутствия локального графического интерфейса, это — отсутствие в фоне определения локали, т.е. язык интерфейса там будет Английский. И что можно просто исправить сменой или добавлением <a href="#CfgFilePrm">конфигурационного параметра</a> <b>&lt;prm id="Lang"&gt;ru_RU.UTF-8&lt;/prm&gt;</b> в секции-теге "station" файла <b>oscada.xml</b> фонового проекта.
</p><p><br />
</p>
<h2><span class="mw-headline" id=".D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"><span class="mw-headline-number">6</span> Ссылки</span></h2>
<ul><li> <a class="external" href="http://oscada.org/wiki/File:Oscada_struct_ru.odg" title="File:Oscada struct ru.odg">Диаграмма: Блочная схема OpenSCADA.</a></li>
<li> <a class="external" href="http://oscada.org/wiki/File:Oscada_subsys_daq_str_ru.odg" title="File:Oscada subsys daq str ru.odg">Диаграмма: Иерархическая структура подсистемы "Сбор данных".</a></li>
<li> <a class="external" href="http://oscada.org/wiki/File:Oscada_subsys_db_str_ru.odg" title="File:Oscada subsys db str ru.odg">Диаграмма: Иерархическая структура подсистемы "БД".</a></li>
<li> <a class="external" href="http://oscada.org/wiki/File:Oscada_subsys_arch_str_ru.odg" title="File:Oscada subsys arch str ru.odg">Диаграмма: Иерархическая структура подсистемы "Архивы".</a></li>
<li> <a class="external" href="http://oscada.org/wiki/File:Oscada_subsys_tr_str_ru.odg" title="File:Oscada subsys tr str ru.odg">Диаграмма: Иерархическая структура подсистемы "Транспорты" и "Протоколы".</a></li>
<li> <a class="external" href="http://oscada.org/wiki/File:Scada_ru.odg" title="File:Scada ru.odg">Диаграмма: Иерархическая SCADA-система.</a></li>
<li> <a class="external" href="http://oscada.org/wiki/File:Oscada_use_set_ru.odg" title="File:Oscada use set ru.odg">Диаграмма: Набор использования OpenSCADA.</a></li></ul>






</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Documents/Program_manual/ru">Documents/Program_manual/ru</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">January 2022</td><td style="text-align: right;" width="40%">OpenSCADA 1+r2794</td></tr></table></body>
</html>