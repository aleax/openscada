<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<title>Модули/BFN - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../files/doc.css" rel="stylesheet" /></head>
<body><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="ru">Модули/BFN</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="ru"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a class="external text" href="http://oscada.org/wiki/index.php?title=Special:Translate&amp;group=page-Modules%2FBFN&amp;action=page&amp;filter=&amp;language=ru" rel="nofollow noreferrer noopener" target="_blank">translated version</a></span> of the page <a class="external" href="http://oscada.org/wiki/Modules/BFN" title="Modules/BFN">Modules/BFN</a> and the translation is 100% complete.</div><hr /><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" href="http://oscada.org/wiki/Modules/BFN" title="Modules/BFN (100% translated)">English</a>&nbsp;• ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">российский</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--stub" href="http://oscada.org/wiki/Modules/BFN/uk" title="Модулі/BFN (17% translated)">українська</a></div></div>
<div class="noprint" style="float:right; border:1px solid gray; width:300px; background-color:ivory; padding:2px;">
<table cellspacing="0">
<tr>
<td> <a class="image" href="http://oscada.org/wiki/File:Constr.png"><img alt="Constr.png" height="32" src="../files/Constr.png" width="32" /></a>
</td>
<td style="padding-left:5px;"> The translation checking and actualizing
</td></tr></table>
</div>
<table class="wikitable">

<tr>
<th> Модуль </th>
<th> Имя </th>
<th> Версия </th>
<th> Лицензия </th>
<th> Источник </th>
<th> Языки </th>
<th> Платформы </th>
<th> Тип </th>
<th> Автор </th>
<th> Описание
</th></tr>

<tr>
<td> <a href="../Modules/BFN.html" title="Special:MyLanguage/Modules/BFN">BFN</a> </td>
<td> Модуль BFN </td>
<td> 0.6 </td>
<td> GPL2 </td>
<td> daq_BFN.so </td>
<td> en,uk,ru,de </td>
<td> x86,x86_64,ARM
</td>
<td> DAQ </td>
<td> Роман Савоченко </td>
<td> Поддержка Big Farm Net (BFN) модулей для Viper CT/BAS и других от "Big Dutchman" (<a class="external free" href="http://www.bigdutchman.com" rel="nofollow noreferrer noopener" target="_blank">http://www.bigdutchman.com</a>).<br />Финансирование: <a class="external text" href="http://www.yarbroiler.ru" rel="nofollow noreferrer noopener" target="_blank">ОАО "Ярославский бройлер"</a>
</td></tr></table>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9A.D0.BE.D0.BD.D1.82.D1.80.D0.BE.D0.BB.D0.BB.D0.B5.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"><span class="tocnumber">1</span> <span class="toctext">Контроллер данных</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B"><span class="tocnumber">2</span> <span class="toctext">Параметры</span></a></li>
</ul>
</div>

<p>Данный модуль написан для получения текущих данных и нарушений модуля концентрации информации BFN(BigFarmNet) автоматики птицеводства фирмы "Big Dutchman" (<a class="external free" href="http://www.bigdutchman.com" rel="nofollow noreferrer noopener" target="_blank">http://www.bigdutchman.com</a> ). К одному модулю концентрации информации BFN может быть подключено несколько контроллеров помещений птичников, например, Viper CT/BAS — компьютер по контролю за микроклиматом и производственными процессами, сконструированный по модульному принципу; предназначен для поддержания оптимального микроклимата и производственной эффективности в птичнике.
</p><p>Опрос модуля BFN осуществляется по протоколу SOAP/XML, в процессе которого могут быть получены сразу все доступные данные компьютера одного помещения. В результате этого и подключения к одному модулю BFN нескольких компьютеров помещений общее время запроса мгновенных данных может достигать 30 (тридцати) секунд!
</p><p>Данные и нарушения передаются в виде кодов сигналов и нарушений, следовательно для их преобразования в текстовые сообщения необходимы таблицы соответствия. Формирование таблицы кодов сигналов и нарушений предоставляется данным модулем на уровне объекта модуля и во вкладке "Символы" (рис.1). При использовании во многоязычных проектах данные таблицы могут формироваться отдельно для каждого языка.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:810px;"><a class="image" href="http://oscada.org/wiki/File:BFN_symb.png"><img class="thumbimage" height="629" src="../files/BFN_symb.png" width="808" /></a>  <div class="thumbcaption">Рис.1. Вкладка конфигурации символов сигналов и нарушений.</div></div></div></div>
<h2><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.82.D1.80.D0.BE.D0.BB.D0.BB.D0.B5.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"><span class="mw-headline-number">1</span> Контроллер данных</span></h2>
<p>Для добавления источника данных создаётся и конфигурируется контроллер в системе OpenSCADA. Пример вкладки конфигурации контроллера данного типа изображен на рисунке 2.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:744px;"><a class="image" href="http://oscada.org/wiki/File:BFN_tr_cntr_ru.png"><img class="thumbimage" height="681" src="../files/BFN_tr_cntr_ru.png" width="742" /></a>  <div class="thumbcaption">Рис.2. Вкладка конфигурации объекта контроллера.</div></div></div></div>
<p>С помощью этой вкладки можно установить:
</p>
<ul><li> Состояние контроллера, а именно: статус: "Включен", Запущен" и имя БД, содержащей конфигурацию.</li>
<li> Идентификатор, имя и описание контроллера.</li>
<li> Состояние, в которое переводить контроллер при загрузке: "Включен" и "Запущен".</li>
<li> Политика планирования и приоритет задачи сбора данных.</li>
<li> Период синхронизации конфигурации.</li>
<li> Адрес транспорта, посредством которого осуществляется доступ к модулю BFN. Обычно используются TCP-сокеты модуля транспортов "<a href="../Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">Сокеты</a>"</li>
<li> Пользователь и пароль подключения к модулю BFN.</li></ul>
<h2><span class="mw-headline" id=".D0.9F.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B"><span class="mw-headline-number">2</span> Параметры</span></h2>
<p>Модуль не предоставляет возможности создания параметров вручную, все параметры создаются автоматически с учётом перечня подключенных контроллеров помещений к модулю BFN. Фактически, один параметр — это один контроллер помещения и все его данные представляются атрибутами параметра. Один контроллер компьютера помещения содержит порядка 250 параметров, а некоторые вплоть до 500. В результате общий информационный объем одного BFN может достигать 2000 сигналов! Пример вкладки "Атрибуты" параметра компьютера помещения птичника приведен на рисунке 3.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:839px;"><a class="image" href="http://oscada.org/wiki/File:BFN_tr_prm_a.png"><img class="thumbimage" height="760" src="../files/BFN_tr_prm_a.png" width="837" /></a>  <div class="thumbcaption">Рис.3. Вкладка "Атрибуты" параметра компьютера помещения.</div></div></div></div>
<p>Полученные нарушения по компьютеру птичника помещаются в перечень нарушений и архив сообщений с:
</p>
<ul><li> Категорией: <b>alBFN:{cntrId}:{house}:{nodeCode}:{alarmId}</b>, где:
<ul><li> <i>cntrId</i> — идентификатор контроллера;</li>
<li> <i>house</i> — идентификатор помещения или объекта параметра;</li>
<li> <i>nodeCode</i> — код узла-сигнала по которому сформировано нарушение;</li>
<li> <i>alarmId</i> — идентификатор нарушения.</li></ul></li>
<li> Именем: <b>{HouseName} &gt; {NodeName}&nbsp;: {AlarmMess}</b>, где:
<ul><li> <i>HouseName</i> — имя помещения;</li>
<li> <i>NodeName</i> — имя помещения или объекта параметра;</li>
<li> <i>AlarmMess</i> — сообщение нарушения.</li></ul></li>
<li> Уровнем нарушения: -4(Error) — нарушение; 1(Info) — норма.</li></ul>






</div></body>
</html>