<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Документы/Как сделать/Собрать из исходных текстов - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../en/files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="http://oscada.org"><img alt="OpenSCADA" src="../en/files/Logo-big.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="ru">Документы/Как сделать/Собрать из исходных текстов</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="ru"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a class="external text" href="http://oscada.org/wiki/index.php?title=Special:Translate&amp;group=page-Documents%2FHow+to%2FBuild+from+source&amp;action=page&amp;filter=&amp;language=ru" rel="nofollow noreferrer noopener" target="_blank">translated version</a></span> of the page <a class="external" href="http://oscada.org/wiki/Documents/How_to/Build_from_source" title="Documents/How to/Build from source">Documents/How to/Build from source</a> and the translation is 97% complete.</div><hr /><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" href="../en/How_to_Build_from_source.html" title="Documents/How to/Build from source (100% translated)">English</a>&nbsp;• ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">российский</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../uk/How_to_Build_from_source.html" title="Документи/Як зробити/Скласти з вихідних текстів (97% translated)">українська</a></div></div>
<div style="float:right; border:1px solid gray; width:300px; padding:2px; margin-left: 10pt; margin-bottom: 10pt;">
<ul><li> <b>Author:</b> <a class="external" href="http://oscada.org/wiki/User:RomanSavochenko" title="User:RomanSavochenko">Roman Savochenko</a>, <a class="external text" href="http://oscada.org/en/forum/user/IrmIngeneer/" rel="nofollow noreferrer noopener" target="_blank">Constantine</a> </li></ul>
</div>
<p>Данное руководство призвано помочь в сборке OpenSCADA из исходных текстов. По мере накопления опыта сборки OpenSCADA на различных дистрибутивах ОС Linux и других платформах вообще, документ будет дополняться особенностями и деталями сборки в различных окружениях.
</p><p>На последних версиях OpenSCADA, предварительная настройка собранной программы не нужна, в случае использования при сборке пакета с ресурсами "openscada-res" или дерева исходных текстов из репозитория SVN, даже после прямой сборки. Поэтому сразу после сборки и установки программа готова к использованию!
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../en/files/At.png" width="22" /></a> Для сборки OpenSCADA из исходных текстов требуется опыт сборки свободного ПО, а также базовые знания в ОС Linux и используемого дистрибутива Linux, что позволит корректно удовлетворять зависимости и решать возможные проблемы сборки.
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_OpenSCADA_.D0.B4.D0.BB.D1.8F_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B8"><span class="tocnumber">1</span> <span class="toctext">Конфигурация OpenSCADA для сборки</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.9F.D1.80.D1.8F.D0.BC.D0.B0.D1.8F_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_OpenSCADA"><span class="tocnumber">2</span> <span class="toctext">Прямая сборка OpenSCADA</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2_OpenSCADA_.D0.B4.D0.BB.D1.8F_.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D0.B0_Linux"><span class="tocnumber">3</span> <span class="toctext">Сборка пакетов OpenSCADA для дистрибутива Linux</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.D0.94.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D1.8B_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BD.D0.B0_RedHat_.E2.80.94_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B_RPM"><span class="tocnumber">3.1</span> <span class="toctext">Дистрибутивы основанный на RedHat — пакеты RPM</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.D0.94.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D1.8B_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BD.D0.B0_Debian_.E2.80.94_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B_DEB"><span class="tocnumber">3.2</span> <span class="toctext">Дистрибутивы основанный на Debian — пакеты DEB</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Gentoo_.E2.80.94_.D0.BC.D0.B5.D1.82.D0.B0.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2"><span class="tocnumber">3.3</span> <span class="toctext">Gentoo — метадистрибутив</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.D0.9B.D0.B5.D0.B3.D0.BA.D0.BE.D0.B2.D0.B5.D1.81.D0.BD.D0.B0.D1.8F_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0.D0.BC.D0.B8_.E2.80.94_IPKG_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B"><span class="tocnumber">3.4</span> <span class="toctext">Легковесная система управления пакетами — IPKG пакеты</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#.D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.B4.D0.BB.D1.8F_Android_.E2.80.94_APK_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B"><span class="tocnumber">4</span> <span class="toctext">Сборка для Android — APK пакеты</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_OpenSCADA_.D0.B4.D0.BB.D1.8F_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B8"><span class="mw-headline-number">1</span> Конфигурация OpenSCADA для сборки</span></h2>
<p>Проектом OpenSCADA, в качестве сборочной системы, используется набор утилит <a class="external text" href="http://ru.wikipedia.org/wiki/Autotools" rel="nofollow noreferrer noopener" target="_blank">AutoTools</a>. Любой сборке проекта под управлением "AutoTools" предшествует стадия конфигурации, а иногда и формирования сборочной системы, под окружение ОС. Стадия конфигурации, как и непосредственно сборка, осуществляется всегда и не зависит от того производится это прямая сборка или сборка пакета.
</p><p>Для формирования сборочной системы должны быть установлены утилиты "AutoTools": "autoconf", "automake" и "libtool". Общее формирование можно произвести командой <b>$ autoreconf -if</b>. Ранее сформированная сборочная система иногда может потребовать переформирования, например, в случае значительного различия окружения ОС, в котором сборочная система формировалась, и текущей! Переформирование сборочной системы также осуществляется ранее указанной командой формирования.
</p><p>Конфигурация сборочной системы осуществляется вызовом команды <b>$ configure</b>. Посредством указания аргументов к этой команде можно включить-выключить функцию или модуль OpenSCADA. Получить весь список доступных параметров конфигурации и модулей OpenSCADA можно указав аргумент <b>--help</b>.
</p><p>Включение и выключение модулей OpenSCADA осуществляется передачей аргументов <b>--enable-{ModName}</b> и <b>--disable-{ModName}</b>. Для выбора модулей можно указать политику "Включить все модули" <b>--enable-AllModuls</b> или "Выключить все модули" <b>--disable-AllModuls</b>, а далее включать-выключать отдельные модули, в зависимости от того что будет проще. Большинство модулей OpenSCADA можно влинковывать(встраивать) прямо в библиотеку ядра OpenSCADA, а не собирать отдельной библиотекой, для чего нужно указать аргумент <b>--enable-{ModName}=incl</b>.
</p><p>По окончанию конфигурации будет сформирован сводный результат настроек, с помощью которого можно проверить желаемую конфигурацию.
</p><p>Перед сборкой нужно определиться с источником исходных текстов, <a class="external text" href="http://oscada.org/ru/glavnaja/zagruzit/" rel="nofollow noreferrer noopener" target="_blank">ftp/http-сервер или SVN-репозиторий</a>, и ветвью OpenSCADA, которую Вы будете собирать. Поскольку LTS ветвь автоматически собирается для многих дистрибутивов Linux, редко обновляется и её версия меняется с выпуском новой LTS, то в этом руководстве рассмотрим сборку рабочей ветви (Work) которая, в свою очередь, автоматически собирается для ограниченного круга Linux дистрибутивов, часто меняется и её адрес всегда одинаков. Сборка LTS ветви, как правило, осуществляется также и в инструкции нужно "Work" заменить на версию LTS, а также изменить название пакета исходных текстов. В целом, к названиям пакетов и каталогов нужно относиться внимательно поскольку они, версия от версии, могут отличаться!
</p>
<h2><span class="mw-headline" id=".D0.9F.D1.80.D1.8F.D0.BC.D0.B0.D1.8F_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_OpenSCADA"><span class="mw-headline-number">2</span> Прямая сборка OpenSCADA</span></h2>
<p>Сборка должна производится от имени обычного пользователя, хотя для изолированных окружений может и от суперпользователя. При этом будут рассмотрены варианты установки и исполнения как глобально — в систему, так и локально — в директории пользователя. Принимаем логин (учётную запись) пользователя — "user".
</p><p>Входим как обычный пользователь и заменяем учётную запись "user" на Вашу, определяемся со способом установки (глобальный или локальный) и следуем инструкции:
</p><p>Этапы подготовки дерева исходных текстов к сборке:
</p>
<dl><dd>1. Создание директории для сборки проекта:
<dl><dd>$ mkdir ~/projects; cd ~/projects</dd></dl></dd>
<dd>2. Загрузка пакета с исходными текстами. Может быть произведена двумя способами:
<ul><li> загрузка тарбола исходных текстов и ресурсов с ftp/http-сервера проекта <a class="external free" href="http://ftp.oscada.org/OpenSCADA" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA</a> и распаковка, например так: </li></ul>
<dl><dd>$ wget <a class="external free" href="http://ftp.oscada.org/OpenSCADA/Work/openscada-0.9+r2537.tar.xz" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/Work/openscada-0.9+r2537.tar.xz</a></dd>
<dd>$ wget <a class="external free" href="http://ftp.oscada.org/OpenSCADA/Work/openscada-res-0.9+r2537.tar.xz" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/Work/openscada-res-0.9+r2537.tar.xz</a></dd>
<dd>$ tar -xvf openscada-0.9+r2537.tar.xz</dd>
<dd>$ cd openscada-0.9+r2537</dd>
<dd>$ tar -xvf ../openscada-res-0.9+r2537.tar.xz</dd></dl>
<ul><li> получение дерева исходных текстов из SVN-репозитория проекта:</li></ul>
<dl><dd>$ svn co <a class="external free" href="http://oscada.org/svn/trunk/OpenSCADA/" rel="nofollow noreferrer noopener" target="_blank">http://oscada.org/svn/trunk/OpenSCADA/</a></dd>
<dd>$ cd OpenSCADA</dd></dl></dd>
<dd>3. Удовлетворение зависимостей проекта OpenSCADA для сборки, в соответствии с <a href="Functions_and_demands.html#Building" title="Special:MyLanguage/Functions and demands">требованиями</a>.</dd>
<dd>4. Генерация сборочной системы, при загрузке из SVN-репозитория:
<dl><dd>$ autoreconf -if</dd></dl></dd></dl>
<p>Этапы глобальной сборки:
</p>
<dl><dd>1. Конфигурация сборочный системы OpenSCADA:
<dl><dd>$ ./configure</dd></dl></dd>
<dd>2. Сборка OpenSCADA:
<dl><dd>$ make</dd></dl></dd>
<dd>3. Установка OpenSCADA:
<dl><dd>$ su; make install</dd></dl></dd>
<dd>4. Программа готова к запуску:
<dl><dd>$ exit; openscada</dd></dl></dd></dl>
<p>Этапы локальной сборки:
</p>
<dl><dd>1. Конфигурация сборочный системы OpenSCADA:
<dl><dd>$ mkdir ~/OScadaW; ./configure --prefix=/home/user/OScadaW</dd></dl></dd>
<dd>2. Сборка OpenSCADA:
<dl><dd>$ make</dd></dl></dd>
<dd>3. Установка OpenSCADA:
<dl><dd>$ make install</dd></dl></dd>
<dd>4. Программа готова к запуску:
<dl><dd>$ cd ~/OScadaW/bin; ./openscada</dd></dl></dd></dl>
<h2><span class="mw-headline" id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2_OpenSCADA_.D0.B4.D0.BB.D1.8F_.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D0.B0_Linux"><span class="mw-headline-number">3</span> Сборка пакетов OpenSCADA для дистрибутива Linux</span></h2>
<h3><span class="mw-headline" id=".D0.94.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D1.8B_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BD.D0.B0_RedHat_.E2.80.94_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B_RPM"><span class="mw-headline-number">3.1</span> Дистрибутивы основанный на RedHat — пакеты RPM</span></h3>
<p>Для сборки RPM-пакетов OpenSCADA Вам понадобятся архивы исходных текстов, ресурсов и файл спецификации RPM пакета (<a class="external text" href="http://oscada.org/svn/trunk/OpenSCADA/data/" rel="nofollow noreferrer noopener" target="_blank">openscada.spec, openscada_mod_ALT.spec, openscada_mod_RH.spec</a>) или же SRPM-пакет всех этих исходных материалов.
</p><p>Файл спецификации RPM-пакетов и SRPM-пакет могут отличаться для разных дистрибутивов Linux, учитывая их особенности, поэтому нужно стараться загружать их в соответствии с дистрибутивом. Если специальный SRPM пакет отсутствует то можно попробовать собрать из унифицированного файла спецификации (openscada.spec) в основном SRPM пакете или пакете ресурсов.
</p><p>Сборка RPM-пакетов производится в директории со специальной структурой, которая обычно создаётся при установке соответствующего пакета дистрибутива (например: rpm-build). Эта директория, в зависимости от дистрибутива, располагается в домашней директории пользователя или в директории <b>/usr/src</b>. Известные факты расположения директории сборки RPM-пакетов различных дистрибутивов:
</p>
<ul><li> <b>~/rpmbuild</b>: <a class="external text" href="https://www.redhat.com" rel="nofollow noreferrer noopener" target="_blank">RedHat</a>, <a class="external text" href="https://www.centos.org/" rel="nofollow noreferrer noopener" target="_blank">CentOS</a>, Mandriva, <a class="external text" href="http://fedoraproject.org" rel="nofollow noreferrer noopener" target="_blank">Fedora</a></li>
<li> <b>/usr/src/packages</b>: <a class="external text" href="https://www.opensuse.org/" rel="nofollow noreferrer noopener" target="_blank">Open-SUSE</a></li>
<li> <b>~/RPM</b>: <a class="external text" href="http://altlinux.com" rel="nofollow noreferrer noopener" target="_blank">ALTLinux</a></li></ul>
<p>Если после установки специализированного пакета директории создания RPM пакетов нет то её нужно создать командой:
</p>
<dl><dd>$ install -m 755 -d <u>Директория дистрибутива</u>/{SPECS,SOURCES}</dd></dl>
<p>Этапы сборки по файлу спецификации RPM:
</p>
<dl><dd>1. Размещение архивов OpenSCADA и файла спецификации в директории сборки RPM (исходные файлы предварительно помещены в текущей директории):
<dl><dd>$ cp openscada-0.9+r2537.tar.xz openscada-res-0.9+r2537.tar.xz <u>Директория дистрибутива</u>/SOURCES</dd>
<dd>$ cp openscada.spec <u>Директория дистрибутива</u>/SPECS</dd></dl></dd>
<dd>2. Удовлетворение зависимостей проекта OpenSCADA для сборки в соответствии с <a href="Functions_and_demands.html#Building" title="Special:MyLanguage/Functions and demands">требованиями</a>. Аргументы команды "configure" можно указать в файле "openscada.spec".</dd>
<dd>3. Сборка пакетов
<ul><li> сборка сначала:</li></ul>
<dl><dd>$ rpmbuild -bb <u>Директория дистрибутива</u>/SPECS/openscada.spec</dd></dl>
<ul><li> только установка и упаковка из пакета rpm-утилит etersoft (удобно при настройке openscada.spec файла):</li></ul>
<dl><dd>$ rpmbb -i <u>Директория дистрибутива</u>/SPECS/openscada.spec</dd></dl></dd>
<dd>4. Пакеты готовы и доступны в директории <b><u>Директория дистрибутива</u>/RPMS</b>  для соответствующей архитектуры.</dd></dl>
<p>Этапы сборки из SRPMS пакета:
</p>
<dl><dd>1. Удовлетворение зависимостей проекта OpenSCADA для сборки в соответствии с <a href="Functions_and_demands.html#Building" title="Special:MyLanguage/Functions and demands">требованиями</a>.</dd>
<dd>2. Сборка пакетов (исходные файлы предварительно помещены в текущей директории):
<dl><dd>$ rpmbuild --rebuild openscada-0.9+r2537.src.rpm</dd></dl></dd>
<dd>3. Пакеты готовы и доступны в директории <b><u>Директория дистрибутива</u>/RPMS</b>  для соответствующей архитектуры.</dd></dl>
<h3><span class="mw-headline" id=".D0.94.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D1.8B_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BD.D0.B0_Debian_.E2.80.94_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B_DEB"><span class="mw-headline-number">3.2</span> Дистрибутивы основанный на Debian — пакеты DEB</span></h3>
<p>Для сборки DEB-пакетов OpenSCADA Вам понадобятся архивы исходных текстов и ресурсов.
</p><p>Сборка DEB-пакетов производится в директории "debian" со скриптами сборки, которая содержится в архивах исходных текстов OpenSCADA.
</p><p>Этапы сборки:
</p>
<dl><dd>1. Создание директории для сборки программы:
<dl><dd>$ mkdir ~/build; cd ~/build</dd></dl></dd>
<dd>2. Загрузка пакета с исходными текстами. Может быть произведена двумя способами:
<ul><li> загрузка тарбола исходных текстов и ресурсов с ftp/http-сервера проекта <a class="external free" href="http://ftp.oscada.org/OpenSCADA" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA</a> и распаковка, например так: </li></ul>
<dl><dd>$ wget <a class="external free" href="http://ftp.oscada.org/OpenSCADA/Work/openscada-0.9+r2537.tar.xz" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/Work/openscada-0.9+r2537.tar.xz</a></dd>
<dd>$ wget <a class="external free" href="http://ftp.oscada.org/OpenSCADA/Work/openscada-res-0.9+r2537.tar.xz" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/Work/openscada-res-0.9+r2537.tar.xz</a></dd>
<dd>$ tar -xvf openscada-0.9+r2537.tar.xz</dd>
<dd>$ cd openscada-0.9+r2537</dd>
<dd>$ tar -xvf ../openscada-res-0.9+r2537.tar.xz</dd></dl>
<ul><li> получение дерева исходных текстов из SVN-репозитория проекта:</li></ul>
<dl><dd>$ svn co <a class="external free" href="http://oscada.org/svn/trunk/OpenSCADA/" rel="nofollow noreferrer noopener" target="_blank">http://oscada.org/svn/trunk/OpenSCADA/</a></dd>
<dd>$ cd OpenSCADA</dd></dl></dd>
<dd>3. Выбор типа сборки:
<ul><li> бинарные файлы в одном пакете:</li></ul>
<dl><dd>$ ln -s data/debian debian</dd></dl>
<ul><li> бинарные файлы модулей в отдельных пакетах:</li></ul>
<dl><dd>$ ln -s data/debian_mod debian</dd></dl></dd>
<dd>4. Удовлетворение зависимостей проекта OpenSCADA для сборки, в соответствии с <a href="Functions_and_demands.html#Building" title="Special:MyLanguage/Functions and demands">требованиями</a>. Аргументы команды "configure" можно указать в файле "debian/rules".</dd>
<dd>5. Сборка:
<ul><li> сборка сначала:</li></ul>
<dl><dd>$ dpkg-buildpackage -rfakeroot</dd></dl>
<ul><li> пропустить сборку и переупаковать, удобно при отладке "debian/rules":</li></ul>
<dl><dd>$ fakeroot debian/rules binary</dd>
<dd>$ fakeroot debian/rules build</dd></dl></dd>
<dd>6. Пакеты готовы и доступны в директории уровнем выше.</dd></dl>
<h3><span class="mw-headline" id="Gentoo_.E2.80.94_.D0.BC.D0.B5.D1.82.D0.B0.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2"><span class="mw-headline-number">3.3</span> Gentoo — метадистрибутив</span></h3>
<p>OpenSCADA не входит в официальное дерево portage Gentoo, поэтому сборка производится из оверлея. Перед сборкой самого пакета OpenSCADA, portage удовлетворит зависимости, т.е. соберет недостающие пакеты (если необходимо).
</p>
<dl><dd>1. Создание оверлея portage сводится к описанию пути для оверлейного дерева, т.е. в "/etc/make.conf" необходимо прописать строку:
<dl><dd><i>PORTDIR_OVERLAY="/usr/local/portage"</i></dd></dl></dd>
<dd>2. Создать каталог "/usr/local/portage/dev-util/openscada/", затем скачать файл архива ebuild c официального сайта и распаковать его в созданном каталоге.
<dl><dd>$ cd /usr/local/portage/dev-util/openscada</dd>
<dd>$ wget <a class="external free" href="http://ftp.oscada.org/OpenSCADA/Work/Gentoo/openscada.0.9-ebuild.tar.gz" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/Work/Gentoo/openscada.0.9-ebuild.tar.gz</a></dd>
<dd>$ tar -xzf openscada.0.9-ebuild.tar.gz</dd></dl></dd>
<dd>3. Необходимо указать portage, что OpenSCADA разрешена для сборки на Вашей платформе. Для этого надо внести следующую строку в файл "/etc/portage/package.keywords":
<dl><dd><i>dev-util/openscada</i></dd></dl></dd>
<dd>4. Проверка:</dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
$ emerge -vp openscada
These are the packages that would be merged, in order:
Calculating dependencies... done!
[ebuild   R   ~] dev-util/openscada-0.9  USE="mysql ssl -bfn -blockcalc -daqgate -dbarch -dbase -dcon -demo -diamondboards -doc (-firebird) -flibcomplex1 -flibmath -flibsys -fsarch -http -icp_das -javalikecalc -logiclev -modbus -portaudio -qtcfg -qtstarter -selfsystem -serial -simens -snmp -sockets -sqlite -system -systemtest -vcaengine -vision -webcfg -webcfgd -webvision" 79,647 kB [1]

Total: 1 package (1 reinstall), Size of downloads: 79,647 kB
Portage tree and overlays:
 [0] /usr/portage
 [1] /usr/local/portage</pre>
<dl><dd>5. Если у Ваc нет подключения к интернету, то надо загрузить тарболы исходных текстов и ресурсов с ftp/http-сервера проекта и расположить их заранее в каталоге исходников portage "/usr/portage/distfiles". Если же у Вас есть подключение к интернету, то все необходимое для сборки будет взято с сервера проекта автоматически.</dd>
<dd>6. Необходимо выставить нужные Вам USE-флаги, с которыми будет собрана OpenSCADA. Это можно сделать в файле "/etc/portage/package.use", например:
<dl><dd><i>dev-util/openscada dcon demo http javalikecalc mysql qtcfg qtstarter ssl vision webcfg webcfgd webvision blockcalc dbarch dbase doc flibcomplex1 flibmath flibsys fsarch logiclev modbus serial sockets sqlite vcaengine</i></dd></dl></dd>
<dd>7. Непосредственно сборка:
<dl><dd>$ emerge -q openscada</dd></dl></dd>
<dd>8. Файлы БД и ресурсов OpenSCADA готовы и будут размещены в каталоге "/var/spool/openscada/", исполняемые файлы — "/usr/bin/", документация — "/usr/share/doc/openscada-0.9/".</dd></dl>
<h3><span class="mw-headline" id=".D0.9B.D0.B5.D0.B3.D0.BA.D0.BE.D0.B2.D0.B5.D1.81.D0.BD.D0.B0.D1.8F_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0.D0.BC.D0.B8_.E2.80.94_IPKG_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B"><span class="mw-headline-number">3.4</span> Легковесная система управления пакетами — IPKG пакеты</span></h3>
<p>Областью применения менеджера пакетов и пакетов IPKG в основном являются встраиваемые окружения Linux с ограниченным объёмом памяти вроде роутеров беспроводных сетей. Соответственно и сборка пакетов IPKG является частью сборочных систем таких окружений, и описание этой процедуры не можно рассматривать отдельно от самой сборочной системы, поэтому на предмет создания IPKG пакетов OpenSCADA читайте в разделе "<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Embedding_and_PLC#OpenWrt" title="Special:MyLanguage/Sub-projects/Embedding and PLC">Дистрибутив OpenWRT</a>" под-проекта "<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Embedding_and_PLC" title="Special:MyLanguage/Sub-projects/Embedding and PLC">Общее встраивание OpenSCADA и программированные логические контроллеры (ПЛК)</a>".
</p>
<h2><span class="mw-headline" id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.B4.D0.BB.D1.8F_Android_.E2.80.94_APK_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B"><span class="mw-headline-number">4</span> Сборка для Android — APK пакеты</span></h2>
<p>Операционная система <a class="external text" href="https://en.wikipedia.org/wiki/Android_(operating_system)" rel="nofollow noreferrer noopener" target="_blank">Android</a> является программным окружением на основе ядра Linux, которое в основном предназначено и используется на мобильных телефонах, смартфонах, планшетах и другом оборудовании с сенсорным экраном. Стороннее программное обеспечение для Android распространяется в виде APK-пакетов, сборку которого невозможно рассмотреть в отрыве от сборочного окружения Android SDK, NDK и сборки всех зависимостей OpenSCADA, поэтому на предмет сборки OpenSCADA и создания её APK-пакетов читайте в под-проекте "<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Adaption_to_Android" title="Special:MyLanguage/Sub-projects/Adaption to Android">Адаптация OpenSCADA к платформе Android</a>".
</p>





</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Documents/How_to/Build_from_source/ru">Documents/How_to/Build_from_source/ru</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">October 2021</td><td style="text-align: right;" width="40%">OpenSCADA 1+r2777</td></tr></table></body>
</html>