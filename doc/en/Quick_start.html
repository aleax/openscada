<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Documents/Quick start - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="files/doc.css" rel="stylesheet" /></head>
<body><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="en">Documents/Quick start</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">English</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="http://oscada.org/wiki/Documents/Quick_start/ru" title="Документы/Быстрый старт (100% translated)">российский</a>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="http://oscada.org/wiki/Documents/Quick_start/uk" title="Документи/Швидкий старт (100% translated)">українська</a></div></div>
<p><i>Author:</i> <a class="external" href="http://oscada.org/wiki/User:RomanSavochenko" title="User:RomanSavochenko">Roman Savochenko</a>, Maxim Lysenko (2010-2012)<br />
<i>Video addons:</i>
</p>
<ul><li> <a class="external text" href="http://ftp.oscada.org/OpenSCADA/0.8.0/doc/ru/QuickStart.mkv" rel="nofollow noreferrer noopener" target="_blank">An official addon of OpenSCADA 0.8.0 LTS (deprecated, RU)</a>, <a class="external" href="http://oscada.org/wiki/User:RomanSavochenko" title="User:RomanSavochenko">Roman Savochenko</a>, 2012</li>
<li> <a class="external text" href="https://www.youtube.com/playlist?list=PLIE6cVnMQoAkVccU9mGMIPNYVVug-LVau" rel="nofollow noreferrer noopener" target="_blank">Video "Howtos" from Sergey Karpesh (RU)</a>, Sergey Karpesh, 2018</li></ul>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Terms.2C_definitions_and_abbreviations"><span class="tocnumber">1</span> <span class="toctext">Terms, definitions and abbreviations</span></a>
<ul>
<li class="toclevel-2"><a href="#Terms_and_definitions"><span class="tocnumber">1.1</span> <span class="toctext">Terms and definitions</span></a></li>
<li class="toclevel-2"><a href="#Used_abbreviations"><span class="tocnumber">1.2</span> <span class="toctext">Used abbreviations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-2"><a href="#OpenSCADA_installation"><span class="tocnumber">2</span> <span class="toctext"><span>OpenSCADA installation</span></span></a>
<ul>
<li class="toclevel-2"><a href="#Install_OpenSCADA_from_ready-made_packages"><span class="tocnumber">2.1</span> <span class="toctext">Install OpenSCADA from ready-made packages</span></a>
<ul>
<li class="toclevel-3"><a href="#Adding_a_package_repository_and_installing_OpenSCADA_from_it"><span class="tocnumber">2.1.1</span> <span class="toctext">Adding a package repository and installing OpenSCADA from it</span></a></li>
<li class="toclevel-3"><a href="#Manual_installation_of_the_OpenSCADA_packages"><span class="tocnumber">2.1.2</span> <span class="toctext">Manual installation of the OpenSCADA packages</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Installing-building_from_the_source_texts"><span class="tocnumber">2.2</span> <span class="toctext">Installing-building from the source texts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Initial_configuration_and_start_up"><span class="tocnumber">3</span> <span class="toctext">Initial configuration and start up</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#General_overview"><span class="tocnumber">3.1</span> <span class="toctext">General overview</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Background_and_remote_execution_.E2.80.94_server.2C_PLC_execution_environment_and_remote_development"><span class="tocnumber">3.2</span> <span class="toctext"><span>Background and remote execution — server, PLC execution environment and remote development</span></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Your_own_project_creation"><span class="tocnumber">3.3</span> <span class="toctext"><span>Your own project creation</span></span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Connecting_and_using_remote_and_background_configurations"><span class="tocnumber">3.3.1</span> <span class="toctext"><span>Connecting and using remote and background configurations</span></span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Connecting_the_standard_OpenSCADA_libraries"><span class="tocnumber">3.3.2</span> <span class="toctext">Connecting the standard OpenSCADA libraries</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Working_with_data_sources"><span class="tocnumber">4</span> <span class="toctext">Working with data sources</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Data_acquisition_from_the_TP_device"><span class="tocnumber">4.1</span> <span class="toctext">Data acquisition from the TP device</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Processing_received_data_of_the_TP"><span class="tocnumber">4.2</span> <span class="toctext"><span>Processing received data of the TP</span></span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Complex_object-tag_of_the_signal"><span class="tocnumber">4.3</span> <span class="toctext">Complex object-tag of the signal</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Getting_for_ready_data_of_OpenSCADA_.E2.80.94_gateway"><span class="tocnumber">4.4</span> <span class="toctext">Getting for ready data of OpenSCADA — gateway</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Archiving-history_of_the_TP_data"><span class="tocnumber">4.5</span> <span class="toctext">Archiving-history of the TP data</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Formation_of_the_visual_representation"><span class="tocnumber">5</span> <span class="toctext">Formation of the visual representation</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Adding_the_template_page_and_connecting_the_dynamics"><span class="tocnumber">5.1</span> <span class="toctext">Adding the template page and connecting the dynamics</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Creating_a_new_frame_.E2.80.94_mnemonic_schemes"><span class="tocnumber">5.2</span> <span class="toctext">Creating a new frame — mnemonic schemes</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Creation_a_new_complex_element"><span class="tocnumber">5.3</span> <span class="toctext">Creation a new complex element</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Creation_the_widget_.22Air_cooler.22_on_the_basis_of_the_primitive_.22Elementary_figure.22"><span class="tocnumber">5.3.1</span> <span class="toctext">Creation the widget "Air cooler" on the basis of the primitive "Elementary figure"</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Creation_a_final-combined_widget_.22Cooler.22_on_the_basis_of_the_primitive_.22Group_of_elements.22"><span class="tocnumber">5.3.2</span> <span class="toctext"><span>Creation a final-combined widget "Cooler" on the basis of the primitive "Group of elements"</span></span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Adding_the_complex_element_to_the_mnemonic_scheme"><span class="tocnumber">5.3.3</span> <span class="toctext">Adding the complex element to the mnemonic scheme</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#Conclusion"><span class="tocnumber">6</span> <span class="toctext">Conclusion</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Links"><span class="tocnumber">7</span> <span class="toctext">Links</span></a></li>
</ul>
</div>

<p>OpenSCADA is an extremely modular, flexible and multifunctional SCADA system. As a result, the first acquaintance with OpenSCADA can be quite complicated, due to the small chances of matching the previous experience of the user, or its complete absence, with the approaches of work in OpenSCADA. However, in large part, this is only the first impression, since all OpenSCADA power is in the hands of the user and from the variety of which the user may be confused, and it may require considerable effort to select the functions needed to solve its task.
</p><p>For this reason, this document was created for a clear presentation of the general concept of work in OpenSCADA. The document, on examples and in a relatively short and visual form, provides a way from installation and startup OpenSCADA up to creating user interface elements. The "<a href="FAQ.html" title="Special:MyLanguage/Documents/FAQ">Frequently Asked Questions</a>" and "<a href="How_to.html" title="Special:MyLanguage/Documents/How to">How to ...</a>" documents can be used as a targeted help in the configuration, implementation and solving typical tasks around OpenSCADA.
</p><p>The document is intended for OpenSCADA version 0.9 and greater. If you are interested in this document for earlier versions then you can get it from the documentation that goes with the packages with that version of OpenSCADA, or from <a class="external text" href="http://wiki.oscada.org/HomePageEn/Doc/QuickStart%7Cthis" rel="nofollow noreferrer noopener" target="_blank">old Wiki document</a>.
</p><p>The document does not contain a detailed description of the concept and deepening to the OpenSCADA detail, but provides links to documents that contain such information, and in the first place that is "<a href="Program_manual.html" title="Special:MyLanguage/Documents/Program manual">Program manual</a>".
</p><p>The document is built synchronously with the examples implementation connected to the demo database (DB), <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Model_AGLKS" title="Special:MyLanguage/Using/Model AGLKS">the simulator "AGLKS"</a>, as a data source — PLC. Accordingly, the user must receive the OpenSCADA distribution with this DB, as described in more detail in the part "<a href="#Installation">Installation</a>"!
</p>
<h2><span class="mw-headline" id="Terms.2C_definitions_and_abbreviations"><span class="mw-headline-number">1</span> Terms, definitions and abbreviations</span></h2>
<h3><span class="mw-headline" id="Terms_and_definitions"><span class="mw-headline-number">1.1</span> Terms and definitions</span></h3>
<ul><li> <i>Blocking</i> — a conditional border of the technological parameter value at which overcome there performs a preset algorithm for the emergency prevent. In some modes of TP (starting) according to the regulations you can be needed for the blockings disable — deblocking.</li>
<li> <i>Deblocking</i> — the process of the blockings disabling on time of TP working in modes for which the operation reserved into the regulations. The technological parameters deblocking is strictly accountable operation and it must be performed by the operative personal in an appropriate order!</li>
<li> <i>Complex parameter-tag or object-tag of the signal</i> — detailed signal of the data source as a complex parameter-tag, which for analog one usually contains:
<ul><li> signal value in the engineering-real measurement unit;</li>
<li> name of the measurement unit;</li>
<li> scale-range of the signal value physical changing - minimum and maximum borders;</li>
<li> signaling scale borders — usually the upper and lower boundaries for warning and alarms;</li>
<li> filter parameters;</li>
<li> parameters of the scale specifics, determining the authenticity, format of presentation and more.</li></ul></li>
<li> <i>Data model</i> — organization and structuring of the technological process (TP) data or other automation object in the layer of SCADA data source, protocol or PLC. By default, this means <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#DAQ" title="Special:MyLanguage/Documents/Program manual">OpenSCADA data source layer</a> with the structure "Controller object" -&gt; "Parameter, Level 1" -&gt; ... "Parameter, Level N" -&gt; "Attribute of value - signal".</li>
<li> <i>Project</i> — this term has many meanings and, depending on the context, may be implied:
<ul><li> <i>OpenSCADA project (program)</i> — free software, the documentation of which you are reading now.</li>
<li> <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#Projects" title="Special:MyLanguage/Documents/Program manual">Specified set-folder of the configuration and data</a> that are created by the user of OpenSCADA, where the configuration is stored in the configuration file (required) and one or more DB files (optionally and maybe online). For example — a demonstration project, simulator of the TP "AGLKS". That is, the author of the project is the user of the program — the engineer-developer or programmer of the SCADA system.</li>
<li> <i><a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/VCAEngine#Project" title="Special:MyLanguage/Modules/VCAEngine">VCA project</a></i> — a component of the visualization control area (VCA) created in the module <a href="Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">UI.VCAEngine</a> through <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">UI.Vision</a> and contains a set of VCA frames.</li></ul></li>
<li> <i>Qt</i> — software development tool, with which, in particular, the QTStarter (starter of OpenSCADA modules on the library Qt), QTCfg (GUI configurator of OpenSCADA) and Vision (editor and executant of the working user interfaces of VCA) modules are created. It may be encountered in the form of <i>QT</i>, which is an early entry used by OpenSCADA developers for the Qt library.</li>
<li> <i>Quietance</i> — approving process is a fact of the operative personal take its attention to the violation into the TP work. The process mostly means of take actions for the violation eliminating and pressing to the button of the alarm quieting.</li>
<li> <i>Setting of the alarm</i> — a conditional border of the technological parameter value at which overcome means as an abnormal situation. Typically there set next borders:
<ul><li> <i>Upper and bottom alarm borders</i> — borders of alarm values of the technological parameter.</li>
<li> <i>Upper and bottom warning borders</i> — borders of warning, the regulations borders, about the parameter value exit beyond the work range.</li>
<li> <i>Failure</i> — points to the parameter value out of hardware borders of the technological equipment. That is mostly features to the sensor failure, break of the channel link with the sensor or the PLC.</li></ul></li>
<li> <i>Signal (in relation to the data source)</i> — element of the data source in the form of measured, or calculated, value of the technological parameter or sensor. Represents a scalar of a discrete, integer or real type, which is often encoded, by scaling the parameter scale to the integer dimension. The signal, for identification, is often simply indexed or encoded at the address of its value on the map of the exchanging protocol, and the meaningful name appears in the SCADA data model.</li>
<li> <i>Signaling</i> — the process of notification of the operative personal about a violation of the technological process or the automation equipment work. The notification methods can be at different types of influence to the human senses for take it attention. There often provides next types of signaling:
<ul><li> <i>Light signaling</i> — that is typically performed by changing color of the graphical object (blink) for the emerging events and by setting the static alarm colors (red and yellow) for events have quietance-confirmation.</li>
<li> <i>Sound</i> — that is performed by sound signal out in moment of the event emerge. The sound signal type can be both as monotonic and the speech synth message with an information about the violation.</li></ul></li>
<li> <i>VCA frame</i> — derived visualization element, consisting of the basic elements and able to serve functions of the project page of VCA.</li>
<li> <i>VCA widget</i> — visualization element of the VCA.</li></ul>
<h3><span class="mw-headline" id="Used_abbreviations"><span class="mw-headline-number">1.2</span> Used abbreviations</span></h3>
<ul><li> API — Application Programming Interface (OpenSCADA modules) or extensions in the internal language of OpenSCADA — <a href="User_API.html" title="Special:MyLanguage/Documents/User API">User API</a>.</li>
<li> AWP — Automated Work Place. Usually it is a system unit of a computer system, a display, a mouse "manipulator", sometimes with a keyboard, and other peripheral equipment, which serves to visualize the data of the technological process, as well as the issuance of control actions on the TP.</li>
<li> DAQ — Data Acquisition.</li>
<li> DB — Database.</li>
<li> <a href="Modules/DCON.html" title="Special:MyLanguage/Modules/DCON">DCON</a> — the name of one of the communication protocols used in the industry.</li>
<li> FS — filesystem.</li>
<li> GPL — General Public License, under the conditions of which OpenSCADA may be distributed and used.</li>
<li> GUI — Graphical User Interface.</li>
<li> HMI — Human-Machine Interface.</li>
<li> HTTP — HyperText Transfer Protocol.</li>
<li> MOD — Matching to Object Device. Number of devices or PLC modules to whose being directly connected signals from sensors of the TP for followed converting from analog to digital form and back. The conversion performs with a point of following processing of the technological parameters into PLC.</li>
<li> <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a> — Modicon BUS is a serial communications protocol, in the variants RTU and ASCII, originally published by <a class="extiw" href="https://en.wikipedia.org/wiki/Programmable_logic_controller#Invention_and_early_development" title="wikipedia:Programmable logic controller">Modicon</a> in 1979 for use with its PLCs. Later it was expanded to work over TCP-IP and this variant was named ModBus/TCP.</li>
<li> PLC — Programmable Logic Controller.</li>
<li> QT — look for QT in the list of terms, it is not acronym.</li>
<li> SCADA — Supervisory Control and Data Acquisition.</li>
<li> SO — Signal Object.</li>
<li> TP — Technological Process. Whole complex of technological equipment of the technological process.</li>
<li> TUI — Terminal(Text) User Interface.</li>
<li> UI — User Interface.</li>
<li> VCA — Visual Control Area.</li></ul>
<h2><span class="mw-headline" id="OpenSCADA_installation"><span class="mw-headline-number">2</span> <span id="Installation" title="#Installation">OpenSCADA installation</span></span></h2>
<p>Installing OpenSCADA, in general, can be done in two ways. The first and simplest way is to get ready-made packages for the Linux distribution that you are using. The second is to compile OpenSCADA from the source code.
</p><p>The installation procedure is highly dependent on the Linux distribution you are using and it is not possible to describe it exhaustively in this manual. Therefore, you may need to get a deep knowledge of the mechanisms of installing the software of the selected Linux distribution from its documentation. In the event that the user does not have such knowledge, skills and preferences for a Linux distribution, it is advisable to choose it according to the availability of OpenSCADA packages and even a packages repository, which provides the simplest and most trouble free installation.
</p><p>If the user is having trouble installing not only OpenSCADA, but also the Linux distribution, then for the first time, he can use the "live" Linux distribution with installed and ready to work and studying the demonstration and full-featured OpenSCADA. If this environment of rapid availability is suited for you then you can stop on it and install it. At this time, "live" builds based on the Debian and ALTLinux (deprecated) distributions are available as hybrid CD/DVD/USB stamps, at the page: <a class="external free" href="http://oscada.org/en/main/download/" rel="nofollow noreferrer noopener" target="_blank">http://oscada.org/en/main/download/</a>. For more information, see the "How to ..." document <a href="How_to_Live_disk.html" title="Special:MyLanguage/Documents/How to/Live disk">"Live disk CD/DVD/USB"</a>.
</p>
<h3><span class="mw-headline" id="Install_OpenSCADA_from_ready-made_packages"><span class="mw-headline-number">2.1</span> Install OpenSCADA from ready-made packages</span></h3>
<p>Installing from the ready-made packages, in turn, can be done in two ways. The first one is simpler when OpenSCADA packages are already present in their <a class="external text" href="http://oscada.org/en/main/download/" rel="nofollow noreferrer noopener" target="_blank">own OpenSCADA package repositories</a> or the official, additional repositories of the used Linux distribution. Installing these packages is a matter of running a typical distribution package management program with the subsequent selection of OpenSCADA packages. In addition to simple installation, the package repository generally allows you to simply keep the operating system updated, safe and up to date! The second method involves obtaining and installing OpenSCADA packages manually.
</p><p>You can check the availability of OpenSCADA packages in the repositories of Linux distributions or OpenSCADA, as well as download OpenSCADA packages for manual installation, on the download page of <a class="external text" href="http://oscada.org/en/main/download/" rel="nofollow noreferrer noopener" target="_blank">the official OpenSCADA site</a>. Here you can also get the configuration for connecting the OpenSCADA package repositories to the package manager of your Linux distribution.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> You must download packages and connect packages repositories directly to the version of the distribution that you use, otherwise there may be unresolved dependency problems at the installation process.
</p>
<h4><span class="mw-headline" id="Adding_a_package_repository_and_installing_OpenSCADA_from_it"><span class="mw-headline-number">2.1.1</span> Adding a package repository and installing OpenSCADA from it</span></h4>
<p>Package repositories are provided by the OpenSCADA project, whose service information is usually located along with the packages themselves and is updated automatically at the building, that is, these repositories are most up-to-date and preferable. Although OpenSCADA packages can still be found in the repositories of such Linux distributions: <a class="external text" href="http://www.altlinux.ru" rel="nofollow noreferrer noopener" target="_blank">ALTLinux</a> and distributions based on the package base <a class="external text" href="http://fedoraproject.org" rel="nofollow noreferrer noopener" target="_blank">Fedora</a>, but they are there, rather will be old ones, since the packages building to the distribution repositories from the developers is not practiced right now!
</p><p>Repository addresses and configurations for the repository manager can be found on the same OpenSCADA download page (<a class="external free" href="http://oscada.org/en/main/download/" rel="nofollow noreferrer noopener" target="_blank">http://oscada.org/en/main/download/</a>) or in the examples below.
</p><p>When installing from the repository, we select only the package with the configuration of the OpenSCADA project or the model. Everything else, according to the dependencies, will be selected and installed automatically. The following packages of this kind are usually provided:
</p>
<ul><li> <b>openscada-model-aglks</b>, <b>openscada-model-boiler</b> — projects of dynamic simulators of technological processes, which together perform the function of demonstrating OpenSCADA;</li>
<li> <b>openscada-vis-station</b> — a template project of the SCADA station, usually run in a graphical interface and without a Web;</li>
<li> <b>openscada-server</b> — template project of the SCADA server, running in the background — the daemon mode;</li>
<li> <b>openscada-plc</b> — PLC template project, running in the background — the daemon mode;</li>
<li> <b>openscada</b> — typical-complete installation of OpenSCADA.</li></ul>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> In the case of <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Automation Linux distributive</a> and LTS packages, the suffix "-lts"  is added to the main package name — "openscada-lts", since the repository is one and it contains packages of both branches, Work and LTS.
</p><p>Installation-update from the repository is simple but specific to the Linux distribution, window manager or a separate program for working with repositories and packages, so we will send the reader to the appropriate documentation for the distribution or program that it uses. Here's a brief look at adding a repository and installing OpenSCADA with standard command line tools:
</p><p><b>Packages repositories based on the package manager APT (Debian, Ubuntu, ALTLinux)</b> — are added by the location of the downloaded file "openscada.list" to the /etc/apt/sources.list.d folder or by editing the /etc/apt/sources.list file by inserting one line:<br />
<i>Debian (LTS and Work, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Automation Linux repository</a>):</i> "deb <a class="external free" href="http://ftp.oscada.org/Debian/9/openscada" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/Debian/9/openscada</a> ./"<br />
<i>Ubuntu (LTS):</i> "deb <a class="external free" href="http://ftp.oscada.org/OpenSCADA/LTS/Ubuntu/18.04" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/LTS/Ubuntu/18.04</a> ./"<br />
<i>Ubuntu (Work):</i> "deb <a class="external free" href="http://ftp.oscada.org/OpenSCADA/Work/Ubuntu/18.04" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/OpenSCADA/Work/Ubuntu/18.04</a> ./"<br />
Installing:
</p>
<pre style="white-space: pre-wrap;">
$ apt-get update
$ apt-get install openscada-model-aglks
</pre>
<p><i>ALTLinux (LTS and Work, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Automation_Linux_distributive" title="Special:MyLanguage/Sub-projects/Automation Linux distributive">Automation Linux repository</a>):</i> "rpm <a class="external free" href="http://ftp.oscada.org/ALTLinux/7" rel="nofollow noreferrer noopener" target="_blank">http://ftp.oscada.org/ALTLinux/7</a> openscada main"<br />
Installing:
</p>
<pre style="white-space: pre-wrap;">
$ apt-get update
$ apt-get install openscada-Model.AGLKS
</pre>
<p>Adding the signature verification key (the authenticity) of the repository and packages in it (not necessarily and not in all repositories):
</p>
<pre style="white-space: pre-wrap;">
 $ wget -O - http://ftp.oscada.org/Misc/pkgSignKey | sudo apt-key add - </pre>
<p><b>Packages repositories based on the package manager YUM (RedHat, Fedora, CentOs)</b> — are added by uploading or creating a file /etc/yum.repos.d/openscada.repo with the contents:
</p>
<pre style="white-space: pre-wrap;">
[openscada]
name=OpenSCADA
#CentoOs (LTS)
baseurl=http://ftp.oscada.org/OpenSCADA/LTS/CentOs/7
#CentoOs (Work)
#baseurl=http://ftp.oscada.org/OpenSCADA/Work/CentOs/6
#Fedora (Work)
#baseurl=http://ftp.oscada.org/OpenSCADA/Work/Fedora/12
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=http://ftp.oscada.org/Misc/pkgSignKey
</pre>
<p>Installing:
</p>
<pre style="white-space: pre-wrap;">
$ yum install openscada-Model.AGLKS </pre>
<p><b>The packages repositories SuSE YaST</b> — are added by the command:
</p>
<pre style="white-space: pre-wrap;">
$ zypper ar -f http://ftp.oscada.org/OpenSCADA/LTS/SuSE/15 OpenSCADA</pre>
<p>Installing:
</p>
<pre style="white-space: pre-wrap;">
$ zypper in openscada-Model.AGLKS </pre>
<h4><span class="mw-headline" id="Manual_installation_of_the_OpenSCADA_packages"><span class="mw-headline-number">2.1.2</span> Manual installation of the OpenSCADA packages</span></h4>
<p>To manually install the OpenSCADA packages, you need to download them from the official site or another source. You can usually download two sets of the packages.
</p><p>The first set is represented by eleventh packages:
</p>
<ul><li> <b>openscada</b> — package with all the files needed to launch OpenSCADA in full volume, including all modules;</li>
<li> <b>openscada-server</b> — contains dependencies, a script file and a server project configuration to run OpenSCADA in the daemon-service mode;</li>
<li> <b>openscada-libdb-main</b> — the main OpenSCADA libraries for data acquisition and other, in the SQLite database;</li>
<li> <b>openscada-libdb-vca</b> — visual component libraries in the SQLite database;</li>
<li> <b>openscada-model-aglks</b> — DB and the configuration of the dynamic real-time model "AGLKS" (Demo: EN,UK,RU);</li>
<li> <b>openscada-model-boiler</b> — DB and the configuration of the dynamic real-time model "Boiler" (EN,UK,RU);</li>
<li> <b>openscada-doc-en</b> — offline documentation of OpenSCADA, English;</li>
<li> <b>openscada-doc-uk</b> — offline documentation of OpenSCADA, Ukrainian;</li>
<li> <b>openscada-doc-ru</b> — offline documentation of OpenSCADA, Russian;</li>
<li> <b>openscada-dev</b> — development package for the OpenSCADA modules separate creation;</li>
<li> <b>openscada-dbg</b> — debugging package, contains debugging binary file information for <a href="How_to_Crash_report.html" title="Special:MyLanguage/Documents/How to/Crash report">report</a> and search for errors in the program.</li></ul>
<p>The second set is represented by about fifty packages, with separate OpenSCADA modules in separate packages:
</p>
<ul><li> <b>openscada-core</b> — contains the OpenSCADA core, the basic configuration and the executable files;</li>
<li> <b>openscada-db-*</b> — modules of the subsystem "DB";</li>
<li> <b>openscada-daq-*</b> — modules of the subsystem "DAQ";</li>
<li> <b>openscada-arh-*</b> — modules of the subsystem "Archives-History";</li>
<li> <b>openscada-tr-* </b> — modules of the subsystem "Transports";</li>
<li> <b>openscada-prot-* </b> — modules of the subsystem "Transport protocols";</li>
<li> <b>openscada-ui-* </b> — modules of the subsystem "User interfaces";</li>
<li> <b>openscada-spec-* </b> — modules of the subsystem "Specials";</li>
<li> <b>openscada</b> — virtual package containing dependencies to set the default configuration of OpenSCADA;</li>
<li> <b>openscada-plc</b> — contains dependencies, a script file and a PLC project configuration to run OpenSCADA in the daemon-service mode;</li>
<li> <b>openscada-server</b> — contains dependencies, a script file and a server project configuration to run OpenSCADA in the daemon-service mode;</li>
<li> <b>openscada-vis-station</b> — virtual package containing dependencies to set the typical OpenSCADA configuration as a visual SCADA station.</li>
<li> <b>openscada-libdb-main</b> — the main OpenSCADA libraries for data acquisition and other, in the SQLite database;</li>
<li> <b>openscada-libdb-vca</b> — visual component libraries in the SQLite database;</li>
<li> <b>openscada-model-aglks</b> — DB and the configuration of the dynamic real-time model "AGLKS" (Demo: EN,UK,RU);</li>
<li> <b>openscada-model-boiler</b> — DB and the configuration of the dynamic real-time model "Boiler" (EN,UK,RU);</li>
<li> <b>openscada-doc-en</b> — offline documentation of OpenSCADA, English;</li>
<li> <b>openscada-doc-uk</b> — offline documentation of OpenSCADA, Ukrainian;</li>
<li> <b>openscada-doc-ru</b> — offline documentation of OpenSCADA, Russian;</li>
<li> <b>openscada-dev</b> — development package for the OpenSCADA modules separate creation;</li>
<li> <b>openscada-dbg</b> — debugging package, contains debugging binary file information for <a href="How_to_Crash_report.html" title="Special:MyLanguage/Documents/How to/Crash report">report</a> and search for errors in the program.</li></ul>
<p>The first set of packages is more intended for simple-manual installation, since it contains only eleven packages. The second set is intended to be located in the Linux repository and then installs them with the package manager that automatically resolves dependencies, and also allows you to install only the required OpenSCADA components, thereby optimizing the work environment.
</p><p>Manual setup of the first set of DEB packages can be done by command, having previously changed the working directory to the directory with the packages:
</p>
<pre style="white-space: pre-wrap;">
$ dpkg -i openscada-libdb.main_0.9.0-1_all.deb openscada-libdb.vca_0.9.0-1_all.deb openscada-model.aglks_0.9.0-1_all openscada_0.9.0-1_i386.deb</pre>
<p>Manual setup of the first set of RPM packages can be done by command, having previously changed the working directory to the directory with the packages:
</p>
<pre style="white-space: pre-wrap;">
$ rpm -i openscada-LibDB.Main-0.9.0-alt1.noarch.rpm openscada-LibDB.VCA-0.9.0-alt1.noarch.rpm openscada-Model.AGLKS-0.9.0-alt1.i586.rpm openscada-0.9.0-alt1.i586.rpm </pre>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> During the installation process, there may be errors related to the unsatisfactory dependencies. When manually installing from packages, they will need to be handled manually, just like installing the OpenSCADA packages, or through the Linux distribution package manager. Cases of the dependency problems can exist even when installing through the packages manager if the OpenSCADA repository is used that does not match the Linux distribution or its version, or the main package repositories of the distribution itself are not connected. In the APT packages manager, you can use the command to automatically resolve external dependencies that arose when manually installing OpenSCADA:
</p>
<pre style="white-space: pre-wrap;">
$ apt-get install -f</pre>
<h3><span class="mw-headline" id="Installing-building_from_the_source_texts"><span class="mw-headline-number">2.2</span> Installing-building from the source texts</span></h3>
<p>If there is no way to get ready-made OpenSCADA packages for the selected distribution, then only the variant of the OpenSCADA build from the source texts remains. This process is described in detail in <a href="How_to_Build_from_source.html" title="Special:MyLanguage/Documents/How to/Build from source">the manual of building OpenSCADA from the source texts</a>.
</p>
<h2><span class="mw-headline" id="Initial_configuration_and_start_up"><span class="mw-headline-number">3</span> Initial configuration and start up</span></h2>
<p>For our main tasks with OpenSCADA, within the limits of this document, it is necessary to install a package of DB of the simulator "AGLKS" — <b>openscada-model-aglks</b>, which can be found in detail in the previous section. Of course, if you use <a href="How_to_Live_disk.html" title="Special:MyLanguage/Documents/How to/Live disk">the live disk</a> then you already have everything you need.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> Do not consider OpenSCADA installation-building here from the source texts since the requirements of the user's qualification level for this task are much higher than the level of the document as a whole and there inevitably will be mismatches with the manual due to very likely differences in the initial configuration.
</p><p>The installed DB of the simulator "AGLKS" does not require any pre-set up. If you want to perform a specific configuration, which differs from the base, then use <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#Config" title="Special:MyLanguage/Documents/Program manual">the program manual</a>. In the process, you may need information about typical OpenSCADA accounts and passwords (not related to OS accounts), although simulators and newly created configurations start from a privileged user and you can easily change any of them:
</p>
<ul><li> Superuser (root), password "openscada".</li>
<li> Ordinal user (user), password "user".</li>
<li> Example of an individual user (roman), password "roman".</li></ul>
<p>The OpenSCADA demo, based on the "AGLKS" simulator database, is not the same as that is usually provided by the commercial software vendors to demonstrate the possibilities, but to exclude or to complicate the normal operations by limiting the functions. Demo of OpenSCADA is fully-functional program that provides examples of implementation and configuration of various components. Basing on the "AGLKS" similator database and other OpenSCADA simulators you can easily create own projects, using the given working out. The fully-functional of the OpenSCADA demo has an exception for closed platforms and platforms with the advantage of closed software.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> The dynamic simulator of the compressor station on 6 gas compressors, which is the basis of the demo database, requires significant resources, that is a processor with a frequency of more than 1 GHz (x86) and memory up to 200MB. These computing resources are needed directly for the dynamic simulator and are not a general indicator of the program's resource intensity in the final tasks! Memory requirements, on the contrary, are a typical indicator for a similar graphical AWP station.
</p><p>The general process of the configuration of the SCADA system, for the implementation of the functions of the "top level" — operator AWP, can be divided into two stages:
</p>
<ul><li> Configuring the data sources, creating a database (DB) of parameters of these sources, and setting the history.</li>
<li> Formation of visual representation of TP data, by creating an interface to the operator in the form of: mnemos, groups of graphs, groups of contours, documents, and others.</li></ul>
<p>Therefore, our final goal and purpose of this document is to build a complete configuration of the local SCADA station, connected the server, and with the emulation of the data source based on this demo database (Fig.3).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:461px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_SimpleStationAndServer.png"><img class="thumbimage" height="477" src="files/QuickStart_SimpleStationAndServer.png" width="459" /></a>  <div class="thumbcaption">Fig. 3. Simple united connecting of SCADA station and server with the data source in the demo database.</div></div></div></div>
<p>Together, we will get acquainted with such important roles as OpenSCADA as: server of acquisition, archiving, visualization; PLC execution environment and remote development. But before that we will look at OpenSCADA and its capabilities in general.
</p>
<h3><span class="mw-headline" id="General_overview"><span class="mw-headline-number">3.1</span> General overview</span></h3>
<p>Start up the local execution of OpenSCADA, from the DB simulator "AGLKS", you can from the section "Graphics" of the menu of the desktop environment for the item "Simulator "AGLKS" on the open SCADA system" with a characteristic icon (Fig.3.1.1).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1026px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_demenu_oscada.png"><img class="thumbimage" height="768" src="files/QuickStart_demenu_oscada.png" width="1024" /></a>  <div class="thumbcaption">Fig. 3.1.1. Menu item of the desktop environment for local start up the demo of OpenSCADA.</div></div></div></div>
<p>Local start up also can be done from the console by the command:
</p>
<pre style="white-space: pre-wrap;">
$ openscada_AGLKS</pre>
<p>After start up we'll get the window of the OpenSCADA graphical configurator — <a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">QTCfg</a> (Fig.3.1.2) with the opened root page. The demo database specially configured so that the first window you'll see after the starting it is the configurator's window. You can then open a window for creating graphical user interfaces, as well as run the user interface project for execution.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:810px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_QTCfg_root.png"><img class="thumbimage" height="629" src="files/QuickStart_QTCfg_root.png" width="808" /></a>  <div class="thumbcaption">Fig. 3.1.2. OpenSCADA program configurator — QTCfg, the root page.</div></div></div></div>
<p>The program configurator of OpenSCADA is the main and sufficient instrument for the configuration of any component of OpenSCADA. Like to many other components of OpenSCADA, the configurator is implemented as a module. Besides the QTCfg configurator there available other configurators those perform the same functions, but implemented on the basis of other technologies. For example, these are the Web-configurators: <a href="Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">WebCfgD</a> and <a href="Modules/WebCfg.html" title="Special:MyLanguage/Modules/WebCfg">WebCfg</a>.
</p><p>All actions in the future, we will overview only in the configurator QTCfg, although all of them can be done in other configurators.
</p><p>The structure of interface of the configurator window can be considered in detail by <a href="Modules/QTCfg.html" title="Special:MyLanguage/Modules/QTCfg">the link</a>. It is more important now for us to overview all the available interfaces OpenSCADA, so click next to the last icon in the top on the toolbar. After clicking on this icon the window of development of the user interface will be opened (Fig.3.1.3).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:855px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Vision_dev.png"><img class="thumbimage" height="591" src="files/QuickStart_Vision_dev.png" width="853" /></a>  <div class="thumbcaption">Fig. 3.1.3. Window of development of the user interface.</div></div></div></div>
<p>Then we can start up execution of the "AGLKS" project. To do this, select it in the list of the projects and run by clicking on the first left icon on the toolbar or in the the popup menu. The result will be the window of the end interface of the user — the operator (Fig.3.1.4).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1026px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Vision_run.png"><img class="thumbimage" height="719" src="files/QuickStart_Vision_run.png" width="1024" /></a>  <div class="thumbcaption">Fig. 3.1.4. Window of the end interface of the user of the "AGLKS" project.</div></div></div></div>
<p>Building and executing of the user interfaces is implemented by <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">the Vision module</a> of the "User interfaces" subsystem. In addition to this module the other modules of visualization is accessed. For example, OpenSCADA provides the <a href="Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision module</a>, which allows to execute projects, previously developed in the "Vision" interface module, through the Web-based technologies and by standard Web-browser.
</p><p>All actions in the future, we will overview only only in the interface of the "Vision" module.
</p><p>So we ran the demo of OpenSCADA and familiarized with the main set of the tools. In the future, we will use them in the OpenSCADA configuration to perform the functions of the "top level" — AWP operator, and other tasks.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> Close the program through the appropriate menu item "File", which must be made obligatory, otherwise its further background launch will not be able to open ports already busied by this program.
</p>
<h3><span class="mw-headline" id="Background_and_remote_execution_.E2.80.94_server.2C_PLC_execution_environment_and_remote_development"><span class="mw-headline-number">3.2</span> <span id="Demon" title="#Demon">Background and remote execution — server, PLC execution environment and remote development</span></span></h3>
<p>As you will see right now, there are no problems and needs of any additional configuration or addition of the existing configuration, demo one in our case, to run it in the background mode (demon mode) with the provision of server functions.
</p><p>To run OpenSCADA in the background, we need to install the <b>openscada-server</b> package as described in <a href="#Installation">the installation part</a> and which will already be set in the case of <a href="How_to_Live_disk.html" title="Special:MyLanguage/Documents/How to/Live disk">the live disk</a>. After the installing this package, we have to do the following steps, in the console terminal (for example, the program "konsole" in the live disk environment at the Alt+F2 startup dialog) and from the superuser:
</p>
<pre style="white-space: pre-wrap;">
# Connect from the superuser
$ su -
# ... for the live disk environment and some other Linux environments
$ sudo bash
# Stop down of execution of the empty server configuration
$ service openscada-server stop
# Create a link of the server project to "AGLKS"
$ rm -R /usr/share/openscada/server
$ ln -s AGLKS /usr/share/openscada/server
$ ln -s /etc/oscada_AGLKS.xml /usr/share/openscada/server/oscada.xml
# Start up the server with the demo DB already
$ service openscada-server start
</pre>
<p>In this way, you will get the demo database that works in the background, which, however, we will not see until we try to connect to this configuration, as below. Now, every time you start the computer, it will be launched in this way and run in the background. In general, this is the way tor starting up and execution the server configurations, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Embedding_and_PLC" title="Special:MyLanguage/Sub-projects/Embedding and PLC">PLC environments and one-board PCs</a> similar to <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Raspberry_Pi" title="Special:MyLanguage/Using/Raspberry Pi">RaspberyPi</a>.
</p><p>If you still have problems working with the console-terminal, or you deliberately want a background run in the graphical environment — the so-called "start or close in the system tray", then at this stage you can re-run the demo configuration, as described in the beginning of this section (Fig.3.1.1), set the <b>Collapse or startup to the system tray</b> option of the <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/QTStarter#Cfg" title="Special:MyLanguage/Modules/QTStarter">UI.QTStarter module</a> and close the configuration window so that the AGLKS simulator project collapses to the system tray.
</p>
<h3><span class="mw-headline" id="Your_own_project_creation"><span class="mw-headline-number">3.3</span> <span id="UserPrjCrt" title="#UserPrjCrt">Your own project creation</span></span></h3>
<p>In the window of the OpenSCADA project manager (Fig.3.3), we will create our own project, which can be called from the desktop environment menu in the "Graphics" section, the general item "Open SCADA system" with the characteristic icon (Fig.3.1.1) or the command from the console-terminal:
</p>
<pre style="white-space: pre-wrap;">
$ openscada</pre>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:717px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ProjManager.png"><img class="thumbimage" height="509" src="files/QuickStart_ProjManager.png" width="715" /></a>  <div class="thumbcaption">Fig. 3.3. Window of the project manager of OpenSCADA.</div></div></div></div>
<p>In this window, we can also check the background execution of server and demo configurations.
</p><p>That is, press the corresponding <b>Create-update project</b> button and enter the name of the new project, for example <b>Start</b>.
</p>
<h4><span class="mw-headline" id="Connecting_and_using_remote_and_background_configurations"><span class="mw-headline-number">3.3.1</span> <span id="RemConUse" title="#RemConUse">Connecting and using remote and background configurations</span></span></h4>
<p>Now we can try to connect remotely to the background demo project, look at its configuration and launch the demonstration project on the local execution from the visualization server.
</p><p>On the transport page (Fig.3.3.1.1), in the <b>User and System</b> mode, we will create a connection to our background demonstration "AGLKS" as an OpenSCADA station. We specify there the transport <b>Sockets</b>, the address <b>TCP:localhost:10005</b>, the user <b>root</b> and the password <b>openscada</b>. After updating the configurator tree, at the command in the context menu, we must get a new root item of this connection and we can control the remote background station from this configuration.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> If the remote station item appears but displays a lack of connection, then you have made a mistake in the configuration above or the remote station is not available, which in our case can mean only that it does not work in the background, and then return to <a href="#Demon">the proper section</a> and repeat the operations in it.
</p><p>If everything works then we will save this configuration by clicking the second icon on the left in the toolbar above, because we going to still use it to directly gating the data acquisition parameters from the demon project as PLC.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:907px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_TrRemStationsAndBrowse.png"><img class="thumbimage" height="629" src="files/QuickStart_TrRemStationsAndBrowse.png" width="905" /></a>  <div class="thumbcaption">Fig. 3.3.1.1. Page of the transports of the external OpenSCADA stations and browse the OpenSCADA tree of the remote-background station.</div></div></div></div>
<p>On the configuration page of the UI.Vision visualizer (Fig.3.3.1.2), we will select:
</p>
<ul><li> station of the VCA engine — <b>AGLKS</b>;</li>
<li> starting user — <b>leave blank</b>;</li>
<li> user password of this remote station — <b>leave blank</b>;</li>
<li> project(s) for their automatic execution — also <b>leave blank</b>, because we want to see the possibility of remote development.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:704px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_RemoteVisionCfg.png"><img class="thumbimage" height="579" src="files/QuickStart_RemoteVisionCfg.png" width="702" /></a>  <div class="thumbcaption">Fig. 3.3.1.2. Configuration page of the visualizer UI.Vision.</div></div></div></div>
<p>The next launch of the UI.Vision module, the second end icon on the toolbar above, should lead the visual development environment to a connection to the visualization project of the background demon project. Where you can perform remote development (fig.3.3.1.3) and run projects from this visualization server for execution (Fig.3.3.1.4).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:789px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_RemoteVisionDev.png"><img class="thumbimage" height="556" src="files/QuickStart_RemoteVisionDev.png" width="787" /></a>  <div class="thumbcaption">Fig. 3.3.1.3. Screen of the remote development of UI.Vision for the visualizer server "AGLKS".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1026px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_RemoteVisionRun.png"><img class="thumbimage" height="719" src="files/QuickStart_RemoteVisionRun.png" width="1024" /></a>  <div class="thumbcaption">Fig. 3.3.1.4. Screen of the remote execution of UI.Vision for the visualizer server "AGLKS".</div></div></div></div>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> This configuration of the remote connection to the visualizer server is not necessary to save and the configuration field "Station of the VCA engine" (Fig.3.3.1.2) should be returned to <b>Local</b> and the station user set to <b>root</b>; only then <b>save</b>.
</p><p>The ability to remotely connect and develop is sometimes the only way to develop or correct not only server configurations with the WEB interface only, but also for configurations with the locale visualization, when the locale environment itself is not suitable or limited to execute the development environment of the UI.Vision module, such as smartphones, tablets, and other small screen mobile devices, exclusively with touch input (<a class="external" href="http://oscada.org/wiki/Sub-projects/Adaption_to_Android" title="Sub-projects/Adaption to Android">Android</a>) or restrictions such as the inability to open the system virtual keyboard (<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Nokia_Linux" title="Special:MyLanguage/Using/Nokia Linux">Nokia N9</a>). But this remote development can mostly be done in the process of executing a project — the hot development, that is especially relevant for Web interfaces and local interfaces that run only in the execution window. As for remote configuration is one local configurator, as the administration center, can collect all the remote stations in the network, including the stations in the hidden networks of the first level stations, which can be raised by the "Level of lifting" argument (Fig.3.3.1.1).
</p>
<h4><span class="mw-headline" id="Connecting_the_standard_OpenSCADA_libraries"><span class="mw-headline-number">3.3.2</span> Connecting the standard OpenSCADA libraries</span></h4>
<p>The newly created OpenSCADA project does not contain any specific configuration, in fact it is empty and provides for the user to create a new configuration in the local SQLite database file "St.db", which is located in its own directory of the project with the same name. It is easier to create a complex project of the SCADA system using <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs" title="Special:MyLanguage/Libs">libraries of functions of the API of the OpenSCADA object model and libraries of the graphical elements</a>, as well as other OpenSCADA libraries. To use the OpenSCADA libraries, you need database files where the libraries are stored: connect-add in the object of the database module "SQLite" (Fig.3.3.2.1), install-select <b>the address</b> and specify the database encoding in <b>UTF-8</b> (Fig.3.3.2.2).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1117px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_SQLite_add.png"><img class="thumbimage" height="579" src="files/QuickStart_SQLite_add.png" width="1115" /></a>  <div class="thumbcaption">Fig. 3.3.2.1. Addition of an object of the DB "SQLite".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:727px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_SQLite_obj.png"><img class="thumbimage" height="604" src="files/QuickStart_SQLite_obj.png" width="725" /></a>  <div class="thumbcaption">Fig. 3.3.2.2. The DB "SQLite" object of the OpenSCADA library.</div></div></div></div>
<p>OpenSCADA distributions are supplied with a number of libraries in the form of database files "SQLite" (table 3.3.2), which, when started-created a custom project, are located in the "LibsDB/" directory. According to this list, we add them all to the object of the database module "SQLite", we set the sign "To enable" and save. Next, to download the contents of the libraries, you can enable the database and click on the button "Load the program from this DB", however, when downloaded, a number of new objects are not enabled (the <b>loading</b> command), so it's easier to complete the new project and run it again, than turning on everything you need manually.
</p><p><b>Table 3.3.2.</b> OpenSCADA libraries included in the distribution.
</p>
<table class="wikitable">

<tr>
<th> ID </th>
<th> Name </th>
<th> Address </th>
<th> Languages/charset
</th></tr>
<tr>
<td> OscadaLibs </td>
<td> Functions libraries </td>
<td> LibsDB/OscadaLibs.db </td>
<td> EN,UK,RU/UTF-8
</td></tr>
<tr>
<td> vcaBase </td>
<td> VCA: Main libraries </td>
<td> LibsDB/vcaBase.db </td>
<td> EN,UK,RU/UTF-8
</td></tr>
<tr>
<td> vcaTest </td>
<td> VCA: Tests </td>
<td> LibsDB/vcaTest.db </td>
<td> EN,UK,RU/UTF-8
</td></tr>
<tr>
<td> vcaElectroEls </td>
<td> VCA: Electrical elements library of the user interface </td>
<td> LibsDB/vcaElectroEls.db </td>
<td> EN,UK,RU/UTF-8
</td></tr></table>
<p>As a result of adding OpenSCADA libraries you will get an environment ready for adding data sources, defining their history and forming the interface of your own SCADA-system project.
</p>
<h2><span class="mw-headline" id="Working_with_data_sources"><span class="mw-headline-number">4</span> Working with data sources</span></h2>
<p>The main function of any SCADA-system is to work with data sources of realtime, that is the polling of the programmable logic controllers (PLC) and simple modules of MOD. For more details see <a href="DAQ.html" title="Special:MyLanguage/Documents/DAQ">the document "Data acquisition in OpenSCADA"</a>.
</p><p>Support for a given data source depends on the protocol or API, according to which the source provides its data, and the availability for the protocol-API of the module of the subsystem "Data acquisition" in OpenSCADA. The total list of modules of the subsystem "Data acquisition" and documentation on them can be found <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules" title="Special:MyLanguage/Modules">here</a> in the appropriate table part.
</p><p>Data from the sources is further processed, archived and used for visual representation of the TP operator.
</p>
<h3><span class="mw-headline" id="Data_acquisition_from_the_TP_device"><span class="mw-headline-number">4.1</span> Data acquisition from the TP device</span></h3>
<p>As an example let us examine and create the acquisition for the air cooler device. The background demo database, as a PLC and data source, contains the real-time model of the compressor station with six compressors. Data for two devices of air coolers "AT101_1" and "AT101_2" of the compressor station "CM101" are available via the ModBus/TCP protocol on the 10502 port (this port 502 is standard if the access to its opening is available).
</p><p>We will create the object for the controller to acquire on the protocol ModBUS/TCP and get this data. Thus, we actually realize the task of acquisition real data, since our configuration will be different from working with a real external device only with its address and the address of the ModBUS registers, and it may also be another physical interface of the interaction — the variant of the protocol ModBus. This connection is also a bright example of the ability to implement a data source environment (PLC) based on OpenSCADA.
</p><p>To acquire data by the "ModBUS" protocol in OpenSCADA there <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">the ModBus module</a> of the subsystem "Data Acquisition" is provided. To add a new controller object in the configurator, open the module page "ModBus" ("Start"-&gt;"Data acquisition"-&gt;"Module"-&gt;"ModBus") and in the "ModBus" item's context menu, press "Add" (Fig.4.1.1).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:757px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBUS_add.png"><img class="thumbimage" height="589" src="files/QuickStart_ModBUS_add.png" width="755" /></a>  <div class="thumbcaption">Fig. 4.1.1. Adding a controller object in the "ModBus" module of the "Data acquisition" subsystem.</div></div></div></div>
<p>As a result, a dialog box (Fig.4.1.2) will appear asking you to enter the identifier and the name of the new controller object. Identifiers of any objects in OpenSCADA are limited in size to 20 characters and it is recommended that they be entered with the characters of the English alphabet and numbers. In addition, it is desirable to start the identifier from the letter, which will simplify its use in internal procedures. The names of OpenSCADA objects are limited to 50 characters, which can be any. Names are usually used to display, and if it is empty then the identifier will be used. In the future, we can change the name in the object configuration, but the identifier can not be changed directly; however, the object can be cut (Ctrl+X) and then paste (Ctrl+V), renaming it. Enter, according to the remarks earlier, the ID "CM101", the name "CM 101" — <b>CM101 (CM 101)</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:410px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_enter_idnm.png"><img class="thumbimage" height="249" src="files/QuickStart_enter_idnm.png" width="408" /></a>  <div class="thumbcaption">Fig. 4.1.2. Dialog to specify the ID and name of the new object.</div></div></div></div>
<p>After confirmation, we will have the new controller object. Let us select it in the configurator and acquaint the settings (fig.4.1.3).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:757px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBUS_cntr.png"><img class="thumbimage" height="709" src="files/QuickStart_ModBUS_cntr.png" width="755" /></a>  <div class="thumbcaption">Fig. 4.1.3. Main tab of settings of the controller object of the ModBus module.</div></div></div></div>
<p>Configuring the object to the controller is usually specific to different types of data sources and protocols. For details of settings of the controller object of <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">the module ModBus</a> see to <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/ModBus#DAQ" title="Special:MyLanguage/Modules/ModBus">the link</a>. We will consider the general and key settings of this module.
</p><p>Before configuring communication with your controller, it is necessary, from the documentation for this controller, to find out the settings of its network interfaces and protocols, as well as, in the case of using "ModBus", get a table of assigning external and internal signals of the controller to the numbers of the "ModBus" registers — a map of registers.
</p><p>Using the controller object page, in the "State" section, you can first estimate the current status of the controller object and the actual state of communication with the physical controller, and also to quickly change them. That is, the "Status" field contains the error code and a text description of the current state of communication with the controller. In our case, the object of the controller is disabled. We can enable and run it by installing signs in front of the appropriate fields. Enabled controller object initiates parameters, started up one also launches a task of acquisition (separate thread to the controller object) and provides the ability to transfer data to the controller, through the attributes of the parameters. The "Controller DB" field indicates the database in which the configuration of the object is stored. We will arrange storage in the main database, that is, <b>leave this field default</b>.
</p><p>In the "Configuration" section, the configuration of the controller object is directly located. Set the following ones, leaving everything else unchanged:
</p>
<ul><li> "Enable" and "Run" indicate what state to move the controller object when the program is started. <b>Set both fields</b>.</li>
<li> "Acquisition schedule" contains a scheduler configuration to run the data acquisition task. You can get a description of the configuration format for this field from the tooltip. A single number indicates the periodicity of the execution, in seconds. We will specify <b>one second</b>.</li>
<li> "ModBus protocol" refers to the variant of the ModBus protocol. Possible variants of the protocol are "TCP/IP", "RTU" and "ASCII". Currently, we are interested in the variant <b>TCP/IP</b>, so leave it as it is. Protocols "RTU" and "ASCII" must be installed in the case of communication with the controller through serial interfaces, often it is "RS-485".</li>
<li> "Transport address" indicates the outgoing transport of <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#Transports" title="Special:MyLanguage/Documents/Program manual">the subsystem "Transports"</a>, which is used to connect to the controller. In the case of the variant "TCP/IP", we need a transport in <a href="Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">the module Sockets</a>, and in the case of the variants "RTU", "ASCII" and serial interfaces, we need a transport in <a href="Modules/Serial.html" title="Special:MyLanguage/Modules/Serial">the module Serial</a>. About creation the outgoing transport in "Sockets" and "Serial" will elaborate below.</li>
<li> "Destination node" indicates the node of the data source or controller in the ModBus network. In our case it should be <b>1</b>.</li>
<li> "Merging of the data fragments" enables merging non-matching registry fragments into one block of the request to a specified number of bytes, instead of generating individual queries. Allows you to reduce total acquisition time. <b>Set this option</b>.</li></ul>
<p>Save our changes in the database by clicking the second left icon on the toolbar.
</p><p>Now, in the same manner as the controller object, let's create the outgoing transport in the module "Sockets" ("Start"-&gt;"Transports"-&gt;"Sockets") through the context menu (Fig.4.1.4), and call the transport as well as the controller object <b>CM101 (CM 101)</b>. Please note that in the "Item type" field, the dialog of enter ID and the name (Fig.4.1.2), you must select <b>Output transport</b>!
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:758px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Sockets_add.png"><img class="thumbimage" height="524" src="files/QuickStart_Sockets_add.png" width="756" /></a>  <div class="thumbcaption">Fig. 4.1.4. Adding the output transport in the module "Sockets" of the subsystem "Transports".</div></div></div></div>
<p>Configuration page of the output transport is shown in Figure 4.1.5. This page also contains the section of the status and operational control. In the "Status" field the textual description of the current state of the transport is contained. We can run it for execution by checking the box in front of the appropriate field. Running object of the transport initiates the connection to the external node. The field "Transport DB" indicates the database to store the configuration of the object. <b>We will use the main storage</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:640px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Sockets_tr.png"><img class="thumbimage" height="577" src="files/QuickStart_Sockets_tr.png" width="638" /></a>  <div class="thumbcaption">Fig. 4.1.5. Configuration page of the output transport of the module "Sockets" of the subsystem "Transports".</div></div></div></div>
<p>The "Configuration" section directly contains the configuration of the transport object. Set the following ones, leaving everything else unchanged:
</p>
<ul><li> "Address" specifies: the type, address and mode of connection with the remote station. You can view the record format in the tooltip. Set this field to the value <b>TCP:localhost:10502</b>.</li></ul>
<p>Other types of the transports are created similar to the method considered for "Sockets", and their configuration usually differs only in the format of address and timeouts. For converters <i>USB-&gt;Serial,Modem</i> that address you may learn into the operation system, for example by the console command <b>$ dmesg</b>, just after it connection.
</p><p>Let's save the transport object and return to the configuration field "Transport address" of the controller object and select the address "Sockets.CM101". Configuring the controller object is finished, enable it by set the flag "Enabled". The next step is configuration and choose the data you need to query from the controller. This setting is done by creating an parameter of the controller. The parameter allows you to describe the list of data obtained from the controller and to transmit them to the environment of OpenSCADA — the data model.
</p><p>To add a new parameter we will open the page of our controller object and on the popup menu of the item "CM 101 (CM101)" we'll click "Add". The parameter we'll call <b>AT101_1 (AT 101_1)</b>.
</p><p>The configuration page of the obtained parameter is shown in Figure 4.1.6. This page contains the section of status and operational control. In the "Type" field it is contained the identifier of the type of the parameter, in this case it is the type <b>Standard (std)</b>. We enable this parameter by setting a sign opposite the corresponding field. The enabled parameter is involved in the process of exchanging with the controller.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:691px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBUS_prm.png"><img class="thumbimage" height="631" src="files/QuickStart_ModBUS_prm.png" width="689" /></a>  <div class="thumbcaption">Fig. 4.1.6. Configuration page of the controller parameter "ModBUS".</div></div></div></div>
<p>The "Configuration" section directly contains the configuration of the parameter. Set the following ones, leaving everything else unchanged:
</p>
<ul><li> "To enable" indicates the need to transfer the object to the "Enabled" mode, when the program is started. <b>Set this field</b>.</li>
<li> "Attributes list" contains the configuration of the parameter attributes relative to registers and bits of "ModBus". You can view the record format in the tooltip. Set the contents of this text field to:</li></ul>
<pre style="white-space: pre-wrap;">
R:100:r:Ti:T input
R:101:r:To:T output
R:102:rw:Cw:Productivity
</pre>
<p>In the same way, we will create, or copy from AT101_1, a second parameter "AT101_2 (AT 101_2)". The list of attributes for him will be established in:
</p>
<pre style="white-space: pre-wrap;">
R:103:r:Ti:T input
R:104:r:To:T output
R:105:rw:Cw:Productivity
</pre>
<p><b>Save both</b> the parameters. Now we can start up our controller object for acquisition, for which we will return to its page and in the section "Status" we will <b>set the sign "Running"</b>. If we do not miss anything then the exchange will start successfully and in the "Status" field we will get a similar presentation as shown in Figure 4.1.7.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:763px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBUS_cntr_st.png"><img class="thumbimage" height="690" src="files/QuickStart_ModBUS_cntr_st.png" width="761" /></a>  <div class="thumbcaption">Fig. 4.1.7. Page of the controller object when successfully exchanged with the physical controller.</div></div></div></div>
<p>In the case of the successful exchanging with the physical controller, we'll also obtain the described data of the controller in the infrastructure (the data model) of OpenSCADA. You can see these data in the tab "Attributes" of our parameters AT101_1 (Fig.4.1.8) and AT101_2. Since the acquisition is done regularly and periodically per second, we can observe their change by clicking on the "Refresh current page" button in the toolbar.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:639px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBUS_prm_attr.png"><img class="thumbimage" height="554" src="files/QuickStart_ModBUS_prm_attr.png" width="637" /></a>  <div class="thumbcaption">Fig. 4.1.8. Page of the described attributes of the AT101_1 parameter.</div></div></div></div>
<p>On this, configuration of the data acquisition is considered complete.
</p>
<h3><span class="mw-headline" id="Processing_received_data_of_the_TP"><span class="mw-headline-number">4.2</span> <span id="DataProc" title="#DataProc">Processing received data of the TP</span></span></h3>
<p>Often there is a situation where the input data from the data source is "raw", that is, unprepared or inconvenient for the visual representation, therefore, it is necessary to carry out this preparing. In our example, we get the data that comes in the code from the scale inside the controller and our task is to make a calculation of real values from the obtained data. Data processing in OpenSCADA can be done either directly in the visualization, or in the subsystem "Data acquisition". However, mixing the process of the visualization and processing of the input data: confuses the configurations, prevents the history of real data, makes the resulting visualization shapes less suitable for reuse and increases the load on the visualization thread, thereby reducing its overall sensitivity. Accordingly, we will prepare the data in the subsystem "Data acquisition".
</p><p>Calculations in the subsystem "Data acquisition", for the real data obtaining, are mostly done via the module of the logic level <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">LogicLev</a> and the templates of parameters of the subsystem "Data acquisition". The module <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a> is a rare case where such calculation can be made directly in it, as we will see below. To familiarize with the concept of "Logical level" you can <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/DAQ#LogicLev" title="Special:MyLanguage/Documents/DAQ">here</a>.
</p><p>To perform calculations in the logical level module, you must first create a library of templates of our project and a parameter template of the subsystem "Data acquisition" in it. To create a template library, go to the page of the subsystem "Data acquisition" and, through the context menu, create a template library "start (Start)". The configuration page of the obtained object of the templates library (Fig.4.2.1) contains the status and operations section "State" and the section "Configuration" that contains only the default configuration fields and which will remain unchanged. In general, we have:
</p>
<ul><li> The section "State":
<ul><li> make the library accessible by <b>setting a sign</b> opposite the corresponding field;</li>
<li> specify the storage in the field "Library DB", <b>leave it by default</b> — the main DB of the project;</li>
<li> can control the date of the last modification.</li></ul></li>
<li> <b>Save</b> the object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:639px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_TmplLib.png"><img class="thumbimage" height="485" src="files/QuickStart_TmplLib.png" width="637" /></a>  <div class="thumbcaption">Рис. 4.2.1. Configuration page of the object of the templates library.</div></div></div></div>
<p>To create a template, open the page of the newly created template library ("Start"-&gt;"Data Acquisition"-&gt;"Templates library"-&gt;"Start") and, through the context menu, create an object of the template <b>airCooler (Air cooler)</b>. The configuration page of the obtained object of the template (Fig.4.2.2) contains the status and operations section "State" and the section "Configuration" that contains only the default configuration fields and which will <b>remain unchanged</b>. In general, we have:
</p>
<ul><li> The section "State":
<ul><li> make the template accessible by <b>setting a sign</b> opposite the corresponding field — the available templates can be connected to the data acquisition parameters, and the parameters will be calculated based on this template;</li>
<li> we can control the number of objects that use this template to calculate the context of the parameter;</li>
<li> can control the date of the last modification.</li></ul></li>
<li> <b>Save</b> the object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:671px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Tmpl_gen.png"><img class="thumbimage" height="496" src="files/QuickStart_Tmpl_gen.png" width="669" /></a>  <div class="thumbcaption">Fig. 4.2.2. Configuration page of the template object.</div></div></div></div>
<p>The basic configuration and the formation of the template of parameter of data acquisition is made in the tab "IO" (Fig.4.2.3) of the template. The detailed description of the process of the template formation can be found at <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#CfgDAQ" title="Special:MyLanguage/Documents/Program manual">link</a>.
</p><p>In the template we will create two properties for inputs ("TiCod", "ToCod"), two for output ("Ti", "To") and one transparent ("Cw"). For properties "TiCod", "ToCod" and "Cw" we will set the sign "Configuration" in <b>Link</b>, which will allow them to tied up a "raw" source. For parameters "Ti" and "To", the sign "Attribute" will be set to <b>Read only</b>, "Cw" to <b>Full access</b>; to form three attributes of the result data acquisition parameter: two read only and one for full access.
</p><p>Set the language of the program in <b>JavaLikeCalc.JavaScript</b>, and the program in:
</p>
<pre style="white-space: pre-wrap;">
Ti = 150*TiCod/65536;
To = 100*ToCod/65536;
</pre>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:856px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Tmpl_io.png"><img class="thumbimage" height="656" src="files/QuickStart_Tmpl_io.png" width="854" /></a>  <div class="thumbcaption">Fig. 4.2.3. Tab "IO" of the configuration page of the template object.</div></div></div></div>
<p><b>Save the obtained template</b> and establish <b>a sign of availability</b> (Fig.4.2.2).
</p><p>Now we will create the controller object and parameters in the "LogicLev" module of the subsystem "Data acquisition". The "LogicLev" controller object and its parameters are created identically to the "ModBus" module earlier on the page: "Start"-&gt;"Data acquisition"-&gt;"Module"-&gt;"Logical Level". We name them <b>identical to the objects of the module "ModBus"</b>.
</p><p>The controller object of the module "LogicLev" (Fig.4.2.4) has no specific settings and the default ones may not be touched except the "Schedule of the calculation" field, which will install in <b>one second</b>. Before adding parameters, you must <b>turn on</b> the controller object by <b>checking the "Enabled" flag</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:681px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_cntr.png"><img class="thumbimage" height="629" src="files/QuickStart_LogicLev_cntr.png" width="679" /></a>  <div class="thumbcaption">Fig. 4.2.4. Main configuration tab of the controller object of the module "LogicLev".</div></div></div></div>
<p>Parameter of the controller object of the "LogicLev" module (Fig.4.2.5) has the specific setting "Type", where you need to set <b>Logical (std)</b> and into the field "Parameter template" <b>select the address of the template</b>, we have just created.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:769px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_prm.png"><img class="thumbimage" height="503" src="files/QuickStart_LogicLev_prm.png" width="767" /></a>  <div class="thumbcaption">Fig. 4.2.5. Configuration page of the parameter of the controller object of the module "LogicLev".</div></div></div></div>
<p>In addition to the basic configuration of the parameter it is necessary to configure the attached template (Fig.4.2.6). Configuration tab of the template appears in the parameter's mode "Enabled". To enable the parameter it is possible by the previously enabling the controller object. The flag "Only attributes are to be shown" allows you to set apart each link (Fig.4.2.7). Since we, in the template, forcibly described the format of the links as "Parameter|Ti", we can establish all three links by simply pointing the address to the parameter in the controller object "ModBus". Specify-select the address <b>ModBus.CM101.AT101_1</b> and <b>ModBus.CM101.AT101_2</b> in the appropriate parameters.
</p><p>It should be noted that all the fields for entering object addresses in OpenSCADA have a mechanism for selecting the address. This mechanism involves elemental choice, during which there is a movement in the interior. For example, selecting the address "ModBus.CM101.AT101_1" first we will be able to choose the type of data source, including the item "ModBus". By selecting the item "ModBus" in the list of available items for selection the controller objects of the module "ModBus" will be added, among which will be "ModBus.CM101". Select the item "ModBus.CM101" add the controller parameters to the list, etc. to the final element in accordance with <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#DAQ" title="Special:MyLanguage/Documents/Program manual">the hierarchy of objects</a>. For the possibility of returning to the level above, the elements of all the higher levels from the current address value are inserted into the list of choice.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:769px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_prm_tmpl.png"><img class="thumbimage" height="503" src="files/QuickStart_LogicLev_prm_tmpl.png" width="767" /></a>  <div class="thumbcaption">Fig. 4.2.6. Tab "Template configuration" of the page of the "LogicLev" controller parameter.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:769px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_prm_tmpl_attr.png"><img class="thumbimage" height="503" src="files/QuickStart_LogicLev_prm_tmpl_attr.png" width="767" /></a>  <div class="thumbcaption">Fig. 4.2.7. Tab "Template configuration" of the page of the "LogicLev" controller parameter with the links unrolling.</div></div></div></div>
<p>Let's <b>save the created objects</b> of the controller and parameters, after which we will start up the controller object by <b>setting the "Running" sign</b> in the "State" section. If we do not miss something, the calculation is successfully started and in the "Status" we'll get something like to Figure 4.2.8.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:876px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_cntr_st.png"><img class="thumbimage" height="618" src="files/QuickStart_LogicLev_cntr_st.png" width="874" /></a>  <div class="thumbcaption">Fig. 4.2.8. Page of the controller object if its calculation in the "LogicLev" module is successful.</div></div></div></div>
<p>In the case of successful processing of the template code, in the parameters, we'll obtain the processed data in the infrastructure (the data model) of OpenSCADA. You can see these data on the tab "Attributes" of our parameters AT101_1 (Fig.4.2.9) and AT101_2.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:761px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_prm_attr.png"><img class="thumbimage" height="441" src="files/QuickStart_LogicLev_prm_attr.png" width="759" /></a>  <div class="thumbcaption">Fig. 4.2.9. Page of attributes of the parameter AT101_1 of the "LogicLev" module.</div></div></div></div>
<p>On this, the configuration of the data processing is considered complete.
</p>
<h3><span class="mw-headline" id="Complex_object-tag_of_the_signal"><span class="mw-headline-number">4.3</span> Complex object-tag of the signal</span></h3>
<p>The previous sections described the mechanism of connecting the data source as an apparatus object — "Air cooler", which involves combining all the signals in one object of the data source parameter. However, the more common approach to large automation is the formation of a parameter object around an individual signal, for example — "Temperature at the output of the refrigerator AT101_1 (TE1314_1)", which are often called tags.
</p><p>Creating the parameter object around the signal allows to formalize its description to the templates of analog and digital signals by including to them all necessary processing, alarming and other characteristic information. For a simple configuration of the typified analog and digital signals there are the parameter templates in the OpenSCADA libraries, and many of the visual presentation shapes are adapted to work and binding with these parameters directly, without going into details on the attributes.
</p><p>Typically, for creating a parameter based on a template, the <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">LogicLev</a> module is used as described in the previous section. However, a number of modules, including <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a> provide the ability to immediately create logical parameters, based on the template. We will add new parameters by opening the page of our earlier created ModBus controller object and <b>clicking "Add" button</b> on the "CM 101 (CM101)" menu item in the configurator.
</p><p>We name the analog parameter <b>TE1314_1 (TE1314_1)</b> (Fig.4.3.1). The parameter type is set to <b>Logic</b>, the parameter template is selected by <b>base.anUnif</b>, the description will be set to <b>Output temperature AT101_1</b>, <b>set the flags "To enable" and "Enabled"</b>. Next, we need to configure:
</p>
<ul><li> The parameter template in the tab "Template configuration" (Fig.4.3.2):
<ul><li> the "Input" field is set to ModBus-register's address of this parameter <b>R:101</b>;</li>
<li> the "Maximum module scale" is set to <b>65535</b>, which corresponds to 100 °C.</li></ul></li>
<li> The tab "Attributes" (Fig.4.3.3) settings:
<ul><li> "Dimension" to <b>deg. C</b>;</li>
<li> "Scale:minimum" to <b>0</b>;</li>
<li> "Scale:maximum" to <b>100</b>;</li>
<li> "Border up alarm" to <b>40</b>;</li>
<li> "Border up warning" to <b>30</b>.</li></ul></li>
<li> <b>Save</b> the object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:686px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBus_prmAn.png"><img class="thumbimage" height="498" src="files/QuickStart_ModBus_prmAn.png" width="684" /></a>  <div class="thumbcaption">Fig. 4.3.1. Page of the logical parameter "TE1314_1" of the module "ModBus".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:686px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBus_prmAn_tmpl.png"><img class="thumbimage" height="538" src="files/QuickStart_ModBus_prmAn_tmpl.png" width="684" /></a>  <div class="thumbcaption">Fig. 4.3.2. Tab "Template configuration" of the parameter "TE1314_1" of the module "ModBus".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:747px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBus_prmAn_attr.png"><img class="thumbimage" height="796" src="files/QuickStart_ModBus_prmAn_attr.png" width="745" /></a>  <div class="thumbcaption">Fig. 4.3.3. Tab "Attributes" of the parameter "TE1314_1" of the module "ModBus".</div></div></div></div>
<p>The discrete parameter is called <b>CB102 (CB102)</b>. The parameter type is set to <b>Logic</b>, the parameter template is selected by <b>base.digitBlockUnif</b>, <b>set the flags "To enable" and "Enabled"</b>. Next, we need to configure:
</p>
<ul><li> The parameter template in the tab "Template configuration" (Fig.4.3.4):
<ul><li> the "Command 'Open'" field is set to the value of the ModBus-bit address of the parameter <b>C:100:rw</b>;</li>
<li> the "State 'Opened'" field is set to the value of the ModBus-bit address <b>C:101</b>;</li>
<li> the "State 'Closed'" field is set to the value of the ModBus-bit address <b>C:102</b>;</li>
<li> the "Time for hold the command" field is set to <b>0</b>, because the command if not the pulse one.</li></ul></li>
<li> The tab "Attributes" (Fig.4.3.5) settings: make sure the availability of the command and states.</li>
<li> <b>Save</b> the object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:698px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBus_prmDig_tmpl.png"><img class="thumbimage" height="529" src="files/QuickStart_ModBus_prmDig_tmpl.png" width="696" /></a>  <div class="thumbcaption">Fig. 4.3.4. Tab "Template configuration" of the parameter "CB102" of the module "ModBus".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:698px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ModBus_prmDig_attr.png"><img class="thumbimage" height="529" src="files/QuickStart_ModBus_prmDig_attr.png" width="696" /></a>  <div class="thumbcaption">Fig. 4.3.5. Tab "Attributes" of the parameter "CB102" of the module "ModBus".</div></div></div></div>
<h3><span class="mw-headline" id="Getting_for_ready_data_of_OpenSCADA_.E2.80.94_gateway"><span class="mw-headline-number">4.4</span> Getting for ready data of OpenSCADA — gateway</span></h3>
<p>Having familiarized with the typical mechanisms for obtaining the data, described in the previous sections, you must imagine already the total amount of work on their getting and processing, that is, formalizing and obtaining this data in the SCADA-system data model. If you add here the task of creating these data at the PLC level — the PLC data model of freely programmable PLC, and transforming it into the data model of the exchanging protocol, then you should notice a triple data transformation here. About the transformation into the protocol data model — serialization, this is determined by the physical properties of the communication channels and is carried out automatically, but the formation of the PLC data model and SCADA-system data model is carried out by the programmer of the PLC and the SCADA-system, respectively. Moreover, this work has much in common, especially if performed by one person or organization, and therefore there should be mechanisms for its unification.
</p><p>In the case of a different origin of the PLC and SCADA, greater unification than the protocol layer of the exchange is difficult to achieve. On the other hand, the deep unification of PLC and SCADA data models can be found at the same time by PLC and SCADA manufacturers, which, however, only strengthens their monopoly status and in fact reduces the benefits of unification through the overall cost of the solution.
</p><p>OpenSCADA provides for the possibility of such unification through the affiliation with the PLC. Such an affinity can only be provided for PLCs that are completely open, they have open-source software installed, and so you can install <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/Embedding_and_PLC" title="Special:MyLanguage/Sub-projects/Embedding and PLC">OpenSCADA as a PLC execution environment</a>. As an execution environment, OpenSCADA can provide PLC data and by the standard protocols such as ModBus, and to obtain these data directly and without any action on them, on the side of the SCADA system there is the module "<a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQGate</a>" provided, which, in fact, brings these models together. That is, in fact, the PLC-programmer, which is a SCADA-programmer also, forms a PLC data model, and at the SCADA-level it is already used as a ready-made, which completely removes the stage and works on obtaining, processing and forming the data model of the SCADA-system. Moreover:
</p>
<ul><li> the discrepancy between PLC and SCADA data models is eliminated when they are changed;</li>
<li> the configuration data, logically and exclusively, is stored on the PLC to which they relate;</li>
<li> violations and other messages are generated on the primary source — PLC;</li>
<li> provides for a mechanism for storing archive-history on the PLC both fully and as part of the compensation for loss of communication with the SCADA, especially for bad and wireless communications.</li></ul>
<p>In order to demonstrate and familiarize, we will create here a controller object of the module "DAQGate", to locate the data of our virtual PLC. It is created identically to the controller objects created earlier in the "ModBus" and "LogicLev" modules, on the page: "Start"-&gt;"Data acquisition"-&gt;"Module"-&gt;"Data sources gate" and name it <b>AGLKS</b>.
</p><p>Controller object of the module "DAQGate" (Fig.4.4.1) has the following specific settings that we must accomplish:
</p>
<ul><li> "Remote stations list" — in the "Append station" field, we will <b>select the previously established connection</b> of the remote station "AGLKS".</li>
<li> <b>Enable</b> the controller object.</li>
<li> "List of the remote controllers and parameters" — in the "Parameters tree" field select <b>LogicLev.gen</b> and then <b>&lt;&lt;Append current&gt;&gt;</b> above this list.</li>
<li> <b>Start up</b> the controller object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:891px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_DAQGate_cntr.png"><img class="thumbimage" height="885" src="files/QuickStart_DAQGate_cntr.png" width="889" /></a>  <div class="thumbcaption">Fig. 4.4.1. Main configuration tab of the controller object of the module "DAQGate".</div></div></div></div>
<p>If everything is done correctly, then the parameters of the selected controller will automatically be created and we can look at the data on them in the tab "Attributes" (Fig.4.4.2).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:750px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_DAQGate_prm_attr.png"><img class="thumbimage" height="808" src="files/QuickStart_DAQGate_prm_attr.png" width="748" /></a>  <div class="thumbcaption">Fig. 4.4.2. Tab "Attributes" of the parameter of the module "DAQGate".</div></div></div></div>
<h3><span class="mw-headline" id="Archiving-history_of_the_TP_data"><span class="mw-headline-number">4.5</span> Archiving-history of the TP data</span></h3>
<p>The data obtained above are considered current, that is, those that are periodically updated and characterize the value of the parameter TP for the current time. At the same time, the previously read values are lost when they are overwritten by the current value, that is, their history is missing. In many tasks, the archive-history of the read values of TP parameters is required, for which OpenSCADA provides the subsystem "<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#Arch" title="Special:MyLanguage/Documents/Program manual">Archives-History</a>" where we need to create value archivers and messages, for violations, and specify our parameters for archiving their values there.
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> If you do not create archivers and do not connect our parameters to archiving by them then on charts you will not get the history more than its total width, and also lose the accumulated during switching, and in the reporting documents you will not get the history at all.
</p><p>Let's start with the archiving of values, for which it is necessary to create at least one archiver for the required type of storage and the values periodicity. In general, OpenSCADA includes two archiving modules: to the file system "<a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">FSArch</a>" and to the database "<a href="Modules/DBArch.html" title="Special:MyLanguage/Modules/DBArch">DBArch</a>". Here we will consider only the module of archiving on file system, as the most universal and effective one. Concerning the periodicity of values, for the "high-quality" archiver, it is preferable to choose the periodicity of the values of the slowest source of data in our system, which we have one and we specified the periodicity for him in 1 second. To create a value archiver, open the archiving module page ("Start"-&gt;"Archives-History"-&gt;"Module"-&gt;"Archiver on the file system") and, through the context menu, we will create an object of the value archiver <b>1s</b>. Note the value of the "Item type" field in the creation dialog, which should be the <b>Value archiver</b>! The configuration page of the resulting object of the value archiver (Figure 4.5.1) contains the status and operational control section "State", the configuration section "Configuration", and the section of the specific settings for the archiver module "Additional options". In general, we have:
</p>
<ul><li> Section "State":
<ul><li> <b>start up</b> the archiver for execution by setting the sign opposite the corresponding field — only running archiver performs the archiving; <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> to establish last and after the execution of all this list;</li>
<li> we can control the current and maximum time of the archiving session;</li>
<li> specify the configuration storage in the field "Archiver DB", <b>leave the main DB of the project</b>, by default;</li>
<li> we can control the total archive files size of this archiver.</li></ul></li>
<li> Section "Configuration":
<ul><li> <b>set the startup</b> the archiver when the program is started, by setting the sign opposite the corresponding field;</li>
<li> set the address of the archive folder in <b>ARCHIVES/VAL/1s</b>, which is by default;</li>
<li> set the period of values to <b>1 second</b>;</li>
<li> Set the archiving period to <b>60 seconds</b>, by default; usually it is the same for archivers with any periodicity of values.</li></ul></li>
<li> <b>Save</b> the object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:701px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ArchVal_1s.png"><img class="thumbimage" height="632" src="files/QuickStart_ArchVal_1s.png" width="699" /></a>  <div class="thumbcaption">Fig. 4.5.1. Configuration of the value archiver "1s" to the file system.</div></div></div></div>
<p>One the "high-quality" archiver is already sufficient for most tasks, but if you plan to build graphs-trends of the values and reporting documents at a great depth (days, weeks, months) then you need to create a couple of archivers with more periodicity of the values. Otherwise, the construction of the graphics and documents will be long and/or be cut off by the time limits! Typically, such additional archivers are created, but you must create them identically for the "high-quality" archiver above:
</p>
<ul><li> Minute: the identifier <b>1m</b>, the address <b>ARCHIVES/VAL/1m</b> and the value period <b>60 seconds</b>.</li>
<li> Hourly: the identifier <b>1h</b>, the address <b>ARCHIVES/VAL/1h</b> and the value period <b>3600 seconds</b>.</li></ul>
<p>To activate the archiving of the attributes "Ti" and "To" of the AT101_1 and AT101_2 parameters in the previously created controller of the "LogicLev" module it is enough on the "Archiving" tab of the configuration page <b>to choose</b> which attributes are to be archived and by what archivers (Fig.4.5.2). We'll choose the archiving of "Ti" and "To" attributes by the previously created archivers <b>FSArch.1s</b>, <b>FSArch.1m</b>, <b>FSArch.1h</b>. The same thing you can do for the attribute "var" of the analog parameter "ModBus.CM101.TE1314_1" and for "com" of the digital parameter "ModBus.CM101.CB102".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:778px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_LogicLev_prm_arh.png"><img class="thumbimage" height="440" src="files/QuickStart_LogicLev_prm_arh.png" width="776" /></a>  <div class="thumbcaption">Fig. 4.5.2. Tab "Archiving" of the AT101_1 parameter of the "LogicLev" module.</div></div></div></div>
<p>As a result of this operation, archival objects for the selected attributes will be created automatically. An example of the archive object, for the attribute "Ti" of the parameter AT101_1, is shown in Figure 4.5.3.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:833px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Arh_gen.png"><img class="thumbimage" height="689" src="files/QuickStart_Arh_gen.png" width="831" /></a>  <div class="thumbcaption">Fig. 4.5.3. Page of the archive object of the "Ti" attribute of the AT101_1 parameter.</div></div></div></div>
<p>Usually the settings of the archive do not need to be changed, but if you need special configuration, it can be done on the aforesaid page. Often you may need to obtain the information about the archive. For example, find out the size of the archive both in time and on the storage, as well as look at the graph of the parameter (Fig.4.5.4).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:991px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_Arh_tr.png"><img class="thumbimage" height="602" src="files/QuickStart_Arh_tr.png" width="989" /></a>  <div class="thumbcaption">Fig. 4.5.4. Tab "Values" of the page of the archive object of the "Ti" attribute of the AT101_1 parameter.</div></div></div></div>
<p>Controller objects, as well as individual parameter templates, can generate alert messages, for example, complex signal-tag templates generating messages when output values over one of the borders. Messages of this nature have a specific category and are called violations.
</p><p>OpenSCADA messages previously come to the messages buffer, which acts as the primary archive. However, the buffer has a limit and is stored only in RAM, that is, it is lost when the program is restarted. The role of storing messages in one or another storage is performed by the message archivers, as the value archivers for the values.
</p><p>Accordingly, we will create a message archive for archiving of violations, for which we will open the archiving module page ("Start"-&gt;"Archives-History"-&gt;"Module"-&gt;"Archiver on the file system") and, through the context menu, we will <b>create</b> an object of the message archiver <b>alarms (Alarms)</b>. Note the value of the "Item type" field in the creation dialog, which should be the <b>Message archiver</b>! The configuration page of the resulting object of the message archiver (Figure 4.5.5) contains the status and operational control section "State", the configuration section "Configuration", and the section of the specific settings for the archiver module "Additional options". In general, we have:
</p>
<ul><li> Section "State":
<ul><li> <b>start up</b> the archiver for execution by setting the sign opposite the corresponding field — only running archiver performs the archiving; <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> to establish last and after the execution of all this list;</li>
<li> specify the configuration storage in the field "Archiver DB", <b>leave the main DB of the project</b>, by default;</li>
<li> we can control the time of the first and last message in the archive of this archiver;</li>
<li> we can control the total archive files size of this archiver;</li>
<li> we can control the current and maximum time of the archiving session.</li></ul></li>
<li> Section "Configuration":
<ul><li> <b>set the startup</b> the archiver when the program is started, by setting the sign opposite the corresponding field;</li>
<li> set the category of messages that characterizes the violations to <b>al*</b>;</li>
<li> set the level of archived violations in <b>Information (1)</b>;</li>
<li> set the address of the archive folder in <b>ARCHIVES/MESS/alarms</b>, which is by default;</li></ul></li>
<li> <b>Save</b> the object.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:761px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ArchMess_alarms.png"><img class="thumbimage" height="654" src="files/QuickStart_ArchMess_alarms.png" width="759" /></a>  <div class="thumbcaption">Fig. 4.5.5. Configuration of the message archiver "alarms" to the file system.</div></div></div></div>
<p>In the same way, you can create message archivers of a different nature, for example, the actions of the operator, for which it is enough to define the category of these messages and to form for them a template or regular expression rule. You can study <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Documents/Program_manual#CfgArch" title="Special:MyLanguage/Documents/Program manual">main page of the subsystem "Archives-History"</a> for information on their categories and set up a template or regular expression rule. You can even create an archiver to archive all program messages, and doing so is not recommended because of large archives size and long access to them later.
</p>
<h2><span class="mw-headline" id="Formation_of_the_visual_representation"><span class="mw-headline-number">5</span> Formation of the visual representation</span></h2>
<p>The formation of the visual representation may be performed at three levels of complexity and the user can select any of them, depending on demands of the task, level of his knowledge and availability of libraries with ready-made shapes and templates.
</p><p>The first level requires a minimum qualification of the user, but implies the presence of libraries of the template frames, which are needed to solve his task. Within the limits of the first level the user only has to know how to connect the dynamics to pages of the template frames and how to add new pages of the template frames.
</p><p>The second level provides the additional ability, that is to create new frames based on the finished-complex elements, simply by their placement in the frame area. To achieve this qualification level, the user will need libraries of complex elements needed to solve his tasks.
</p><p>The third level requires that the user is able to use of all the tools of the development environment of the visual interfaces of OpenSCADA, including the creation of new complex elements and developing of the user interfaces in the project.
</p><p>All the works on the visualization interface we will make in the environment of <a href="Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">the module "Vision"</a> of the subsystem "User interfaces". To open the "Vision" interface window you should click the second icon on the right on the configurator toolbar. The result is the window previously shown in Figure 3.3.1.3.
</p><p>The interfaces of user-operator realizing into OpenSCADA by the projects of visualization. Into <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs/Main_elements" title="Special:MyLanguage/Libs/Main elements">the main elements library of the user interface</a> the typical project template has presented, which based on the concept of the signal objects and views of displaying. The user can start for creation self concept of the visualization interface, by a new project, or can use the specified template. 
</p><p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> To implement a new concept of the visualization project, you will need the knowledge of the third level and significant efforts outside of the consideration of this document. Therefore, we will consider creating a visualization interface based on the accessible template project.
</p><p>Copy the project "Signal groups (template)", by first <b>clicking the button "Copy the visual item"</b> on it, and then the button <b>Paste the visual item</b> (Fig.5.1). In the dialogue we will call our new project <b>start (Start)</b> and in the list of projects we will get the item of our new project (Fig.5.1).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1227px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_newPrj.png"><img class="thumbimage" height="651" src="files/QuickStart_ui_newPrj.png" width="1225" /></a>  <div class="thumbcaption">Fig. 5.1. Copy a template project to a new one.</div></div></div></div>
<p>Before using and saving the new project (Fig.5.3), you need to change the address of its storage to the main DB <b>*.*.prj_start</b> that we can do on the main page of the properties dialog of the visual element that is called by the <b>the button "Properties of the visual item"</b> (Fig.5.2). After that, we will <b>save</b> our new project by clicking the third button on the left of the toolbar.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:723px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_props.png"><img class="thumbimage" height="505" src="files/QuickStart_ui_props.png" width="721" /></a>  <div class="thumbcaption">Fig. 5.2. Properties of a new project based on the template.</div></div></div></div>
<p>The template project (Fig.5.3) contains two branches: "Control panels" and "Root page". The branch "Control panels" contains typical control panels and set of the special frames. The branch "Root page", with the root page basis, contain subbranches for the signal objects "Group 1", "Group 2" and different branch "Result graphics". The signal object's subbranches "Group {n}" have a number identifier and can expanded by appending up to 20 items. The presence of the grub "Group {n}" is reflected by activating the corresponding button of the signal object of the root page, allowing them to switch. Every subbranch "Group {n}" has containers or templates for display views, typically: "Mnemo", "Graphics groups", "Contours groups", "Groups of overview frames" and "Documents". The presence of pages in containers of the display views enables the selection possibility for the corresponding signal object of the root page. More information about the structure of the root page can be found at <a class="external text" href="http://wiki.oscada.org/HomePageEn/Using/GraphicElementsLibraries/MainElements#h1039-45%7Cthe" rel="nofollow noreferrer noopener" target="_blank">link</a>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1125px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_so.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_so.png" width="1123" /></a>  <div class="thumbcaption">Fig. 5.3. Template project based on the concept of signaling objects.</div></div></div></div>
<h3><span class="mw-headline" id="Adding_the_template_page_and_connecting_the_dynamics"><span class="mw-headline-number">5.1</span> Adding the template page and connecting the dynamics</span></h3>
<p>Let's examine the first level of complexity task, when in the already designed interface conception it is necessary to link the dynamics to the template page. The "Template page" idea means a page on the basis and with the help of inheritance there can be created a lot of final visualization pages with an individual list of the dynamics. The examples of these pages are: "<a class="external text" href="http://wiki.oscada.org/HomePageEn/Using/GraphicElementsLibraries/MainElements#h1039-30" rel="nofollow noreferrer noopener" target="_blank">Graphics group</a>", "<a class="external text" href="http://wiki.oscada.org/HomePageEn/Using/GraphicElementsLibraries/MainElements#h1039-14" rel="nofollow noreferrer noopener" target="_blank">Contours group</a>", "<a class="external text" href="http://wiki.oscada.org/HomePageEn/Using/GraphicElementsLibraries/MainElements#h1039-22" rel="nofollow noreferrer noopener" target="_blank">Overview frames panel</a>" and "<a class="external text" href="http://wiki.oscada.org/HomePageEn/Using/GraphicElementsLibraries/MainElements#h1039-37" rel="nofollow noreferrer noopener" target="_blank">Result graphics</a>". In Figure 5.1.1 the template page "Graphics group" is presented in the tree of our project "Start".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1076px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_grah_tmpl.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_grah_tmpl.png" width="1074" /></a>  <div class="thumbcaption">Fig. 5.1.1. Template page "Graphics group".</div></div></div></div>
<p>The template page "Graphics group" provides an opportunity to link up to eight signals for simultaneous display them on the diagram. Elements at the top will automatically hide for unspecified links.
</p><p>Let's create a new group of graphics in the template container "Graphics group" of the first group of the root page. To do this, let's in the context menu of the item "Graphics group" <b>select the menu item "Add visual item"</b> (Fig.5.1.2). To enter the ID and name of the new visual item the dialog will appear (Fig.5.1.3). Enter the ID "2" and the name "Graphics 2" — <b>2 (Graphics 2)</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1076px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_grah_add.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_grah_add.png" width="1074" /></a>  <div class="thumbcaption">Fig. 5.1.2. Adding the group of graphs "Graphics 2".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:310px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_enter_idname.png"><img class="thumbimage" height="192" src="files/QuickStart_ui_enter_idname.png" width="308" /></a>  <div class="thumbcaption">Fig. 5.1.3. Dialog for entering an identifier and a name.</div></div></div></div>
<p>After confirming the name entry, a new page will be created. However, for its activation, we need to enable it. You can enable this page in the dialog of the properties editing of the page (Fig.5.1.4). To open this page it is possible by <b>selecting the menu item "Properties of the visual item"</b> in the context menu of the newly created page. You can create a page in the logical container based on the template by copying the template to yourself, as well as copying another page of this container, but also with links.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:620px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_el_prop.png"><img class="thumbimage" height="483" src="files/QuickStart_ui_el_prop.png" width="618" /></a>  <div class="thumbcaption">Fig. 5.1.4. Dialogue of the properties editing of the visual element.</div></div></div></div>
<p>After enabling the page you are ready to set links to the early created parameters of the controllers. To do this, without leaving the dialog of the properties edition of the newly created page (Fig.5.1.4), click on the tab "Links" (Fig.5.1.5). On this tab, we can see a tree with the elements "el1" ... "el8". Expand any of the elements we'll see the branch "Parameter", and exactly in it we have to specify or choose the address of our attributes "Ti" and "To". In general, we fill out four elements, and during this part of the properties you must specify as constants:
</p>
<ul><li> "name" — <b>val:AT101_1 Ti</b>.</li>
<li> "ed" — <b>val:deg.C</b>.</li>
<li> "max" — <b>val:150</b> (for Ti) and <b>val:100</b> (for To).</li>
<li> "min" — <b>val:0</b>.</li></ul>
<p>If the template of the controller parameter predicts in advance the attributes presence, specified by us as constant, then only the parameter can be specified, and the attributes are arranged automatically. This can be seen by attaching the previously created complex object-tag of the analog signal "ModBus.CM101.TE1314_1".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:620px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_el_prop_lnk.png"><img class="thumbimage" height="649" src="files/QuickStart_ui_el_prop_lnk.png" width="618" /></a>  <div class="thumbcaption">Fig. 5.1.5. Tab "Links" of the dialog of edition of the properties of the visual item.</div></div></div></div>
<p>After completing the linking, we can check what happened as a result of our efforts. To do this we'll close the editing properties dialog and run the project "Start" for execution, about the run button we remember from the previous chapters. Then let's choose the graphics and switch to the second page. With error-free configuration, we should see something similar to that shown in Figure 5.1.6. Note that for the parameter of the complex object-tag, with the established limits of violations, the output value beyond the boundary is marked by an emergency color. In order to see the violation abroad you can set the value of the fan's performance in 100 (Fig.4.2.9).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1026px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_run_grph.png"><img class="thumbimage" height="670" src="files/QuickStart_ui_run_grph.png" width="1024" /></a>  <div class="thumbcaption">Fig. 5.1.6. Group of graphs with the connecting of four signals and one parameter of the object-tag.</div></div></div></div>
<h3><span class="mw-headline" id="Creating_a_new_frame_.E2.80.94_mnemonic_schemes"><span class="mw-headline-number">5.2</span> Creating a new frame — mnemonic schemes</span></h3>
<p>Let's raise the bar and create a new frame, on which we'll put the basic displaying elements of values of our controller parameters. Such frames are usually called the mnemonic schemes and in addition to the dynamics displaying, and even in the first place, contain a static image of the technological process in the mnemonic representation. We are not going to focus on the creation of statics and we'll add the dynamic elements and link them to the parameters of our controllers. And we'll put the created frame to the tree of our project.
</p><p>New frames, destined later to be placed in the project, are to be created and changed in the library of widgets. Let's create the new library of widgets by the selecting of the vertical tab "Widgets" and in the context menu of the window of the widgets libraries <b>select the menu item "New Library"</b> (Fig.5.2.1). In the dialog of entering the name we'll specify <b>CM101 (CM 101)</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:828px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_wlib_add.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_wlib_add.png" width="826" /></a>  <div class="thumbcaption">Fig. 5.2.1. Adding a new widget library.</div></div></div></div>
<p>Next we'll add a new frame by selecting "Library: originals" -&gt; "Group of elements" (Fig.5.2.2) in the context menu of the created library "CM 101". In the dialog of entering the name we'll specify <b>AT101 (AT 101)</b>. In the basis of any frame and page must lay the primitive "Group of elements (Box)", and therefore we have chosen it.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:895px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_w_add.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_w_add.png" width="893" /></a>  <div class="thumbcaption">Fig. 5.2.2. Adding a new frame.</div></div></div></div>
<p>Immediately after the creation of the new frame it is necessary to set its basic properties, characteristic to the mnemonic scheme frame. Properties or attributes of any visual element can be specified in the toolbar "Attributes", pre-selecting the desired visual element. Let's select the created frame "AT 101" and set the following properties:
</p>
<ul><li> "Geometry: width" — <b>900</b>.</li>
<li> "Geometry: height" — <b>600</b>.</li>
<li> "Page: group" — <b>so</b>, for including the frame into the container of the mnemonic schemes, in execution.</li>
<li> "Background: color" — <b>#5A5A5A</b>.</li>
<li> "Border: width" — <b>1</b>.</li>
<li> "Border: color" — <b>black</b>.</li></ul>
<p>As a result, we get an empty frame (Fig.5.2.3), ready to add elements to it. To graphical edit or review the frame you should <b>select the menu item "Visual item edit"</b> of the frame's context menu.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1006px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_w_viewa.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_w_viewa.png" width="1004" /></a>  <div class="thumbcaption">Fig. 5.2.3. View of the new frame and the set attributes of the mnemonic scheme.</div></div></div></div>
<p>Now, to the frame we will add elements for displaying the values of the analog parameter for our four signals and the parameter of the complex object-tag "ModBus.CM101.TE1314_1". To locate the display element of the analog signal on the mnemonic scheme, we need to select it, and then, in the menu of the window, select the menu item "Widget"-&gt;"Library: Main"-&gt;"Analog show"; after which a cursor will appear with the image of this element, which should be brought into the desired area of the mnemonic scheme and press the left mouse button. At the time of adding, a dialog will appear asking for the name of the new item. Similarly, we will add five elements that we call: <b>A1_Ti</b>, <b>A1_To</b>, <b>A2_Ti</b>, <b>A2_To</b> and <b>TE1314_1</b>.
</p><p>In the same way, we add the element of the complex object-tag to the discrete parameter "ModBus.CM101.CB102", for presentation of which we will use a library element "Widget"-&gt;"Library: mnEls"-&gt;"Ball crane" and call it <b>CB102</b>.
</p><p>To display a list of current violations, on the mnemonic scheme we will place an element of the protocol from the library of primitives "Widget"-&gt;"Library: originals"-&gt;"Protocol" and call it <b>Protocol</b>. In the attributes inspector, we will establish the properties of the protocol:
</p>
<ul><li> "Geometry: width" — <b>500</b>.</li>
<li> "Geometry: height" — <b>250</b>.</li>
<li> "View columns" — <b>tm;lev;mess</b>.</li>
<li> "Level" — <b>-1</b>, display current violations of any level.</li>
<li> "Size, seconds" — <b>0</b>, display violations at any depth.</li>
<li> "Tracing period, seconds" — <b>1</b>.</li></ul>
<p>You can place the added items as you want by simply selecting and dragging them by the mouse. In the same way, you can change their size. Simple size changing will only resize the container widget geometry, what often not required. To change the size of the entire widget's content, it must be scaled by holding down the "Ctrl" key while resizing, or by switching the "Resize" status to the "Scale" in the status bar.
</p><p>After performing all the manipulations, we must get the mnemonic scheme with a look similar to Figure 5.2.4.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1077px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_mn.png"><img class="thumbimage" height="693" src="files/QuickStart_ui_mn.png" width="1075" /></a>  <div class="thumbcaption">Fig. 5.2.4. View of the mnemonic scheme with a number of elements.</div></div></div></div>
<p>On this, the procedure for creating a mnemonic scheme will be considered complete. We will store the new library of widgets "CM 101" and proceed to the stage of the location of our mnemonic scheme in the tree of the project "Start".
</p><p>Let's put our mnemonic scheme to the branch "Start"-&gt;"Root page (SO)"-&gt;"Group 1"-&gt;"Mnemos" by selecting the menu item "Library: CM101"-&gt;"AT 101", in the context menu of the project page "Mnemos". Identifier for the new mnemonic scheme let's set to "2" and the name field let's leave blank — <b>2</b>.
</p><p>Next we need to carry out an operation known to us from the previous chapter, that is the establishment of connections to the previously created controller parameters. To do this, we will open the tab "Links" (Fig.5.2.5) of the dialogue of editing the properties of the mnemonic scheme, where we will see the tree with the elements "A1_Ti", "A1_To", "A2_Ti" and "A2_To". Expanding any of the elements, we will see the "Parameter" branch in which we have to specify or select the address of the values of our attributes "Ti" and "To", respectively. In the process of filling the elements, some of the properties must be specified as constants:
</p>
<ul><li> "pName" — <b>val:AT101_1 Ti</b>.</li></ul>
<p>As with the group of graphs in the previous section, for the complex parameters of the object-tag "ModBus.CM101.TE1314_1" and "ModBus.CM101.CB102" you can specify only the parameter and the attributes are arranged automatically.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:704px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_mn_lnk.png"><img class="thumbimage" height="740" src="files/QuickStart_ui_mn_lnk.png" width="702" /></a>  <div class="thumbcaption">Fig. 5.2.5. Tab "Links" of the dialog of editing of the mnemonic scheme properties.</div></div></div></div>
<p>Now we can save our mnemonic scheme and look at the result. To do this, close the dialog of properties and launch our project "Start" for execution. Next, with the paging buttons, switch to our mnemonic scheme and, in the case of an error-free configuration, we must see a similar to Figure 5.2.6.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1039px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_run_mn.png"><img class="thumbimage" height="757" src="files/QuickStart_ui_run_mn.png" width="1037" /></a>  <div class="thumbcaption">Fig. 5.2.6. Mnemonic scheme with four linked signals, complex object-tag parameters and the protocol.</div></div></div></div>
<p>Note that the output value of the complex parameter of the tag-object beyond the boundary of violations is indicated by flashing through an emergency color for: the parameter, the alarm object and the yellow circle below. In addition to flashing, in case of violation, a monotone alarm (often a buzzer) and a speech synthesis of the position of the parameter specified in the "spName" link field (fig.5.2.5) are performed, if the corresponding speech synthesizer is available. When the violation is activated, the buttons with the notification type indication are activated, right and right-below, and by clicking on them the corresponding type of notification is quieted. By pressing on the flashing yellow circle right-below all the notification are quieted. The presence of the violation is also displayed by the record in the protocol we added. In order to see the violation abroad you can set the value of the fan's performance in 100 (Fig.4.2.9). More about the concept of work with the violations can be read in "How to <a href="How_to_Violations.html" title="Special:MyLanguage/Documents/How to/Violations, alarms and notifications">Violations, alarms and notifications</a>".
</p><p>The history of violations can be viewed in the "Protocol of violations" document, which is available when selection the view "Document" (Fig.5.2.7).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1039px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_run_docAlarms.png"><img class="thumbimage" height="757" src="files/QuickStart_ui_run_docAlarms.png" width="1037" /></a>  <div class="thumbcaption">Fig. 5.2.7. The document "Protocol of violations".</div></div></div></div>
<p>The discrete complex parameter of the object-tag "ModBus.CM101.CB102" presented by us in the form of a ball valve is active. That is, it can be selected by having the control panel on the right (Fig.5.2.6), as well as send commands (open or close). You can transfer the commands from the control panel or through the context menu. All actions of the operator, from the control influence, are logged and the protocol document can be viewed at selection the view "Document" (Fig.5.2.8).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1039px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_run_docOperator.png"><img class="thumbimage" height="757" src="files/QuickStart_ui_run_docOperator.png" width="1037" /></a>  <div class="thumbcaption">Fig. 5.2.8. The document "Protocol of interruptions".</div></div></div></div>
<h3><span class="mw-headline" id="Creation_a_new_complex_element"><span class="mw-headline-number">5.3</span> Creation a new complex element</span></h3>
<p>Let's start with the consideration of the tasks of the third level of complexity, that is the creation of a complex element. The creation of a complex element, which includes a combination of different basic primitives, can take place in several stages. As an example, consider a task consisting of two stages:
</p>
<ul><li> Creation the widget "Air cooler" on the basis of the primitive "Elementary figure".</li>
<li> Creation the final grouped widget "Cooler" based on the primitive "Group of elements".</li></ul>
<h4><span class="mw-headline" id="Creation_the_widget_.22Air_cooler.22_on_the_basis_of_the_primitive_.22Elementary_figure.22"><span class="mw-headline-number">5.3.1</span> Creation the widget "Air cooler" on the basis of the primitive "Elementary figure"</span></h4>
<p>We will create a widget in the library "CM 101" created before us. To do this, click the right "mouse" button on the item in this library and select the menu item "Library: originals"-&gt;"Elementary figure", as it is shown in Figure 5.3.1.1, and we call the new element <b>air_cooler (Air cooler)</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:909px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_addElFig.png"><img class="thumbimage" height="693" src="files/QuickStart_addElFig.png" width="907" /></a>  <div class="thumbcaption">Fig. 5.3.1.1. Adding a widget to the "CM 101" library based on the primitive "Elementary figure".</div></div></div></div>
<p>After confirmation, we will have a new widget with the name "Air cooler". Select it in the widget library "CM 101" and open for editing via the context menu of the new element (Fig.5.3.1.2). In the attributes inspector we will set the properties:
</p>
<ul><li> "Geometry: width" — <b>200</b>.</li>
<li> "Geometry: height" — <b>200</b>.</li>
<li> "Fill: color" — <b>lightgrey</b>. Color can be set as using <a class="external text" href="http://www.w3.org/TR/SVG/types.html#ColorKeywords" rel="nofollow noreferrer noopener" target="_blank">the color names</a>, and also in the format #RRGGBB (#RRGGBB-AAA).</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:724px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ElFigWH.png"><img class="thumbimage" height="579" src="files/QuickStart_ElFigWH.png" width="722" /></a>  <div class="thumbcaption">Fig. 5.3.1.2. Primary widget configuration.</div></div></div></div>
<p>Now let's imagine the visual representation of the widget, which can be done in two ways:
</p>
<ul><li> To draw the desired image by the mouse, using the "Line", "Arc", "Bezier curve" and "Fill." The corresponding panel ("Elementary figure tools") appears after entering the edition-drawing mode. Enter this mode, as shown in Figure 5.3.1.3, or by double-clicking the left mouse button on the widget's body.</li>
<li> Manually fill in the "Elements list" field by entering the list of required items and coordinates of the points.</li></ul>
<p>More information about the editor is available <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/Vision#ElFigure" title="Special:MyLanguage/Modules/Vision">here</a>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_goElFigEdit.png"><img class="thumbimage" height="579" src="files/QuickStart_goElFigEdit.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.1.3. Entering the drawing mode of the widget based on the primitive "Elementary figure".</div></div></div></div>
<p>In our example, we will use the second method. For what, in the "Elements list" field of the attribute inspector, we introduce the following list and press "Ctrl" + "Enter":
</p>
<pre style="white-space: pre-wrap;">
line:(20|80):(100|20)
line:(100|20):(180|80)
line:(180|80):(100|140)
line:(100|140):(20|80)
line:(100|20):(100|140)
line:(20|80):(180|80)
line:(50|165):(100|140)
line:(100|140):(150|165)
line:(150|165):(50|165)
fill:(20|80):(100|20):(180|80):(100|140)
fill:(50|165):(100|140):(150|165)
</pre>
<p>In our case, all the points are indicated statically, since dynamic and coordinate changes are not provided in the execution mode, and all other parameters are left by default. So, our widget will take a look at Figure 5.3.1.4.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ElFigFillCl.png"><img class="thumbimage" height="579" src="files/QuickStart_ElFigFillCl.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.1.4. Image corresponding to the widget "Elements list".</div></div></div></div>
<p>Create an icon for our widget, which will be visible in the widget tree of the library "CM 101" (Fig.5.3.1.5).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ElFigPic.png"><img class="thumbimage" height="579" src="files/QuickStart_ElFigPic.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.1.5. Creating an icon of the widget.</div></div></div></div>
<p>On this, the process of creating the first widget can be considered completed. Let's move on to the stage of composition and creation a result widget.
</p>
<h4><span class="mw-headline" id="Creation_a_final-combined_widget_.22Cooler.22_on_the_basis_of_the_primitive_.22Group_of_elements.22"><span class="mw-headline-number">5.3.2</span> <span id="ComplexWdg" title="#ComplexWdg">Creation a final-combined widget "Cooler" on the basis of the primitive "Group of elements"</span></span></h4>
<p>The final widget we'll create in the "CM 101" library. To do this we must click the right mouse button on the library and select the primitive "Group of elements", as it is shown in Figure 5.3.2.1. We will call the new element — <b>elCooler (Cooler)</b>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_addBox.png"><img class="thumbimage" height="579" src="files/QuickStart_addBox.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.1. Adding a widget to the library "CM 101", based on the primitive "Group of elements".</div></div></div></div>
<p>After confirmation, we will have a new widget with the name "Cooler". Select it in the widget library "CM 101" and open for editing. In the attributes inspector we will set the properties:
</p>
<ul><li> "Geometry: width" — <b>250</b>.</li>
<li> "Geometry: height" — <b>200</b>.</li></ul>
<p>Take the previously created element "Air cooler (air_cooler)" and drag it — click on the left mouse button of the mouse and move the cursor to the area of the newly created widget, where we release the button (Fig.5.3.2.2).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_air_coolerDrag.png"><img class="thumbimage" height="579" src="files/QuickStart_air_coolerDrag.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.2. Drag and Drop of the widget "air_cooler" to the widget-container "elCooler".</div></div></div></div>
<p>As a result, a dialog window appears asking you to enter the identifier and the name of the new widget. The identifier and name can be specified arbitrarily. We will enter the identifier <b>air_cooler</b>, and leave the name empty and it will be inherited from the parent — the element "air_cooler". Thus, the newly created widget inside the container "elCooler" will inherit the element "Air cooler (air_cooler)". After confirming the input of the identifier and the name, the "Air cooler (air_cooler)" widget will be added to our widget container "elCooler" (Figure 5.3.2.3). In the attributes inspector, we will set the properties for it:
</p>
<ul><li> "Geometry: x" — <b>25</b>.</li>
<li> "Geometry: y" — <b>0</b>.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_air_coolerDrop.png"><img class="thumbimage" height="579" src="files/QuickStart_air_coolerDrop.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.3. Adding the inherited widget "air_cooler".</div></div></div></div>
<p>Next, we'll expand the menu item of the library "Mnemo elements", we will find there an element "Cooler 2 (cooler2)" and drag it to the widget container. This element will dynamically display the intensity of the air cooler. For the new widget, enter the identifier <b>cooler2</b> and leave the name again empty, after which the "Cooler (cooler2)" widget will be added to our "elCooler" widget-container. Thus, the newly created widget inside the "elCooler" container will inherit the element of the library "Mnemo elements" — "Cooler 2 (cooler2)". In the attributes inspector we will set the properties:
</p>
<ul><li> "Geometry: x" — <b>75</b>.</li>
<li> "Geometry: y" — <b>30</b>.</li>
<li> "Geometry: z" — <b>10</b>. Raise the element above all, you can from the panel "Visibility widget functions".</li>
<li> "Color1" — <b>#FFFF00-200</b>, added alpha channel — transparency 200 ("0" - fully transparent, "255" - fully opaque), as it is shown in Figure 5.3.2.4.</li>
<li> "Color2" — <b>#FF0000-200</b>, added alpha channel — transparency 200.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_cooler2AlphaChange.png"><img class="thumbimage" height="579" src="files/QuickStart_cooler2AlphaChange.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.4. Change the color transparency of the inherited widget "cooler2".</div></div></div></div>
<p>Now, in the "elCooler" widget, add two text fields based on the "Text" primitive, in order to display the input and output flow temperature. To do this, select the "Cooler" widget and, in the visual panel of the "CM 101" library, select the menu item of the primitive "Text" as shown in Figure 5.3.2.5. For the first text field, enter the identifier <b>Ti</b> and, in the attribute inspector, we will set the properties:
</p>
<ul><li> "Geometry: x" — <b>5</b>.</li>
<li> "Geometry: y" — <b>20</b>.</li>
<li> "Geometry: width" — <b>70</b>.</li>
<li> "Geometry: height" — <b>35</b>.</li>
<li> "Alignment" — <b>Center</b>.</li>
<li> "Font" — <b>Arial 14 1</b>. You can change the font in the dialog that opens by pressing the key in the edit field, (Fig.5.3.2.7).</li>
<li> "Text" (Fig.5.3.2.8):</li></ul>
<pre style="white-space: pre-wrap; margin-left: 20px;">
%1
deg.C
</pre>
<ul><li> "Arguments number" — <b>1</b> (Fig.5.3.2.9):
<ul><li> "Argument 0: type" — <b>Real</b>.</li>
<li> "Argument 0: value" — <b>300.25</b>, is given only for clarity and in the execution mode it will be replaced with the real value of the input temperature.</li>
<li> "Аргумент 0: config" — <b>3;f;2</b>.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_BoxAddText.png"><img class="thumbimage" height="579" src="files/QuickStart_BoxAddText.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.5. Adding a new element based on the primitive "Text".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_textGeom.png"><img class="thumbimage" height="579" src="files/QuickStart_textGeom.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.6. Specifying the geometry of the widget "Ti".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_tetxFontChange.png"><img class="thumbimage" height="579" src="files/QuickStart_tetxFontChange.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.7. Changing the font size for the widget "Ti".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_textArgAdd.png"><img class="thumbimage" height="579" src="files/QuickStart_textArgAdd.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.8. Changing the field "Text" and indication of the argument's presence, for the widget "Ti".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_textArgConf.png"><img class="thumbimage" height="579" src="files/QuickStart_textArgConf.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.9. Configuration of the argument of the widget "Ti".</div></div></div></div>
<p>Now, in order to create a similar widget for the output temperature, copy the widget "Ti". Insert the copied widget and give it the identifier <b>To</b> (Fig.5.3.2.10). In the attribute inspector, we will set the properties:
</p>
<ul><li> "Geometry: x" — <b>175</b>.</li>
<li> "Geometry: y" — <b>20</b>.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ToGeom.png"><img class="thumbimage" height="579" src="files/QuickStart_ToGeom.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.10. Widget "To".</div></div></div></div>
<p>Now add a widget based on the primitive "Form element" (Fig.5.3.2.11), which we will use to select the set-points of the cooler productivity. We will specify the identifier <b>cw</b> (Figure 5.3.2.12) and, in the attribute inspector, we will set the properties:
</p>
<ul><li> "Active" — <b>true</b>.</li>
<li> "Geometry: x" — <b>60</b>.</li>
<li> "Geometry: y" — <b>158</b>.</li>
<li> "Geometry: width" — <b>60</b>.</li>
<li> "Geometry: height" — <b>40</b>.</li>
<li> "Geometry: z" — <b>10</b>. Raise the element above all, you can from the panel "Visibility widget functions".</li>
<li> "Element type" — <b>Combo box</b>.</li>
<li> "Font" — <b>Arial 14 1</b>.</li>
<li> "Value" — <b>200</b>.</li>
<li> "Configuration":</li></ul>
<pre style="white-space: pre-wrap; margin-left: 20px;">
0
50
100
150
200
</pre>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_addFormEl.png"><img class="thumbimage" height="579" src="files/QuickStart_addFormEl.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.11. Adding a widget based on the primitive "Form element".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_comboParams.png"><img class="thumbimage" height="579" src="files/QuickStart_comboParams.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.12. Filling the parameters of the combo box "cw".</div></div></div></div>
<p>To display the productivity dimension of the cooler add another widget, based on the primitive "Text". We do the same procedure as for the "Ti" widget. We will specify the identifier <b>dimension</b> (Figure 5.3.2.13) and, in the attribute inspector, we will set the properties:
</p>
<ul><li> "Geometry: x" — <b>125</b>.</li>
<li> "Geometry: y" — <b>168</b>.</li>
<li> "Geometry: width" — <b>80</b>.</li>
<li> "Geometry: height" — <b>20</b>.</li>
<li> "Alignment" — <b>Center</b>.</li>
<li> "Font" — <b>Arial 14 1</b>.</li>
<li> "Text" — <b>rpm</b>.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:796px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_addDimension.png"><img class="thumbimage" height="579" src="files/QuickStart_addDimension.png" width="794" /></a>  <div class="thumbcaption">Fig. 5.3.2.13. Adding the widget "dimension", based on the primitive "Text", and changing of its settings.</div></div></div></div>
<p>To add the processing logic of the "cooler (elCooler)" widget, open the dialog for the properties editing of this visual element and go to the tab "Process". In this tab, we will see the attributes tree of the widget and the text field of the attributes processing program. To solve our task we need to add three attributes: Ti, To, Cw (Fig.5.3.2.14); for which you need to expand the root element ".", select any item inside it and click on the <b>button "Add attribute"</b> below.
</p><p>Next, <b>enable the processing</b> of the attribute <b>value</b> of the combo box "cw", as shown in Figure 5.3.2.15. Similarly, we will turn on the <b>arg0val</b> attribute for Ti and To as well as the <b>speed</b> attribute for the "cooler2" element.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:865px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_elCoolerAtrrAdd.png"><img class="thumbimage" height="472" src="files/QuickStart_elCoolerAtrrAdd.png" width="863" /></a>  <div class="thumbcaption">Fig. 5.3.2.14. Adding three attributes for the element "elCooler" of the library "CM 101".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:882px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_cwValueProc.png"><img class="thumbimage" height="475" src="files/QuickStart_cwValueProc.png" width="880" /></a>  <div class="thumbcaption">Fig. 5.3.2.15. Enabling the processing of the attribute "value" of the combo box "cw".</div></div></div></div>
<p>Finally, we will install the user programming language "JavaLikeCalc.JavaScript" and write this very program for processing the widget:
</p>
<pre style="white-space: pre-wrap;">
Ti_arg0val = Ti;
To_arg0val = To;

for(ev_rez = "", off = 0; (ev_wrk=event.parse(0,"\n",off)).length; )
    if(ev_wrk == "ws_CombChange:/cw") Cw = cw_value;
    else ev_rez += ev_wrk+"\n";
event = ev_rez;

cw_value = Cw;
cooler2_speed = Cw/5;
</pre>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> Placing or editing the widget program does not directly compile it, that is, there will be no error messages in the program, if they have a place to be. This is due to the fact that the direct execution of the program, and thus its compilation, is carried out in the context of execution and at the moment of starting up of the visualization project for execution. In this case, all errors that occurred during the compilation are displayed as OpenSCADA messages, and the error widgets are not executed. For details on how to debug user procedures, see "How to <a href="How_to_Debug.html" title="Special:MyLanguage/Documents/How to/Debug"> Debug OpenSCADA project</a>".
</p><p>The resulting tab "Process" of the widget "elCooler" of the library "CM 101" will look like shown in Figure 5.3.2.16.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:861px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_UserProgElCooler.png"><img class="thumbimage" height="475" src="files/QuickStart_UserProgElCooler.png" width="859" /></a>  <div class="thumbcaption">Fig. 5.3.2.16. The resulting tab "Process" of the widget "elCooler" of the library "CM 101".</div></div></div></div>
<p>Close the dialog for editing the properties of the visual element, create an icon for our element, close the internal editing window and save it all.
</p><p>On this, the development of a complex element can be considered complete.
</p>
<h4><span class="mw-headline" id="Adding_the_complex_element_to_the_mnemonic_scheme"><span class="mw-headline-number">5.3.3</span> Adding the complex element to the mnemonic scheme</span></h4>
<p>To test the operability and to evaluate the results of our efforts, let's add the created widget to the mnemonic scheme, developed in chapter 5.2. We perform this operation for two coolers "AT101_1" and "AT101_2".
</p><p>To do this, we will open the frame of the mnemonic scheme "AT 101" for editing. Grab our complex element by the "mouse" and drag to the mnemonic scheme, where we drop it in the desired position. Enter the identifiers <b>AT101_1</b> and <b>AT101_2</b>, respectively. Place the added items as convenient to us. After performing these manipulations, we must get the mnemonic scheme with a look in Figure 5.3.3.1.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1070px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_mn2.png"><img class="thumbimage" height="655" src="files/QuickStart_ui_mn2.png" width="1068" /></a>  <div class="thumbcaption">Figure 5.3.3.1. The mnemonic scheme with our complex elements.</div></div></div></div>
<p>We will save the new mnemonic scheme and close its window. Next, let's move on to the project and open this mnemonic in the project tree "Start"-&gt;"Root page (SO)"-&gt;"Group 1"-&gt;"Mnemos"-&gt;"AT 101". As you can see, our new elements are appeared here automatically and we only need to connect the links to them. To do this we'll open the dialog of editing the properties of the mnemonic scheme on the tab "Links" (Fig.5.3.3.2). On this tab, we can see the tree with the elements "AT101_1" and "AT101_2", expanding any we'll see the branch "Parameter" with the attributes "Ti", "To" and "Cw", thus we can simply specify in the field "Parameter" the address of the parameter <b>prm:/LogicLev/CM101/AT101_1</b> and <b>prm:/LogicLev/CM101/AT101_2</b>, respectively, and the attributes will be placed automatically.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:620px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_mn2_lnk.png"><img class="thumbimage" height="468" src="files/QuickStart_ui_mn2_lnk.png" width="618" /></a>  <div class="thumbcaption">Fig. 5.3.3.2. Tab "Links" of the dialog of editing the mnemonic scheme properties.</div></div></div></div>
<p>Let's save our mnemonic scheme and check the result. For what, close the dialog of properties, start the project "Start" for execution and switch to the second mnemonic scheme, with the paging buttons. In the error-free configuration, we have to see a similar image as shown in Figure 5.3.3.3.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1039px;"><a class="image" href="http://oscada.org/wiki/File:QuickStart_ui_run_mn2.png"><img class="thumbimage" height="757" src="files/QuickStart_ui_run_mn2.png" width="1037" /></a>  <div class="thumbcaption">Fig. 5.3.3.3. The resulting mnemonic scheme.</div></div></div></div>
<p>On this mnemonic scheme through our complex elements we can not only observe but also to control the productivity of the coolers, simply by changing the value in the combo box. Changing performance, we can notice the change in temperature and signaling on the complex analog parameter of the object-trend. We can see and review the history of changes on the graphics group, we created in Section 5.1, and the document "Protocol of violations", mentioned in Section 5.2.
</p>
<h2><span class="mw-headline" id="Conclusion"><span class="mw-headline-number">6</span> Conclusion</span></h2>
<p>In this way, we have received a full-featured typical interface of the tecnological process (TP) with real data acquisition in a variety of ways, and thus got the look and skills of working with OpenSCADA.
</p><p>When constructing the TP interface, we looked at all the three levels of complexity, and hence we got the vision of the desired level of SCADA programmer.
</p><p>Data acquisition and processing have been reviewed and implemented in a variety of ways, from the simple-typical and to the mirroring data model of the PLC built on the basis of OpenSCADA. That is, there got the vision of data sources of SCADA systems and the accessing to them through the network interfaces and exchenging protocols, supported by the corresponding modules of OpenSCADA.
</p><p>And of course, we reviewed the distribution methods of OpenSCADA, how to install it and get the right environment, such as: SCADA server, OpenSCADA PLC and operator work place.
</p><p>Information about OpenSCADA is not limited to this document, and you must use, in solving specific questions, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Home" title="Special:MyLanguage/Home">all available documentation</a> and examples of the demo configurations-models of OpenSCADA, using the same benefits of Open Source. Especially we must note here again "<a href="Program_manual.html" title="Special:MyLanguage/Documents/Program manual">Program manual</a>", "<a href="How_to.html" title="Special:MyLanguage/Documents/How to">How to ...</a>" and "<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Using/Model_AGLKS" title="Special:MyLanguage/Using/Model AGLKS">Dynamic real-time simulator AGLKS</a>" as more complete sources of information about OpenSCADA.
</p>
<h2><span class="mw-headline" id="Links"><span class="mw-headline-number">7</span> Links</span></h2>
<ul><li> <a class="external" href="http://oscada.org/wiki/File:QuickStart_SimpleStationAndServer.odg" title="File:QuickStart SimpleStationAndServer.odg">Diagram: Simple united connecting of SCADA station and server with the data source in the demo database.</a></li></ul>






</div></body>
</html>