<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Modules/VCAEngine - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="http://oscada.org"><img alt="OpenSCADA" src="../../en/files/Logo-big.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="en">Modules/VCAEngine</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">English</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../ru/Modules/VCAEngine.html" title="Модули/Движок Среды Визуализации и Управлений (СВУ) (100% translated)">российский</a>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../uk/Modules/VCAEngine.html" title="Модулі/Рушій Середовища Візуалізації та Управління (СВУ) (100% translated)">українська</a></div></div>
<table class="wikitable">

<tr>
<th> Module </th>
<th> Name </th>
<th> Version </th>
<th> License </th>
<th> Source </th>
<th> Languages </th>
<th> Platforms </th>
<th> Type </th>
<th> Author
</th></tr>

<tr>
<td> <a href="../Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">VCAEngine</a> </td>
<td> Visual control area engine
</td>
<td> 6.9 </td>
<td> GPL2 </td>
<td> ui_VCAEngine.so </td>
<td> en,uk,ru,de </td>
<td> x86,x86_64,ARM
</td>
<td> UI </td>
<td> Roman Savochenko<br />&nbsp;&nbsp;<font size="-2"><i>Maxim Lysenko (2011-2012) — the page initial translation</i></font>
</td></tr>
<tr>
<th colspan="9"> Description
</th></tr>
<tr>
<td colspan="9"> The main engine of the visual control area.
<ul><li> <b>To Do:</b></li></ul>
<dl><dd> - append the image files edition user API for raster (PNG, JPEG, GIF), by LibGD2, and vector (SVG):
<dl><dd>+ append the images loading and saving their changes into the session table from the user procedures, allows to edit SVG (XML);</dd>
<dd>- implement the main functions of the GD object (into <a href="../Modules/FLibSYS.html" title="Special:MyLanguage/Modules/FLibSYS">Special.FLibSYS</a>).</dd></dl></dd>
<dd> ... <i>for <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a> also</i> ...</dd>
<dd> - move the runtime requests to VCAEngine in the asynchronous mode;
<dl><dd>&nbsp;!&gt; has a problem with processing recursive events into event(), in the case of the mouse release events loss in processing the pressing mouse event.</dd></dl></dd>
<dd> - implement the background execution of the edited pages in the development mode, for the visual diagram forming jointly <a href="../Modules/BlockCalc.html" title="Special:MyLanguage/Modules/BlockCalc">BlockCalc</a> and DAQ-sources at all.</dd>
<dd> ... <i>for <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a> and <a href="../Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision</a> also</i> ...</dd>
<dd> - append for the user-space global menu by the project-specific properties;</dd>
<dd> - develop the block diagrams forming (dynamic frames) from the GUI.</dd></dl>
</td></tr></table>
<p>The module provides OpenSCADA for visual control area engine (VCA). The module itself does not implement visualization of VCA, but contains data in accordance with the concept "Model/Data — Interface". The visualization of this module's data is performed by the visualization modules of VCA, such as <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a> and <a href="../Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision</a>.
</p><p>Visual control area (VCA) is an integral part of the SCADA system. It applies to the client stations with a view to providing accessible information about the control object and to for the the issuance of the control actions to the object. In various practical situations and conditions the VCA, based on different principles of visualization, may by applied. For example, this may be the library of widgets Qt, GTK+, WxWidgets or hypertext mechanisms based on the technologies HTML, XHTML, XML, CSS and JavaScript, or third-party applications of visualization, realized in various programming languages Java, Python, etc. Any of these principles has its advantages and disadvantages, the combination of which could become an insurmountable obstacle to the use of VCA in a practical case. For example, technologies like the Qt library can create highly-productive VCA, which will undoubtedly important for the operator station for control the technological processes (TP). However, the need for installation of that client software in some cases may make using of it impossible. On the other hand, Web-technology does not require installation on client systems and is extremely multi-platform (it is enough to create a link to the Web-server at any Web-browser) that is most important for various engineering and administrative stations, but the productivity and reliability of such interfaces is lower, that actually eliminates the using of them at the operator stations of TP.
</p><p>OpenSCADA has extremely flexible architecture that allows you to create external interfaces, including user, in any manner and taste. For example, the OpenSCADA configuration environment available now as by means of the Qt-library, and also the Web-based.
</p><p>At the same time, independent creation of the VCA implementations in different basis may cause the inability to use the configuration of one VCA into another one. That is inconvenient and limited from the user side, as well as costly in terms of implementation and follow-up support.
</p><p>In order to avoid these problems, as well as to create as soon as possible the full spectrum of different types of VCA, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/VCA" title="Special:MyLanguage/Sub-projects/VCA">the project for the construction of the concept of VCA </a> is founded. The result of this project was this engine module (data model) of VCA, as well as direct visualization modules <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a> and <a href="../Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision</a>.
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Purpose"><span class="tocnumber">1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Configuration_and_formation_of_the_VCA_interfaces"><span class="tocnumber">2</span> <span class="toctext">Configuration and formation of the VCA interfaces</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Architecture"><span class="tocnumber">3</span> <span class="toctext">Architecture</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Frames_and_elements_of_the_visualization_.28widgets.29"><span class="tocnumber">3.1</span> <span class="toctext">Frames and elements of the visualization (widgets)</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Project"><span class="tocnumber">3.2</span> <span class="toctext"><span>Project</span></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Session_of_the_project_execution"><span class="tocnumber">3.3</span> <span class="toctext">Session of the project execution</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Styles"><span class="tocnumber">3.4</span> <span class="toctext">Styles</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Events.2C_their_processing_and_the_events.27_maps"><span class="tocnumber">3.5</span> <span class="toctext">Events, their processing and the events' maps</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Signaling_.28Alarms.29"><span class="tocnumber">3.6</span> <span class="toctext"><span>Signaling (Alarms)</span></span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Rights_management"><span class="tocnumber">3.7</span> <span class="toctext">Rights management</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Linkage_with_the_dynamics"><span class="tocnumber">3.8</span> <span class="toctext">Linkage with the dynamics</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Primitives_of_the_widgets"><span class="tocnumber">3.9</span> <span class="toctext"><span>Primitives of the widgets</span></span></a>
<ul>
<li class="toclevel-3"><a href="#Elementary_graphical_figure_.28ElFigure.29"><span class="tocnumber">3.9.1</span> <span class="toctext"><span>Elementary graphical figure (ElFigure)</span></span></a></li>
<li class="toclevel-3"><a href="#Element_of_the_form_.28FormEl.29"><span class="tocnumber">3.9.2</span> <span class="toctext"><span>Element of the form (FormEl)</span></span></a></li>
<li class="toclevel-3"><a href="#Text_element_.28Text.29"><span class="tocnumber">3.9.3</span> <span class="toctext"><span>Text element (Text)</span></span></a></li>
<li class="toclevel-3"><a href="#Element_of_visualization_of_media-materials_.28Media.29"><span class="tocnumber">3.9.4</span> <span class="toctext"><span>Element of visualization of media-materials (Media)</span></span></a></li>
<li class="toclevel-3"><a href="#Element_of_constructing_diagrams_.28Diagram.29"><span class="tocnumber">3.9.5</span> <span class="toctext"><span>Element of constructing diagrams (Diagram)</span></span></a></li>
<li class="toclevel-3"><a href="#Element_of_building_the_protocols_based_on_the_message_archives_.28Protocol.29"><span class="tocnumber">3.9.6</span> <span class="toctext"><span>Element of building the protocols based on the message archives (Protocol)</span></span></a></li>
<li class="toclevel-3"><a href="#Element_of_formation_of_the_documentation_.28Document.29"><span class="tocnumber">3.9.7</span> <span class="toctext"><span>Element of formation of the documentation (Document)</span></span></a></li>
<li class="toclevel-3"><a href="#Container_.28Box.29"><span class="tocnumber">3.9.8</span> <span class="toctext"><span>Container (Box)</span></span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#Database_using_to_store_libraries_of_widgets_and_projects"><span class="tocnumber">3.10</span> <span class="toctext">Database using to store libraries of widgets and projects</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#API_of_the_user_programming_and_service_interfaces_of_OpenSCADA"><span class="tocnumber">3.11</span> <span class="toctext"><span>API of the user programming and service interfaces of OpenSCADA</span></span></a>
<ul>
<li class="toclevel-3"><a href="#API_of_the_user_programming"><span class="tocnumber">3.11.1</span> <span class="toctext"><span>API of the user programming</span></span></a></li>
<li class="toclevel-3"><a href="#Service_interfaces_of_OpenSCADA"><span class="tocnumber">3.11.2</span> <span class="toctext">Service interfaces of OpenSCADA</span></a>
<ul>
<li class="toclevel-4"><a href="#Access_to_the_attributes_values_of_the_visualization_elements_.28widgets.29"><span class="tocnumber">3.11.2.1</span> <span class="toctext">Access to the attributes values of the visualization elements (widgets)</span></a></li>
<li class="toclevel-4"><a href="#Group_access_to_the_values_of_the_attributes_of_the_visualization_elements_.28widgets.29"><span class="tocnumber">3.11.2.2</span> <span class="toctext">Group access to the values of the attributes of the visualization elements (widgets)</span></a></li>
<li class="toclevel-4"><a href="#Access_to_the_session_pages"><span class="tocnumber">3.11.2.3</span> <span class="toctext">Access to the session pages</span></a></li>
<li class="toclevel-4"><a href="#Control_for_signaling_.28alarming.29"><span class="tocnumber">3.11.2.4</span> <span class="toctext">Control for signaling (alarming)</span></a></li>
<li class="toclevel-4"><a href="#Manipulation_with_the_sessions_of_the_projects"><span class="tocnumber">3.11.2.5</span> <span class="toctext">Manipulation with the sessions of the projects</span></a></li>
<li class="toclevel-4"><a href="#Group_request_for_the_tree_of_the_widgets_libraries"><span class="tocnumber">3.11.2.6</span> <span class="toctext">Group request for the tree of the widgets libraries</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Configuring_the_module_via_the_control_interface_of_OpenSCADA"><span class="tocnumber">4</span> <span class="toctext">Configuring the module via the control interface of OpenSCADA</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Purpose"><span class="mw-headline-number">1</span> Purpose</span></h2>
<p>This engine module (data model) of the VCA is aimed to create the logical structure of the VCA and the execution of sessions of individual instances of the VCA projects. Also, the module provides all the necessary data to the final visualizers of the VCA, both through local mechanisms of interaction of OpenSCADA, and through the control interface of OpenSCADA for remote access.
</p><p>Final version of the VCA module will provide:
</p>
<ul><li> three levels of difficulty in the formation of the visualization interface, which allow organically to develop and apply the tools by the principle — from simple to complex:</li></ul>
<dl><dd><ol><li> formation from the template frames, by assigning the dynamics and without the graphical configuration;</li>
<li> graphical formation of new frames, using ready-made visualization elements from the library - mnemosmes;</li>
<li> forming, in the library, new ones: frames, template frames and display elements.</li></ol></dd></dl>
<ul><li> construction of interfaces for visualization of practically any complexity (limited by the "discreteness" of the primitive functions), ranging from simple monitoring interfaces, and to complete hierarchical interfaces used in SCADA systems;</li>
<li> providing the different ways of forming and configuration of the user interface, based on different interfaces of graphical representation (Qt, Web, ...), or-through the standard interface of OpenSCADA control;</li>
<li> construction and correction of the interface, appointment and change of the dynamics in the process of the execution;</li>
<li> construction, at the user level, of new template frames and the formation of specialized ones, under the scope, libraries of frames (e.g. the inclusion of parameters frames, diagrams and other elements linking them to each other), according to the idea of secondary use, accumulation and improvement;</li>
<li> construction of new custom visualization elements and the formation of specialized, at the field of application, libraries of frames, according to the idea of secondary use, accumulation and improvement;</li>
<li> description of the logic of new template frames and user visualization elements as by the simple links as well by the compact and full-featured user programming language;</li>
<li> possibility of inclusion, to the user's visualization elements, the functions (or frames of functions' calculation) of the object model of OpenSCADA, practically linking the presentation with the algorithm of computation, for example, visualizing the library of the apparatus of TP models for subsequent visual building of the TP models;</li>
<li> separation the data of the user interfaces and presentation interfaces of these data, allowing to build the user interface in the one environment, and execute in many others (Qt, Web, ...);</li>
<li> ability to connect to the executable interface for monitoring and correction of actions; for example, training operators and monitoring their actions in real time;</li>
<li> visual construction of various schemes with overlapping logical connections and subsequent centralized execution in the background - visual construction and execution of mathematical models, logic circuits, relay circuits and other;</li>
<li> providing, to OpenSCADA, object API functions; can be used to control the properties of the visualization interface from user procedures;</li>
<li> server construction for: frames, visualization elements and visualization interface projects; with the ability to service multiple client connections;</li>
<li> simple organization of client stations on different bases (Qt, Web, ...) with the connection to the central server;</li>
<li> full-featured mechanism for distributing authorities between users that allows you to create and execute projects with different rights to access their components;</li>
<li> flexible formation of rules of alarms and notifications, with the support of various methods of the notification;</li>
<li> support of custom formation of the palette and font preferences for the visualization interface, in styles;</li>
<li> support of the user forming of the events maps under various control equipment and user's preferences;</li>
<li> support for user profiles, allowing the identification of various properties of the visualization interface (colors, font features, the preferred card of events);</li>
<li> flexible storage and distribution of libraries of widgets, frames and projects of the visualization interfaces in the databases, supported by OpenSCADA; practically, the user only has to register the received database with the data.</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Configuration_and_formation_of_the_VCA_interfaces"><span class="mw-headline-number">2</span> Configuration and formation of the VCA interfaces</span></h2>
<p>Module itself does not contain mechanisms for visual creating interfaces of VCA, such tools can be given by the final visualization modules of the VCA, for example such a tool provides by the module <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a>.
</p><p>Although the mechanisms for the visual formation of the VCA the module doesn't provide, the interface to manage the logical structure is provided, implemented on the basis of the control interface of OpenSCADA, and thus it is available for use in any OpenSCADA configurator. Dialogues of this interface are considered further in the context of the architecture of the module and its data.
</p>
<h2><span class="mw-headline" id="Architecture"><span class="mw-headline-number">3</span> Architecture</span></h2>
<p>VCA, in whole, can operate in two modes — the development and running. In the mode of development, the interface of the VCA and its components is formed, the mechanisms of interaction are determined. In the execution mode, performes the formation of the UI interface and the interaction with the end user, based on the developed VCA.
</p><p>VCA interface is formed of the frames, each of which, in its turn, formed from elements of the primitives, or user interface elements. Herewith, the user interface elements are also formed from the primitives or other user elements. That gives us a hierarchy and reuse of already developed components.
</p><p>Frames and user elements are placed in the libraries of widgets. The projects of the interfaces of the final visualization of the VCA are formed from these libraries' elements. Based on these projects the visualization sessions are formed.
</p><p>The described VCA structure is shown in the Figure.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:VCA_struct.png"><img alt="VCA struct.png" height="938" src="../files/VCA_struct.png" width="855" /></a></div></div>
<p>That architecture of the VCA allows the support of three levels of complexity of the developing process of the control interface:
</p>
<ul><li> Forming of the visualization and control (VC) interface using the library of template frames by placing the templates of the frames in the project and by the assignment of the dynamics.</li>
<li> In addition to the first level, performing of the formation of own frames based on the library of derivatives and basic widgets. Perhaps as a direct appointment of the dynamics in the widget, and the subsequent appointment of it in the project.</li>
<li> In addition to the second level, performing of the independently forming of derivatives widgets, new template frames and also the frames with the use of mechanism of describing the logic of interaction and handling of events in the user programming language of OpenSCADA.</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Frames_and_elements_of_the_visualization_.28widgets.29"><span class="mw-headline-number">3.1</span> Frames and elements of the visualization (widgets)</span></h3>
<p>Frame is the window, which directly provides information to the user in graphical or text form. The group of interconnected frames creates whole user interface of VC.
</p><p>Content of the frame forms from the visualization elements (widgets). Widgets may be the basic primitives (different elementary figures, text, trend, etc.) and derivative, formed from the basic or other derivative widgets. All widgets are grouped by libraries. In the process of the work, the user can create his own libraries of derivative widgets.
</p><p>Actually the frame itself is also a widget that is used as a final element of visualization. This means that the widget libraries can store the blanks of frames and the templates of the resulting pages of the user interface.
</p><p>Frames and widgets are passive elements that do not normally contain links to the dynamics and other frames, but only provide information about the properties and the nature of the dynamics (configuration), connected to the properties. Activated frames, i.e. containing links to the dynamics and active connections, form the user interface and are stored in the projects. In some cases, it is possible the direct appointment of the dynamics in the blanks of frames.
</p><p>Derivative frames/widgets can contain included widgets, which can be glued-linked of one another with the logic by the user programming language of OpenSCADA.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:VCA_widget.png"><img alt="VCA widget.png" height="585" src="../files/VCA_widget.png" width="800" /></a></div></div>
<p>The widget is an element through which the following is provided:
</p>
<ul><li> visualization of operational and archive information about TP;</li>
<li> alarming about violations of conduction the TP;</li>
<li> switching between the frames of TP;</li>
<li> control of the technological equipment and the parameters of conduction the TP.</li></ul>
<p>Setting and linkage of the widgets is done through their properties. Parent widget and the widgets it contains, can be complemented by user properties. Then, the user and static attributes, are associated with the properties of included widgets by internal logic. To show the dynamics (current and archived data), properties of the widgets are dynamized, that is linked with the attributes of the parameters of OpenSCADA or properties of other widgets. Using, for linking nested widgets by internal logic, the user programming language of OpenSCADA relieves the issue of implementing a complex visualization logic, thus providing high flexibility. Practically, you can create fully dynamized frames with complex interactions at the user level.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Project"><span class="mw-headline-number">3.2</span> <span id="Project" title="#Project">Project</span></span></h3>
<p>The direct configuration, and the properties of the final visualization interface, are contained in the visualization interface project of VCA, which can be created a lot.
</p><p>Each project includes pages from the libraries of the frames/widgets. For a number of modes, the page itself may include nested pages as parent-independent and using parent as a template. The template pages-widgets allow to extremely simplify the process of creating the same type of the frames for easy monitoring by the ACS-TP engineer or the user OpenSCADA. An example of such one-type frames may be: groups of contours, groups of graphs, reports and various summary tables. Mnemonic schemes of the technological processes rarely fall under such scheme and are formed on a separate page-widget.
</p><p>The page, like the widget on which it is based, provides the ability to bind the dynamics to the properties described in it — links that can be set by dynamics or constants. In addition, linking directly at the project page level are more preferable than performing it at the library widget level.
</p><p>Example of hierarchical representations of components of the project of the classical interface of VC of the technological process with the description of standard call expressions is given in Figure.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:VCA_prog_tree.png"><img alt="VCA prog tree.png" height="681" src="../files/VCA_prog_tree.png" width="437" /></a></div></div>
<p>The following special page properties are provided:
</p>
<ul><li> <i>Container</i> — page is the container for the underlying pages.</li>
<li> <i>Template</i> — page is the template for the underlying pages.</li>
<li> <i>Empty</i> — empty and inactive page. This property is used in conjunction with the property <i>Container</i> for organization the logical containers.</li>
<li> <i>Link</i> — link to other page as a container of sub-pages which will be used on the project execution side (sessions) without their different creation. </li></ul>
<p>Based on combinations of these properties the following types of pages are realized:
</p>
<ul><li> <i>Standard</i> — the standard page (no property), it is the full-featured final page.</li>
<li> <i>Container</i> — the full-featured page with the property of the container (<i>Container</i>).</li>
<li> <i>Logical container</i> — the logical container is actually not a page (<i>Container</i>|<i>Empty</i>), acts as an intermediate and group element in the page tree.</li>
<li> <i>Template</i> — the template page (<i>Template</i>). Pure template page that is used to describe common properties and to identify them in nested pages, privately.</li>
<li> <i>Container and template</i> — the template and container page (<i>Template</i>|<i>Container</i>), combines the functions of the template and the container.</li>
<li> <i>Link</i> — link to other page. The links can be used for fully dynamic and high replicated pages, to optimize the memory consumption. To different the linked pages opening you must use the attribute "path". <a href="#UserAPI">The user API</a> function uiCmd() must be used to that pages type managing before the direct writing to the page attributes "pgOpen" and "pgOpenSrc".</li></ul>
<p>On the visualization side (RunTime) a logic is constructed that governs how to open pages based on the following attributes of the basic element "Box":
</p>
<ul><li> <i>pgOpen</i> — sign "The page is opened";</li>
<li> <i>pgNoOpenProc</i> — sign "Execute the page, even if it is not opened";</li>
<li> <i>pgOpenSrc</i> — contains the widget address or the page that opened the current page; in the case of an included container widget, here is the address of the included page; to open a page from an internal procedure it is enough to specify the address of the widget-source of opening, but for the pages type "Link" you must prefer of <a href="#UserAPI">the user API</a> function uiCmd() using to the pages managing;</li>
<li> <i>pgGrp</i> — group of pages used to link container pages to pages, according to a common group.</li></ul>
<p>The logic of determining how to open pages works like this:
</p>
<ul><li> if the page has the group "main" or coincides with the page group in the main window or there is no page on the main window, then open the page in the main window;</li>
<li> if the page has a group which coincides with the group one of the containers of the current page, then open it in the container;</li>
<li> if the source of the opening page coincides with the current page, then open it as an additional window over the current page;</li>
<li> send the call to the opening request for additional windows, processing each of the first three items;</li>
<li> if any one of the relative windows doesn't open the new page, then open it as a related window of the main window.</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Session_of_the_project_execution"><span class="mw-headline-number">3.3</span> Session of the project execution</span></h3>
<p>The project session is expanded tree of the project for direct it execution, which includes an individual task of hierarchical the widget's procedures execution. For each project can be opened many sessions. The end-user visual interface forming performs by the visualizers from data of the project's session, after the session creation by the request.
</p><p>Between the widgets, at different levels of the hierarchy, finally formed fairly complex hereditary links, which are determined by the possibility of using some widgets by others, ranging from the library widget to the session widget. To explain these features of interaction, the figure shows an exhaustive map of "using" inheritance.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:VCA_map_inher.png"><img alt="VCA map inher.png" height="1020" src="../files/VCA_map_inher.png" width="794" /></a></div></div>
<p>At the session level widget contains a object of values of calculation procedure. This object is initiated and used in the case of presence of the calculation procedure itself. At the time of the initialization, the list of parameters of the procedure is created and a compilation of the procedure is performed with these parameters, in the module that implements the selected programming language and with the name of the resulting procedure in the form of a coded full name of the widget. The compiled function is connected to the object of values of the calculation procedure, and further the calculation is performed with the session period.
</p><p>Calculation and processing of the widget runs in the following sequence:
</p>
<ul><li> the events available at the time of calculation are selected from the attribute "event" of the widget;</li>
<li> the events are loaded into the parameter "event" of the object of computation;</li>
<li> values of the input links are loaded into the object of calculation;</li>
<li> values of special variables (f_frq, f_start and f_stop) are loaded into the computation object;</li>
<li> values of selected parameters of the widget are loaded into the object of computation;</li>
<li> computation; </li>
<li> uploading the computation object's values to the selected parameters of the widget;</li>
<li> uploading the events from the parameter "event" of the computation object;</li>
<li> processing the events and transfer the unprocessed ones at the level above.</li></ul>
<p>The session objects of the project inherit from an abstract object "Widget" and use the appropriate objects of the project. Thus, the session "Session" uses the project "Project" and forms expanded tree on its basis. Project page "Page" is directly used by the session page "SessPage". The remaining objects "SessWdg" are deployed in accordance with the hierarchy of page elements.
</p><p>In addition to the standard properties of the abstract widget "Widget", elements of the pages and the session pages themselves get the following properties: storage of the object of values of the computational procedure, calculation of the procedures and mechanism for processing of the events. Pages of the session, in addition, contain a container of the following by the hierarchy pages. The session, in general, is calculated with the specified periodicity and in sequence:
</p>
<ul><li> "Page of the top level" -&gt; "Page of the lower level" </li>
<li> "Widget of the lower level" -&gt; "Widget of the top level"</li></ul>
<p>This policy allows to bypass the pages according to their hierarchy, and events in the widgets "climb up" during one iteration.
</p><p>The sessions support multi-language at the level of <a href="../API.html#CntrNode" title="Special:MyLanguage/Documents/API">the control interface of OpenSCADA</a>, which depended from values of the generic attributes "lang" and "user" and which visualizer can set in proper way of own language. This function is enabled by <a href="../Program_manual.html#Config" title="Special:MyLanguage/Documents/Program manual">dynamic messages translation of OpenSCADA</a>.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Styles"><span class="mw-headline-number">3.4</span> Styles</span></h3>
<p>It knows that people can have individual features in the perception of graphical information. If these features are not taken into account, it is possible to obtain the rejection and abruption of the user to the interface of VC. This rejection and abruption can lead to fatal errors in the management of TP, as well as traumatize the human by the continuous work with the interface. In SCADA systems, arrangements have been made that regulate the requirements for creating the unified UI interface, which is normally perceived by most people. This is practically eliminates the features of people with some deviations.
</p><p>In order to take this into account and allow centralized and easy to change the visual properties of the interface module is implementing a theme manager of the visualization interface.
</p><p>User can create many themes, each of which will keep the color, font and other properties of the frame elements. Simple changing of the theme will allow you to change the interface of VC, and the possibility of appointing an individual theme in the user's profile allows to take into account his individual features.
</p><p>To realize this opportunity, when creating a frame, it is necessary for the properties of color, font and others set the "Configuration" (of the table in the "Process" tab) in the value of "From style". And in the parameter "Configuration template" to specify the identifier of the style field. Next, this field will automatically appear in the style manager and can be modified there. The style manager is available on the project configuration page in the tab "Styles". In this tab, you can the styles create, delete and edit, delete their fields.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:643px;"><a class="image" href="http://oscada.org/wiki/File:VCA_prj_stl.png"><img class="thumbimage" height="523" src="../files/VCA_prj_stl.png" width="641" /></a>  <div class="thumbcaption">Figure. Tab "Styles" of the configuration page of the project.</div></div></div></div>
<p>In general, the styles are available from the project level. At the level of the widget libraries you can only define the style fields for the widgets. At the project level, at the choice of style, it is started the work with styles, which includes access to the fields of styles instead of direct attribute values. In fact, this means that when reading or writing a widget attribute these operations will be carried out with the corresponding field of the chosen style.
</p><p>When starting a project, the project-style will be used. In the future, the user can choose a style from the list of available. The user-selected style will be saved and used the next time the project is launched.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Events.2C_their_processing_and_the_events.27_maps"><span class="mw-headline-number">3.5</span> Events, their processing and the events' maps</span></h3>
<p>Given the range of tasks for which OpenSCADA may be used, it is necessary to provide a tool for control of interactive user events. This is due to the fact, that in dealing with individual tasks of embedded systems, input and control devices can greatly vary. But it is enough to look at the regular office keyboard and notebook one, that would remove any doubt about the necessity for the manager of events.
</p><p>The events manager must work using the maps of events. Events map is a list of named events with indicating its origin. The origin of the events can be a keyboard, mouse, joystick, etc. At an event emerge the events manager is looking for it in the active map and compares with the name of the event. A comparison name of the event is placed in the queue for processing. Widgets in this case must process the given queue of events.
</p><p>The active map of the events is specified in the profile of each user or it is set by default, <span style="color: red">in planes</span>.
</p><p>In general, four types of events are provided:
</p>
<ul><li> events of the VCA shapes-primitives (prefix: <b>ws_</b>), for example, the event of pressing of the screen button — "ws_BtPress";</li>
<li> keyboard events (prefix: <b>key_</b>) — all events from mouse and keyboard in the form of — "key_presAlt1";</li>
<li> user events (prefix: <b>usr_</b>) are generated by the user in the procedures of the widgets calculation;</li>
<li> mapping events (prefix: <b>map_</b>) — events from the events map, <span style="color: red">in planes</span>.</li></ul>
<p>The event itself does not provide enough information, especially if it is processed at the levels above. To uniquely identify the event and its source, the event in the whole is written as follows: "ws_BtPress:/curtime". Where:
</p>
<dl><dd><i>ws_BtPress</i> — event;</dd>
<dd><i>/curtime</i> — path to the child element that has generated the event.</dd></dl>
<p>Table 3.5 provides a list of standard events, the support of which should be provided in visualizers of VCA.
</p><p><b>Table 3.5.</b> Standard events
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Description
</th></tr>
<tr>
<td colspan="2"> <i>Keyboard events:</i> <b>key_[pres|rels][Ctrl|Alt|Shift]{Key}</b>
</td></tr>
<tr>
<td> *SC#3b </td>
<td> Scan-code of the key.
</td></tr>
<tr>
<td> *#2cd5 </td>
<td> Code of the unnamed key.
</td></tr>
<tr>
<td> *Esc </td>
<td> "Esc".
</td></tr>
<tr>
<td> *BackSpace </td>
<td> Removing of the previous character — "&lt;--".
</td></tr>
<tr>
<td> *Return, *Enter </td>
<td> Enter — "Enter".
</td></tr>
<tr>
<td> *Insert </td>
<td> Insertion — "Insert".
</td></tr>
<tr>
<td> *Delete </td>
<td> Deleting — "Delete".
</td></tr>
<tr>
<td> *Pause </td>
<td> Pause — "Pause".
</td></tr>
<tr>
<td> *Print </td>
<td> Print of the screen — "Print Screen".
</td></tr>
<tr>
<td> *Home </td>
<td> Home — "Home".
</td></tr>
<tr>
<td> *End </td>
<td> End — "End".
</td></tr>
<tr>
<td> *Left </td>
<td> To the left — "&lt;-".
</td></tr>
<tr>
<td> *Up </td>
<td> To the up — '^'.
</td></tr>
<tr>
<td> *Right </td>
<td> To the right — "-&gt;".
</td></tr>
<tr>
<td> *Down </td>
<td> To the down — '\/'.
</td></tr>
<tr>
<td> *PageUp </td>
<td> Page up — "PageUp".
</td></tr>
<tr>
<td> *PageDown </td>
<td> Page down — "PageDown".
</td></tr>
<tr>
<td> *F1 ... *F35 </td>
<td> Function key from "F1" to "F35".
</td></tr>
<tr>
<td> *Space </td>
<td> Space — ' '.
</td></tr>
<tr>
<td> *Apostrophe </td>
<td> Apostrophe — '`'.
</td></tr>
<tr>
<td> *Asterisk </td>
<td> Asterisk on the additional field of the keyboard — '*'.
</td></tr>
<tr>
<td> *Plus </td>
<td> Plus on the additional field of the keyboard — '+'.
</td></tr>
<tr>
<td> *Comma </td>
<td> Comma — ','.
</td></tr>
<tr>
<td> *Minus </td>
<td> Minus — '-'.
</td></tr>
<tr>
<td> *Period </td>
<td> Period — '.'.
</td></tr>
<tr>
<td> *Slash </td>
<td> Slash — '\'.
</td></tr>
<tr>
<td> *0 ... *9 </td>
<td> Number from '0' to '9'.
</td></tr>
<tr>
<td> *Semicolon </td>
<td> Semicolon — ';'.
</td></tr>
<tr>
<td> *Equal </td>
<td> Equal — '='.
</td></tr>
<tr>
<td> *A ... *Z </td>
<td> Keys of Latin alphabet from 'A' to 'Z'.
</td></tr>
<tr>
<td> *BracketLeft </td>
<td> Left square bracket - '['.
</td></tr>
<tr>
<td> *BackSlash </td>
<td> Backslash — '/'.
</td></tr>
<tr>
<td> *BracketRight </td>
<td> Right square bracket — ']'.
</td></tr>
<tr>
<td> *QuoteLeft </td>
<td> Left quote — <b>.</b>
</td></tr>
<tr>
<td colspan="2"> <i>Keyboard focus events.</i>
</td></tr>
<tr>
<td> ws_FocusIn </td>
<td> Focus is obtained by the widget.
</td></tr>
<tr>
<td> ws_FocusOut </td>
<td> Focus is lost by the widget.
</td></tr>
<tr>
<td colspan="2"> <i>Mouse events:</i>
</td></tr>
<tr>
<td> key_mouse[Pres|Rels][Left|Right|Midle] </td>
<td> Pressed/released the mouse button.
</td></tr>
<tr>
<td> key_mouseDblClick </td>
<td> Double-click the left mouse button.
</td></tr>
<tr>
<td colspan="2"> <i>Events of quietance on the side of the visualizer.</i>
</td></tr>
<tr>
<td> ws_alarmLev </td>
<td> Quietance of all violations by all notices methods and types.
</td></tr>
<tr>
<td> ws_alarmNtf{N} </td>
<td> Quietance of all violations by the type {N} (0...7).
</td></tr>
<tr>
<td colspan="2"> <i>Events of the elementary figure primitive <b>ElFigure</b>:</i>
</td></tr>
<tr>
<td> ws_Fig[Left|Right|Midle|DblClick] </td>
<td> Activating of the figures (fills) by the mouse button.
</td></tr>
<tr>
<td> ws_Fig{N}[Left|Right|Midle|DblClick] </td>
<td> Activating of the figure (fill) <i>N</i> by the mouse button.
</td></tr>
<tr>
<td colspan="2"> <i>Events of the form element primitive <b>FormEl</b>:</i>
</td></tr>
<tr>
<td> ws_LnAccept </td>
<td> A new value in the input line is set.
</td></tr>
<tr>
<td> ws_TxtAccept </td>
<td> The value of the text editor is changed.
</td></tr>
<tr>
<td> ws_ChkChange </td>
<td> The state of the flag is changed.
</td></tr>
<tr>
<td> ws_BtPress </td>
<td> The button is pressed.
</td></tr>
<tr>
<td> ws_BtRelease </td>
<td> The button is released.
</td></tr>
<tr>
<td> ws_BtToggleChange </td>
<td> The button toggle is changed.
</td></tr>
<tr>
<td> ws_BtMenu={Item} </td>
<td> Selection of the menu <i>Item</i> on the button.
</td></tr>
<tr>
<td> ws_BtLoad </td>
<td> The selected file loaded.
</td></tr>
<tr>
<td> ws_CombChange </td>
<td> The value of the combo box is changed.
</td></tr>
<tr>
<td> ws_ListChange </td>
<td> The current list item is changed.
</td></tr>
<tr>
<td> ws_TreeChange </td>
<td> The current tree item is changed.
</td></tr>
<tr>
<td> ws_TableChangeSel </td>
<td> The table item selection is changed.
</td></tr>
<tr>
<td> ws_TableEdit_{colN}_{rowN} </td>
<td> The table cell ({colN}:{rowN}) is edited.
</td></tr>
<tr>
<td> ws_SliderChange </td>
<td> The slider position is changed.
</td></tr>
<tr>
<td colspan="2"> <i>Events of the media content primitive <b>Media</b>:</i>
</td></tr>
<tr>
<td> ws_MapAct{N}[Left|Right|Midle] </td>
<td> Media area with the number <i>N</i> is activated by the mouse button.
</td></tr>
<tr>
<td> ws_MediaFinished </td>
<td> Media-stream play is finished.
</td></tr></table>
<p>Events are the main notification mechanism and are actively used to interact with the user. There are two mechanisms for processing events:
</p>
<ul><li> Primary — the script of management of pages opening.</li>
<li> Secondary — the computational procedure of the widget.</li></ul>
<p>The mechanism "Script for the control the opening of pages" based on the basic attribute of the widget "evProc", which can be used for opening the pages. Scenario of this attribute is stored as a list of commands with the syntax: "<b>{event}:{evSrc}:{com}:{prm}</b>". Where:
</p>
<ul><li> <i>event</i> — expected event;</li>
<li> <i>evSrc</i> — path of the nested widget-source of the event;</li>
<li> <i>com</i> — session command;</li>
<li> <i>prm</i> — parameter of the command.</li></ul>
<p>The following commands are implemented:
</p>
<ul><li> <i>open</i> — opening page; page to open is specified in the parameter <i>prm</i> both in direct way and as a template, example: <b>/pg_so/1/*/*</b>;</li>
<li> <i>next</i> — opening of the next page; page to open is specified in the parameter <i>prm</i> as a template, example: <b>/pg_so/*/*/$</b>;</li>
<li> <i>prev</i> — opening of the previous page; page to open is specified in the parameter <i>prm</i> as a template, example: <b>/pg_so/*/*/$</b>.</li></ul>
<p>Special characters of the template are deciphered as follows:
</p>
<ul><li> <i>pg_so</i> — direct name of the desired-static page (with the prefix), requires the compulsory accordance and is used to identify the last open page;</li>
<li> <i>1</i> — name of a new page in a general way (without a prefix);</li>
<li> <i>*</i> — the page is taken from the name of a previous opened page or the first available page is substituted, if the previous opened page is missing;</li>
<li> <i>$</i> — points the place of the opened page relative to which you are to go to the next or to the previous one.</li></ul>
<p>For a correct understanding of working the template mechanism, when choosing a page, we give a few real examples:
</p>
<ul><li> <i>Changing the signal object:</i></li></ul>
<dl><dd><dl><dd>Initially: <b>/pg_so/pg_1/pg_mn/pg_1</b></dd>
<dd>Command: <b>open:/pg_so/2/*/*</b></dd>
<dd>Result: <b>/pg_so/pg_2/pg_mn/pg_1</b></dd></dl></dd></dl>
<ul><li> <i>Switching of the view type:</i></li></ul>
<dl><dd><dl><dd>Initially: <b>/pg_so/pg_1/pg_mn/pg_1</b></dd>
<dd>Command: <b>open:/pg_so/*/gkadr/*</b></dd>
<dd>Result: <b>/pg_so/pg_1/pg_gkadr/pg_1</b></dd></dl></dd></dl>
<ul><li> <i>Next/previous page of the view type:</i></li></ul>
<dl><dd><dl><dd>Initially: <b>/pg_so/pg_1/pg_mn/pg_1</b></dd>
<dd>Command: <b>next:/pg_so/*/*/$</b></dd>
<dd>Result: <b>/pg_so/pg_1/pg_mn/pg_2</b></dd></dl></dd></dl>
<p>As an example, let's give a script to provide the work of the main page of the user interface:
&lt;/translate&gt;
</p>
<pre style="white-space: pre-wrap;">
ws_BtPress:/prev:prev:/pg_so/*/*/$
ws_BtPress:/next:next:/pg_so/*/*/$
ws_BtPress:/go_mn:open:/pg_so/*/mn/*
ws_BtPress:/go_graph:open:/pg_so/*/ggraph/*
ws_BtPress:/go_cadr:open:/pg_so/*/gcadr/*
ws_BtPress:/go_view:open:/pg_so/*/gview/*
ws_BtPress:/go_doc:open:/pg_so/*/doc/*
ws_BtPress:/go_resg:open:/pg_so/rg/rg/*
ws_BtPress:/so1:open:/pg_so/1/*/*
ws_BtPress:/so2:open:/pg_so/2/*/*
ws_BtPress:/so3:open:/pg_so/3/*/*
ws_BtPress:/so4:open:/pg_so/4/*/*
ws_BtPress:/so5:open:/pg_so/5/*/*
ws_BtPress:/so6:open:/pg_so/6/*/*
ws_BtPress:/so7:open:/pg_so/7/*/*
ws_BtPress:/so8:open:/pg_so/8/*/*
ws_BtPress:/so9:open:/pg_so/9/*/*
ws_BtPress:*:open:/pg_control/pg_terminator
</pre>
<p>&lt;translate&gt;
The mechanism "Processing the events with the help of computational procedure of the widget" is based on the attribute "event" and the user procedure of calculating written with the help of the programming language of OpenSCADA. The events, in process of receipt, are accumulated in the attribute "event" till the moment of call of the computational procedure. The computational procedure is called with the specified frequency of calculating the widget and receives the attribute "event" value as the list of events. In the calculation procedure the user can: analyze, process and delete the processed events from the list, and add to the list new events. The remaining, after the procedure execution, and new events are analyzed for compliance with the conditions of the call by means of script of the primary mechanism, after which the remaining events are transmitted to the upper by the hierarchy widget to be processed by it, with the appending of the events path in accordance with the hierarchy of the penetration.
</p><p>The content of the attribute "event" is a list of events in the format "<b>{event}:{evSrc}</b>", with the event on the separate line. Here is an example of processing events in the Java-like programming language of the OpenSCADA:
&lt;/translate&gt;
</p>
<pre style="white-space: pre-wrap;">
for(ev_rez = "", off = 0; (sval=event.parse(0,"\n",off)).length; ) {
  if(sval == "ws_BtPress:/cvt_light") alarmSt = 0x1000001;
  else if(sval == "ws_BtPress:/cvt_alarm") alarmSt = 0x1000002;
  else if(sval == "ws_BtPress:/cvt_sound") alarmSt = 0x1000004;
  else ev_rez += sval+"\n";
}
event = ev_rez;
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Signaling_.28Alarms.29"><span class="mw-headline-number">3.6</span> <span id="Alarms" title="#Alarms">Signaling (Alarms)</span></span></h3>
<p>An important element of any visualisation interface is the user notification about the violation — signalling. To simplify the perception, but also in mind the close connectivity of visualisation and notification (as a rule, the notification complements the visualisation) it is decided to integrate the interface of the notification in the visualisation interface. To do this, all the widget provides two additional attributes of the session level: "alarm" and "alarmSt". The attribute "alarm" is used to form the signal by the widget, according to his logic, and the attribute "alarmSt" is used to control the signalling fact of the branch of the session tree.
</p><p>The "alarm" attribute is a string that has the following format: "<b>{lev}|{categ}|{message}|{type}|{tp_arg}</b>"<br />
Where:
</p>
<ul><li> <i>lev</i> — signalling (alarm) level; number from 0 to 255;</li>
<li> <i>categ</i> — alarm category; parameter of the acquisition subsystem, object, path, or their combination;</li>
<li> <i>message</i> — signalling (alarm) message;</li>
<li> <i>type</i> — type of the notification, is formed as an integer number (0...7), which contains the flags of notification methods; typical notification methods:
<ul><li> <i>1</i> — visual;</li>
<li> <i>2</i> — beep tone, is frequently made through the PC-speaker;</li>
<li> <i>4</i> — sound signal from the sound file or the speech synthesis, and if in the <i>tp_arg</i> the name of the resource of the sound file is specified, then play it, or in other case the speech synthesis from the text specified in <i>message</i> is made.</li></ul></li>
<li> <i>tp_arg</i> — argument of the type; often used to directly indicate the resource of a sound signal — a file of sound format, when the sound signal is made.</li></ul>
<p>Attribute "alarmSt" is an integer number that represents the maximum alarm level and the fact of the quietance of the branch of the tree of the session. Format of the number is as follows:
</p>
<ul><li> first byte (0...255) characterises the level of the alarm of the branch;</li>
<li> the second byte indicates the type of notification, as well as in the attribute "alarm";</li>
<li> the third byte indicates the type of notification without quietance, as well as in the attribute "alarm";</li>
<li> the fourth byte has a special appointment, which is defined by separate bits:
<ul><li> bit 0 — indicates, by sets, to the quietance fact of the notification into first byte;</li>
<li> bit 1 — indicates, by sets it and the bit 0, to the quietance return — enable back the quietance.</li></ul></li></ul>
<p><b>Alarm forming and receiving of it by the visualiser.</b><br />
The alarm forming is performed by the widget itself, by setting its own attribute "alarm" in appropriate way and, in accordance with it, the attribute "alarmSt" of the current and the parent widget. Visualisers receive signal notifications using the standard mechanism of notification about changes of the widget attributes.
</p><p>Taking into account that the processing of the signalling conditions is made in the widgets, the pages containing the objects of signalling should be executed in the background, regardless of their openness to the moment. This is done by setting a flag of the background execution of the page.
</p><p>Although the mechanism of signalling is built in the visualisation area, the possibility of forming non-visual elements of signalling remains, for example, by creating a page that will never open.
</p><p><b>Quietance</b><br />
Quietance — approving process is a fact of the operative personal take its attention to the violation into the TP work. The process mostly means of take actions for the violation eliminating and pressing to the button of the alarm quieting.
</p><p>Quietance performs by specifying the root of the branch of the widgets and the types of notification, which allows to make quietance on the side of the visualiser, as in groups, for example, on the signalling object, and individually by the object of the source. It is possible to independently quietance different types of alarms. Setting of the quietance is made by the simple modification of the attribute "alarmSt".
</p><p>Example of the script to work with the signals gives below:
</p>
<pre style="white-space: pre-wrap;">
//Separating the fact of the presence of alarms of different methods-types of notification
cvt_light_en = alarmSt&amp;0x100; cvt_alarm_en = alarmSt&amp;0x200; cvt_sound_en = alarmSt&amp;0x400;
//Separating the fact of the presence of alarms without quietance of various ways of notification
cvt_light_active = alarmSt&amp;0x10000; cvt_alarm_active = alarmSt&amp;0x20000; cvt_sound_active = alarmSt&amp;0x40000;
//Processing of the button's events of quietance and the quietance for different ways of notification
for(ev_rez = "", off = 0; (sval=event.parse(0,"\n",off)).length; ) {
  if(sval == "ws_BtPress:/cvt_light") alarmSt = 0x1000001;
  else if(sval == "ws_BtPress:/cvt_alarm") alarmSt = 0x1000002;
  else if(sval == "ws_BtPress:/cvt_sound") alarmSt = 0x1000004;
  else ev_rez += sval + "\n";
}
event = ev_rez;
</pre>
<p><b>External notification methods</b><br />
The first and the typical method of notifications is screen's light notification by alarm colors and its dynamic about proper visual elements, which always presents and does not require of specific configuration. But often we need for an external type notification, for example: external lamp, PC buzzer or "howler", arbitrary sound, synthesised speech and etc.
</p><p>In order to realize this possibility, the external methods of the notification and the corresponding notification types, are freely described for the visualisation server and the visualiser itself. On the side of the visualisation server, the formation/receipt of the notification resource and the notification itself is described. On the side of the visualiser, the notification is described according to the resources of the visualisation server.
</p><p>Description of the rules and scenarios of the notifications performs with user attributes of the text type for pages of the visualisation project, which applies at the page open. That is, potentially, for each open page, you can describe your own rules of the notification, though, it's usually enough and describes the general rules of the notification on the project's main page — a page that opens one-off and does not close at work:
</p>
<ul><li> For the visualisation server/engine, by the attribute "notify{N}" into the format:</li></ul>
<pre style="white-space: pre-wrap; margin-left: 15px">
//flags=notifyServ[{DL}][|resource[|queue[|qMergeMess]]]
//resStatic={MimeFileResource}
if(doRes) { The command text to form the resource. }
if(doNtf) { The command text to notify. }
</pre>
<ul><li> For a visualiser by the attribute "notifyVis[Vision|WebVision]{N}" into the format:</li></ul>
<pre style="white-space: pre-wrap; margin-left: 15px">
//flags=notify[{DL}][|resource[|queue[|quietanceRet]]]
//name={The notifier name}
//ico={The icon name}
{ The notification command text to any or concrete visualiser. }
</pre>
<p>Flags:
</p>
<ul><li> <i>notify[{DL}]</i>, <i>notifyServ[{DL}]</i> — enables the notification with the repeating by the time <i>DL</i>, if the set; for <i>DL</i> = 0 the repeat carried out immediately.</li>
<li> <i>resource</i> — request-form (force) the notification resource from the visualisation server, can be an audio file, a text or other data for the notification produce; but currently the notifiers mostly expect audio.</li>
<li> <i>queue</i> — the notification resources are determined not only by the global sign of alarming and quietance, but also according to the priority sources queue of the notification-resources. The queue is formed on the side of the visualisation server, and for the visualisers it is indicated the need to work with it when requesting resources.</li>
<li> <i>qMergeMess</i> — merging the notifications into the queue by equality their messages.</li>
<li> <i>quietanceRet</i> — possibility of the visualiser for the quietance recall-return i.e. in fact — the notification enable back.</li></ul>
<p>Presence of the field "resStatic" enables the resource obtaining directly from the mime table or a file, pointed in the way like to <a href="#Media">the "Media" primitive</a>.
</p><p>The exchanging variables:
</p>
<ul><li> <i>en</i>[0,1] — the notification enable (1) or disable (0);</li>
<li> <i>doNtf</i>[0,1] — call the script of the notification;</li>
<li> <i>doRes</i>[0,1] — call the script of the resource forming;</li>
<li> <i>res</i> — content or content's file name of the resource, for the external scripts;</li>
<li> <i>resTp</i> — resource type, like to "audio/ogg"; is return and placed to stdout (for Shell) for <i>doRes</i>;</li>
<li> <i>mess</i> — message-parameters of the forming the resource and the notification;</li>
<li> <i>lang</i> — language of the current user or system;</li>
<li> <i>prcID</i> — the procedure unique ID (like to "ses_AGLKS_ntf2"), mostly for temporary files safe creation.</li></ul>
<p>The examples and comments to work of the typical notification methods:
</p>
<ul><li> Beep (buzzer) on the visualiser or the visualisation server side:</li></ul>
<dl><dd><ul><li> alarm = "10|Prm||0x02"</li>
<li> notifyVisVision1 | notify1 = </li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify|notifyServ
if(en) SYS.system("beep -f 1000 -l 1000000 &amp;", true);
else if((beepPID=SYS.system("pidof beep")).toInt()) SYS.system("kill "+beepPID); </pre>
<dl><dd><ul><li> notifyVisVision1 | notify1 = </li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify|notifyServ
if test $en = 1; then
	beep -f 1000 -l 1000000 &amp;
else
	beepPID=$(pidof beep)
	if test "x$beepPID"&nbsp;!= "x"; then kill $beepPID; fi
fi </pre>
<ul><li> Repeating play for ready audio file, one common, on the visualiser or the visualisation server side:</li></ul>
<dl><dd><ul><li> alarm = "10|Prm||0x04"</li>
<li> notify2 | notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|notifyServ2
if(en) SYS.system("play -q alarm.ogg");</pre>
<dl><dd><ul><li> notify2 | notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|notifyServ2
if test $en = 1; then play -q alarm.ogg; fi</pre>
<ul><li> Play an individual audio file for the source, on the visualisation server side:</li></ul>
<dl><dd><ul><li> alarm = "10|Prm||0x04|res:al_prm1"</li>
<li> notify2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=queue</pre>
<dl><dd><ul><li> notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|queue
if(doNtf &amp;&amp; en &amp;&amp; res.length) {
  SYS.fileWrite("tmpPlay", res);
  SYS.system("play -q tmpPlay");
  SYS.fileRemove("tmpPlay");
}</pre>
<dl><dd><ul><li> notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|queue
if test $doNtf = 1 -a $en = 1 -a -s $res; then play -q $res; fi
</pre>
<ul><li> Speech synth for an individual message for the source, on the visualiser side:</li></ul>
<dl><dd><ul><li> alarm = "10|Prm|Text message of the speech synth|0x04"</li>
<li> notify2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=queue</pre>
<dl><dd><ul><li> notifyVisVision2 = </li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|queue
if(doNtf &amp;&amp; en &amp;&amp; mess.length) {
  SYS.fileWrite("tmpForSpeech", mess);
  SYS.system("festival --tts tmpForSpeech");
  SYS.fileRemove("tmpForSpeech");
}
</pre>
<dl><dd><ul><li> notifyVisVision2 = </li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|queue
if test $doNtf = 1 -a $en = 1 -a "x"&nbsp;!= "x$mess"; then
  echo $mess &gt; tmpForSpeech
  festival --tts tmpForSpeech
  rm tmpForSpeech
fi
</pre>
<ul><li> Preparing a sound file, one common, and playing it on the side of the visualiser or the visualisation server:</li></ul>
<dl><dd><ul><li> alarm = "10|Prm||0x04"</li>
<li> notify2 = </li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|notifyServ2|resource
if(doRes) res = SYS.fileRead("alarm.ogg");  //Insert here a different method of the generation
if(doNtf &amp;&amp; en &amp;&amp; res.length) {
  SYS.fileWrite("tmpPlay", res);
  SYS.system("play -q tmpPlay");
  SYS.fileRemove("tmpPlay");
}</pre>
<dl><dd><ul><li> notify2 = </li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|notifyServ2|resource
if test $doRes = 1; then cp -f alarm.ogg $res; fi  #Insert here a different method of the generation
if test $doNtf = 1 -a $en = 1 -a -s $res; then play -q $res; fi
</pre>
<dl><dd><ul><li> notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|resource
if(en &amp;&amp; res.length) {
  SYS.fileWrite("tmpPlay", res);
  SYS.system("play -q tmpPlay");
  SYS.fileRemove("tmpPlay");
}</pre>
<dl><dd><ul><li> notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|resource
if test $en = 1 -a -s $res; then play -q $res; fi
</pre>
<ul><li> Prepare an individual audio file for the source of notification through the speech synth, on side of the visualiser or the visualisation server:</li></ul>
<dl><dd><ul><li> alarm = "10|Prm|Text message of the speech synth|0x04"</li>
<li> notify2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|notifyServ2|queue
if(doRes &amp;&amp; mess.length) {
 SYS.fileWrite("tmpText", mess);
 SYS.system("text2wave tmpText -o tmpWAV");
 res = SYS.fileRead("tmpWAV");
 SYS.fileRemove("tmpText"); SYS.fileRemove("tmpWAV");
}
if(doNtf &amp;&amp; en &amp;&amp; res.length) {
 SYS.fileWrite("tmpPlay", res);
 SYS.system("play -q tmpPlay");
 SYS.fileRemove("tmpPlay");
}</pre>
<dl><dd><ul><li> notify2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|notifyServ2|queue
if test $doRes = 1 -a "x"&nbsp;!= "x$mess"; then
 echo $mess &gt; tmpText
 text2wave tmpText -o $res
 rm tmpText
fi
if test $doNtf = 1 -a $en = 1 -a -s $res; then play -q $res; fi
</pre>
<dl><dd><ul><li> notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
//flags=notify2|queue
if(en &amp;&amp; res.length) {
 SYS.fileWrite("tmpPlay", res);
 SYS.system("play -q tmpPlay");
 SYS.fileRemove("tmpPlay");
}</pre>
<dl><dd><ul><li> notifyVisVision2 =</li></ul></dd></dl>
<pre style="white-space: pre-wrap; margin-left: 30px">
#!/bin/sh
#flags=notify2|queue
if test $en = 1 -a -s $res; then play -q $res; fi
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Rights_management"><span class="mw-headline-number">3.7</span> Rights management</span></h3>
<p>For the separation of access to the interface of VC and its components, every widget contains information about the owner, its groups and access rights. Access rights are recorded, as adopted in OpenSCADA, as a triad: "<b>{user}{group[,group1,groupN]}{other}</b>", where each element consists of two attributes of the access, for which the following interpretation is adopted:
</p>
<ul><li> <b>r</b> — the right to review the widget;</li>
<li> <b>w</b> — the right to control over the widget.</li></ul>
<p>In the development mode a simple scheme of accessing "root.UI:RWRWR_" is used, which means — all users can open and view the libraries, their components and projects, and all users of the group "UI" (user interfaces) can edit.
</p><p>In the runtime mode the rights work, described in the interface components, which include the ability to inherit the owner and rights from the top to the bottom. Wherein, by default, the inheritance enabled for each widget, then they get the owner and the rights of the project. At the same time, the direct setting of the rights of the complex widget will propagate them to all components of this widget.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Linkage_with_the_dynamics"><span class="mw-headline-number">3.8</span> Linkage with the dynamics</span></h3>
<p>To provide the visualization interface of relevant data, data from the subsystem "Data acquisition (DAQ)" should be used. The nature of these data is as follows:
</p>
<ol><li> parameters that contain some number of attributes;</li>
<li> attributes of the parameter can provide information of five types: Boolean, Integer, Real, String and Object;</li>
<li> attributes of the parameter can have their archive (history);</li>
<li> attributes of the parameter can be set to read, write and with full access.</li></ol>
<p>Given the first point, it is necessary to provide the possibility of group-based reference. To do this, we use <a href="../DAQ.html#LogicLev" title="Special:MyLanguage/Documents/DAQ">the logical level concept</a>.
</p><p>According to point 2, the links provide a transparent type conversion and do not require a special configuration.
</p><p>To satisfy the opportunities for accessing to archives, in accordance with the item 3, links make check of the attribute type, and in the case of connection to the "Address", the address of the link is put into the value.
</p><p>In the VCA terms, the dynamic links and configuration of the dynamics are the one process, to describe a configuration of which the tab "Processing" of the widgets is provided. The tab contains a table of configuration of the attributes properties and the calculation procedure text of the widget.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1048px;"><a class="image" href="http://oscada.org/wiki/File:VCA_wdg_proc.png"><img class="thumbimage" height="774" src="../files/VCA_wdg_proc.png" width="1046" /></a>  <div class="thumbcaption">Figure. Tab "Processing" of the configuration page of the widget.</div></div></div></div>
<p>In addition to configuration fields of the attributes the column "Processing" in the table provides, for selective using of the attributes in the computational procedure of the widget, and the columns "Configuration", "Configuration template", to describe the links configuration.
</p><p>If the "Processing" column is true, then the variable <i>{widget ID}_{attribute ID}</i> becomes available in the computational procedure, for example <i>cw_value</i>.
</p><p>The column "Configuration" allows to specify the link type of the widget attribute:
</p>
<ul><li> <i>Constant</i> — in the tab of widget links the field for indication of a constant appears, for example, of the special color or header of the template frames.</li>
<li> <i>Input link</i> — linkage with the dynamics for read-only.</li>
<li> <i>Output link</i> — linkage with the dynamics just for writing.</li>
<li> <i>Full link</i> — complete linkage with dynamic, read/write.</li>
<li> <i>From style</i> — take the value from the project's style.</li></ul>
<p>The column "Configuration template" makes it possible to describe the groups of dynamic attributes. For example, it may be different types of parameters of the subsystem "DAQ" and other interface widgets. With the correct formation of this field, the mechanism of automatic assignment of attributes is worked, with only the parameter of the subsystem "DAQ" or the widget of the interface, which simplifies and accelerates the configuration process. Value of this column has the following format:
</p>
<ul><li> <i>For constant:</i> direct the attribute value.</li>
<li> <i>For link:</i> "<b>{parameter}|{identifier}</b>", where:
<ul><li> <i>parameter</i> — group of the attribute;</li>
<li> <i>identifier</i> — identifier of the attribute; same the value is compared with the attributes of the DAQ parameters with automatic linkage, after the group link indication.</li></ul></li>
<li> <i>For style:</i> identifier-name of the style field.</li></ul>
<p>There may be several types of links, that are defined by the prefix:
</p>
<ul><li> <i>val:</i> — Direct download value through the link mechanism. For example, the "val:100" link loads value 100 to the widget attribute. Often used in the absence of a terminal point of linking, for the purpose of directly setting the value.</li>
<li> <i>prm:</i> — Link to the parameter attribute or parameter, in general, for the attributes group of the "Data acquisition" subsystem. For example, the link "prm:/LogicLev/experiment/Pi/var" performs the access of the widget attribute to the parameter attribute of the subsystem "Data acquisition". Sign "(+)" at the end of the address indicate about successful linking and presence of the target. For object-type attributes, permissible hierarchical access to a specific property of the object, by specifying its path through the symbol '#', for example: "prm:/LogicLev/experiment/Pi/var#pr1/pr2".</li>
<li> <i>wdg:</i> — Link to the attribute of another widget or widget, in general, for the attributes group. For example, the link "wdg:/ses_AGLKS/pg_so/pg_1/pg_ggraph/pg_1/a_bordColor" performs the access of the attribute of one widget to the attribute of another one. Supported both absolute and relative paths of the links. The reference point of the address of the absolute link is the root object of the module "VCAEngine", which means — the first element of the absolute address is ID of the session or project. The first element, on the side of the session, drops, so the links, installed in the project, work there. Relative links take a countdown from the widget where the link is specified. A special element of relative link is an element of a higher node "..".</li>
<li> <i>arh:</i> — A special type of the link, available only for a separate attribute of the type "Address", which allows you to connect directly to the value archive ("arh:CPU_load"). It may be useful to specify the archive as a data source for the primitive "Diagram".</li></ul>
<p>Processing of the links occurs at a period of the widget calculating in the following order:
</p>
<ul><li> receiving the data from the input links;</li>
<li> performing the calculation of the widget procedure;</li>
<li> transmission the values by the output links.</li></ul>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../files/At.png" width="22" /></a> The widget calculation period in the default value "-1" means the chain using the period value from the widget owner for the first positive value, or the project calculation period.
</p><p>The figure shows a tab of links for group attributes, by specifying only the parameter. The following figure shows the individual attribute assignment.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:656px;"><a class="image" href="http://oscada.org/wiki/File:VCA_wdg_lnk_grp.png"><img class="thumbimage" height="458" src="../files/VCA_wdg_lnk_grp.png" width="654" /></a>  <div class="thumbcaption">Figure. Tab "Links" of the configuration page of the widget with the group assignment of the attributes by the specifying only the parameter.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:656px;"><a class="image" href="http://oscada.org/wiki/File:VCA_wdg_lnk_attr.png"><img class="thumbimage" height="506" src="../files/VCA_wdg_lnk_attr.png" width="654" /></a>  <div class="thumbcaption">Figure. Tab "Links" of the configuration page of the widget with the individual assignment of the attributes.</div></div></div></div>
<p>When placing a widget in the widget container, all links of the original widget are added to the list of resulting links of the widget container, however, only to a depth at one level of nesting.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:842px;"><a class="image" href="http://oscada.org/wiki/File:VCA_cntwdg_lnk.png"><img class="thumbimage" height="654" src="../files/VCA_cntwdg_lnk.png" width="840" /></a>  <div class="thumbcaption">Figure. Tab "Links" of the configuration page of the widgets container, including widgets with links.</div></div></div></div>
<p>From the foregoing it is clear that the links are set by the user during the configuration of the interface. However, in order to allow the creation of general-purpose frames with the function of providing detailed data of different sources of the same type, a <span id="DynLink" title="#DynLink">dynamic linking mechanism</span> is required. Such a mechanism is foreseen:
</p>
<ul><li> reserving the key identifier "<b>&lt;page&gt;</b>" for the group of attributes of links in general purpose frames;</li>
<li> dynamically assigning links to the identifier "<b>&lt;page&gt;</b>" in the process of opening a general-purpose frame by the signal from another widget.</li></ul>
<p>Let's examine the example when we have the frame of general-purpose "Control panel of graph" and a lot of "Graphs" in different frames. "Control panel of graph" has links with the templates:
</p>
<ul><li> tSek -&gt; "&lt;page&gt;|tSek"</li>
<li> tSize -&gt; "&lt;page&gt;|tSize"</li>
<li> trcPer -&gt; "&lt;page&gt;|trcPer"</li>
<li> valArch -&gt; "&lt;page&gt;|valArch"</li></ul>
<p>In this case, each widget "Graph" has attributes "tSek", "tSize", "trcPer" and "valArch". Calling the "Control panel of graph" by opening signal from any widget "Graph", the attributes of the "Control panel of graph" are linked together with the attributes of the "Graph" widget, according to the template. As a result, all changes in the "Control panel of graph" will be displayed on the graph, through these links.
</p><p>If the "Graph" widget has external links to the parameters of the "Data acquisition" subsystem, the "Control panel of graph" links will be installed on the external source. Additionally, if the "Control panel of graph" will be declared the links to the missing attributes directly in the widget "Graph", then the search will be made for the presence of such attributes in the external source — the first one on which a direct link is established, performing, thereby, the addition of the missing links.
</p><p>To visualize this mechanism the table is provided.
</p><p><b>Table.</b> The mechanism of the dynamic linkage.
</p>
<table class="wikitable">

<tr>
<th> Attributes of the "Control panel of graph" (the template of dynamic linkage) </th>
<th> "Graph" attributes </th>
<th> Attributes of the external "Parameter" </th>
<th> Resulting link or value of the linking attribute
</th></tr>
<tr>
<td> tSek (&lt;page&gt;|tSek) </td>
<td> tSek </td>
<td> - </td>
<td> "Graph".tSek
</td></tr>
<tr>
<td> tSize (&lt;page&gt;|tSize) </td>
<td> tSize </td>
<td> - </td>
<td> "Graph".tSize
</td></tr>
<tr>
<td> trcPer (&lt;page&gt;|trcPer) </td>
<td> trcPer </td>
<td> - </td>
<td> "Graph".trcPer
</td></tr>
<tr>
<td> valArch (&lt;page&gt;|valArch) </td>
<td> valArch </td>
<td> - </td>
<td> "Graph".valArch
</td></tr>
<tr>
<td> var (&lt;page&gt;|var) </td>
<td> var </td>
<td> var </td>
<td> "Parameter".var
</td></tr>
<tr>
<td> ed (&lt;page&gt;|ed) </td>
<td> - </td>
<td> ed </td>
<td> "Parameter".ed
</td></tr>
<tr>
<td> max (&lt;page&gt;|max) </td>
<td> - </td>
<td> - </td>
<td> EVAL
</td></tr>
<tr>
<td> min (&lt;page&gt;|min) </td>
<td> - </td>
<td> - </td>
<td> EVAL
</td></tr></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitives_of_the_widgets"><span class="mw-headline-number">3.9</span> <span id="WidgetPrimitives" title="#WidgetPrimitives">Primitives of the widgets</span></span></h3>
<p>Any newly created widget is based on one of several primitives — end element of the visualization, by installing of the kinship as directly to the primitive, as well as through the several intermediate user widgets. Each of the primitives contains a mechanism of the data model. An instance of the widget stores the properties values of the primitive own configuration.
</p><p>The tasks of the visualization interface include support and work with the data model of the widgets primitives. The widgets primitives should be thoroughly worked out and unified, in order to capture as many opportunities as possible in a smaller number of poorly linked, with the purpose, primitives.
</p><p><b>Table.</b> Library of the primitives of the widgets — basic elements of the visualization.
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Function
</th></tr>
<tr>
<td> ElFigure </td>
<td> Elementary graphical figure </td>
<td>
<p>The primitive is the basis for drawing elementary graphical shapes with their possible combinations in a single object. The support of the following elementary figures is provided:
</p>
<ul><li> Line.</li>
<li> Arc.</li>
<li> Bézier curve.</li>
<li> Fill of the enclosed space.<br /></li></ul>
<p>For all the figures, contained in the widget, set the common properties of thickness, color, etc., provides the possibility to specify the above-mentioned attributes for each figure separately and their dynamization.
</p>
</td></tr>
<tr>
<td> FormEl </td>
<td> Element of the form </td>
<td>
<p>Includes support for the standard form components:
</p>
<ul><li> Line edit.</li>
<li> Text edit.</li>
<li> Check box.</li>
<li> Button.</li>
<li> Combo box.</li>
<li> List.</li>
<li> Tree.</li>
<li> Table.</li>
<li> Slider.</li>
<li> Scroll bar. </li></ul>
</td></tr>
<tr>
<td> Text </td>
<td> Text </td>
<td> Text element-label. Characterized by the font type, color, orientation and alignment. Support for arguments is provided.
</td></tr>
<tr>
<td> Media </td>
<td> Media </td>
<td> Element of the visualization of raster and vector images of various formats, playback of the animated images, playback of the audio fragments and view of the video fragments.
</td></tr>
<tr>
<td> Diagram </td>
<td> Diagram </td>
<td> Element of the diagram with the support of the visualization in the real-time for the flow of several: trends (time charts), spectrum, XY diagrams.
</td></tr>
<tr>
<td> Protocol </td>
<td> Protocol </td>
<td> Element of the protocol — visualizer of the program messages, with support of the multiple operating modes.
</td></tr>
<tr>
<td> Document </td>
<td> Document </td>
<td> Element of the generating reports, journals and other documentation on the basis of available data.
</td></tr>
<tr>
<td> Box </td>
<td> Container </td>
<td> Contains the mechanism for other widgets placement-including with the purpose of creation of new, more complex, widgets and pages of the end visualization.
</td></tr>
<tr>
<td> Function, <span style="color: red">in plane</span> </td>
<td> Function of API of the object model of OpenSCADA </td>
<td> Not visual widget, on the runtime side, which allows to include a computing function of the object model of OpenSCADA in the VCA.
</td></tr></table>
<p><b>Table.</b> The common set of properties/attributes in the widget
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> id </td>
<td> Identifier </td>
<td> - </td>
<td> Identifier of the element. The attribute is read-only, designed to provide information on the ID of the element.
</td></tr>
<tr>
<td> path </td>
<td> Path </td>
<td> - </td>
<td> Path to the widget. The attribute is read-only and designed to provide full information about the element location.
</td></tr>
<tr>
<td> parent </td>
<td> Parent </td>
<td> - </td>
<td> Path to the parent widget. The attribute is read-only and designed to provide information about the ancestor location which the widget is inherited from.
</td></tr>
<tr>
<td> owner </td>
<td> Owner </td>
<td> - </td>
<td> The widget owner and group in the view "<b>{owner}:{group[,group1,groupN]}</b>", by default the "root:UI".
</td></tr>
<tr>
<td> perm </td>
<td> Permission </td>
<td> - </td>
<td>
<p>Permission to the widget in the view "<b>{user}{group}{other}</b>" plus the inheritance flag, enables the inheritance for owner and its permissions from the upper widget.<br />
Where "<b>user</b>", "<b>group</b>" and "<b>other</b>" is:
</p>
<ul><li> "__" — no access;</li>
<li> "R_" — read-only;</li>
<li> "RW" — read and write.<br /></li></ul>
<p>By default the 01000 — inheritance.
</p>
</td></tr>
<tr>
<td> root </td>
<td> Root </td>
<td> 1 </td>
<td> Identifier of the widget-primitive (basic element) which underlies the widget visualization shape.
</td></tr>
<tr>
<td> name </td>
<td> Name </td>
<td> - </td>
<td> Name of the element. Accessible to modification the element name.
</td></tr>
<tr>
<td> dscr </td>
<td> Description </td>
<td> - </td>
<td> Description of the element. Text field of the brief description.
</td></tr>
<tr>
<td> en </td>
<td> Enabled </td>
<td> 5 </td>
<td> The state "Enabled" of the element. Disabled element is not shown in the execution mode.
</td></tr>
<tr>
<td> active </td>
<td> Active </td>
<td> 6 </td>
<td> The state "Active" of the element. Active element may receive focus in the execution mode, and thus receive keyboard and other events with their subsequent processing.
</td></tr>
<tr>
<td> geomX </td>
<td> Geometry: x </td>
<td> 7 </td>
<td> Geometry, coordinate 'x' of the element position.
</td></tr>
<tr>
<td> geomY </td>
<td> Geometry: y </td>
<td> 8 </td>
<td> Geometry, coordinate 'y' of the element position.
</td></tr>
<tr>
<td> geomW </td>
<td> Geometry: width </td>
<td> 9 </td>
<td> Geometry, the width of the element.
</td></tr>
<tr>
<td> geomH </td>
<td> Geometry: height </td>
<td> 10 </td>
<td> Geometry, the height of the element.
</td></tr>
<tr>
<td> geomXsc </td>
<td> Geometry: x scale </td>
<td> 13 </td>
<td> Horizontally scale of the element.
</td></tr>
<tr>
<td> geomYsc </td>
<td> Geometry: y scale </td>
<td> 14 </td>
<td> Vertical scale of the element.
</td></tr>
<tr>
<td> geomZ </td>
<td> Geometry: z </td>
<td> 11 </td>
<td> Geometry, coordinate 'z' (level) of the element on the frame. Defines also the order to transfer the focus through active elements.
</td></tr>
<tr>
<td> geomMargin </td>
<td> Geometry: margin </td>
<td> 12 </td>
<td> Geometry, the margins of the element.
</td></tr>
<tr>
<td> tipTool </td>
<td> Tip: tool </td>
<td> 15 </td>
<td> Text of a brief help or tip on this element. Realized usually as a tool tip, while keeping your mouse cursor over the element.
</td></tr>
<tr>
<td> tipStatus </td>
<td> Tip: status </td>
<td> 16 </td>
<td>
<p>Text information on the status of the element or the guide to action over the element. Implemented usually in the form of a message in the status bar while keeping your mouse cursor over the element.
</p>
<dl><dd> * Modification the attribute from session of the root page will record the message in the status bar of the visualization window of the session. </dd></dl>
</td></tr>
<tr>
<td> contextMenu </td>
<td> Context menu </td>
<td> 17 </td>
<td>
<p>Context menu in the strings list view: "<b>{ItName}:{Signal}</b>".<br />
Where:
</p>
<ul><li> "ItName" — name of the item;</li>
<li> "Signal" — name of the signal, which forming at the selecting: "<b>usr_{Signal}</b>". </li></ul>
</td></tr>
<tr>
<td> evProc </td>
<td> Events processing </td>
<td> - </td>
<td>
<p>Attribute for storing of the script of the events processing for direct control of the user interface. Script is a list of commands to the visualization interface, generated at the event receipt (attribute <b>event</b>). Direct events processing to manage pages, in the view: "<b>{event}:{evSrc}:{com}:{prm}</b>". Where:
</p>
<ul><li> "event" — waiting event;</li>
<li> "evSrc" — event source;</li>
<li> "com" — command of the session: open, next, prev;</li>
<li> "prm" — command parameter, where used:
<ul><li> <i>pg_so</i> — direct name of the desired page, with the prefix;</li>
<li> <i>1</i> — name of the new page in a general way, without a prefix;</li>
<li> <i>*</i> — the page is taken from the previous page name;</li>
<li> <i>$</i> — indicates the place relative to which the page opens.<br /></li></ul></li></ul>
<p>Examples:
</p>
<ul><li> ws_BtPress:/prev:prev:/pg_so/*/*/$</li>
<li> ws_BtPress:/next:next:/pg_so/*/*/$</li>
<li> ws_BtPress:/go_mn:open:/pg_so/*/mn/*</li>
<li> ws_BtPress:/go_graph:open:/pg_so/*/ggraph</li></ul>
</td></tr>
<tr>
<td colspan="4"> <i>Additional attributes for items, placed into the project in the role of a page.</i>
</td></tr>
<tr>
<td> pgOpen </td>
<td> Page: opened </td>
<td> - </td>
<td>
<p>Sign "The page is opened".
</p>
<dl><dd> * Modification from the session provides an immediate opening/closing the page, but for the pages type "Link" you must prefer of <a href="#UserAPI">the user API</a> function uiCmd() using to the pages managing.</dd></dl>
</td></tr>
<tr>
<td> pgNoOpenProc </td>
<td> Page: process not opened </td>
<td> - </td>
<td> Sign "Execute the page, even if it is closed".
</td></tr>
<tr>
<td> pgOpenSrc </td>
<td> Page: source of the opening </td>
<td> 3 </td>
<td>
<p>Full address of the page which has opened this one.
</p>
<dl><dd> * Writing/clearing the widget address, of the opening initiation, performs an immediate opening/closing the page. In the case of writing the address and on <a href="#DynLink">certain conditions</a>, the dynamic linking of the current widget to the initiator performs. But for the pages type "Link" you must prefer of <a href="#UserAPI">the user API</a> function uiCmd() using to the pages managing.</dd></dl>
</td></tr>
<tr>
<td> pgGrp </td>
<td> Page: group </td>
<td> 4 </td>
<td> group of the pages.
</td></tr>
<tr>
<td colspan="4"> <i>Additional attributes of the execution mode — by the session.</i><br />(Virtual attributes are not available in the widget procedure)
</td></tr>
<tr>
<td> event </td>
<td> Events </td>
<td> - </td>
<td> Special attribute of the collection of events of the widget in the list, which is divided by the new line. Access to the attribute is protected by a critical section in order to avoid loss of the events. The attribute is always available in the widget procedure.
</td></tr>
<tr>
<td> load </td>
<td> Load </td>
<td> -1 </td>
<td> Virtual command of the group data download.
</td></tr>
<tr>
<td> focus </td>
<td> Focus </td>
<td> -2 </td>
<td> Special attribute of the indicating the fact of receiving the focus by an active widget. Attribute of the widget and of the included widgets is available in the widgets procedures.
</td></tr>
<tr>
<td> perm </td>
<td> Permission </td>
<td> -3 </td>
<td> Virtual attribute of the rights of the active user to view and control the widget.
</td></tr></table>
<dl><dd> * — Special function of the widget attribute which executing in the project session at any user's modification.</dd></dl>
<p>The engine of the visualization environment provides activation of the visualizer specific attributes. The activation process performs at opening a session of the project and means for the project: creation of the specific attribute with the specified properties, at case it lack, and activation for tracing its modification by the engine of the visualization environment, like to the attributes of forming primitive's shapes. To direct specifying such attribute you can also use the prefix "vs_" to the attribute identifiers, what is mach faster and excludes of the activation stage. For the specific attributes list of the visualizer you can see the documentation of the proper visualizer.
</p>
<h4><span class="mw-headline" id="Elementary_graphical_figure_.28ElFigure.29"><span class="mw-headline-number">3.9.1</span> <span id="ElFigure" title="#ElFigure">Elementary graphical figure (ElFigure)</span></span></h4>
<p>The primitive is the basis for drawing basic graphical shapes with their possible combinations in a single object. Taking into account the wide range of various shapes, which must be maintained by the primitive, and at the same time the primitive must be simple enough for using and, if possible, for implementation, it was decided to limit the list of the basic figures used for the construction of the resulting graphics to these figures: line, arc, Bézier curve and fill of the enclosed spaces. Based at these basic figures, it is possible to construct derived figures by combining the basic. In the context of the primitive, there is a possibility to set the transparency of the color in the range [0...255], where '0' — complete transparency.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Elementary figure (ElFigure)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> lineWdth </td>
<td> Line:width </td>
<td> 20 </td>
<td> Line width.
</td></tr>
<tr>
<td> lineClr </td>
<td> Line: color </td>
<td> 21 </td>
<td> Color name in the view "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color.</li></ul>
</td></tr>
<tr>
<td> lineStyle </td>
<td> Line: style </td>
<td> 22 </td>
<td> Line style: solid, dashed, dotted.
</td></tr>
<tr>
<td> bordWdth </td>
<td> Border: width </td>
<td> 23 </td>
<td> Border width of the line. Zero width indicates the absence of the border.
</td></tr>
<tr>
<td> bordClr </td>
<td> Border: color </td>
<td> 24 </td>
<td> Border color (details in attribute 21).
</td></tr>
<tr>
<td> fillColor </td>
<td> Fill: color </td>
<td> 25 </td>
<td> Fill color (details in attribute 21).
</td></tr>
<tr>
<td> fillImg </td>
<td> Fill: image </td>
<td> 26 </td>
<td> Image name in the view "<b>[{src}:]{name}</b>", where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> orient </td>
<td> Orientation angle </td>
<td> 28 </td>
<td> Rotation angle of the widget content.
</td></tr>
<tr>
<td> mirror </td>
<td> Mirroring </td>
<td> 29 </td>
<td> Mirroring the widget content, <span>limited currently</span>.
</td></tr>
<tr>
<td> elLst </td>
<td> Elements list </td>
<td> 27 </td>
<td> List of the graphic elements in the format:
<ul><li> Line. General form of the entry in the list, for static and dynamic parameters (may be mixed):</li></ul>
<dl><dd><dl><dd>"<b>line:({x}|{y}):({x}|{y})[:{width}[:{color}[:{bord_w}[:{bord_clr}[:{line_stl}]]]]]</b>"</dd>
<dd>"<b>line:{p1}:{p2}[:w{n}[:c{n}[:w{n}[:c{n}[:s{n}]]]]]</b>"</dd></dl></dd></dl>
<ul><li> Arc. General form of the entry in the list, for static and dynamic parameters (may be mixed):</li></ul>
<dl><dd><dl><dd>"<b>arc:({x}|{y}):({x}|{y}):({x}|{y}):({x}|{y}):({x}|{y})[:{width}[:{color}[:{bord_w}[:{bord_clr}[:{line_stl}]]]]]</b>"</dd>
<dd>"<b>arc:{p1}:{p2}:{p3}:{p4}:{p5}[:w{n}[:c{n}[:w{n}[:c{n}[:s{n}]]]]]</b>"</dd></dl></dd>
<dd> <a class="image" href="http://oscada.org/wiki/File:VCA_arc.png"><img alt="VCA arc.png" height="215" src="../files/VCA_arc.png" width="164" /></a>
<dl><dd>p1, p2 — start and end points of the elliptic arc, respectively;</dd>
<dd>p3 — center of the arc;</dd>
<dd>p4 — first radius;</dd>
<dd>p5 — second radius.</dd></dl></dd></dl>
<ul><li> Bézier curve. General form of the entry in the list, for static and dynamic parameters (may be mixed):</li></ul>
<dl><dd><dl><dd>"<b>bezier:({x}|{y}):({x}|{y}):({x}|{y}):({x}|{y})[:{width}[:{color}[:{bord_w}[:{bord_clr}[:{line_stl}]]]]]</b>"</dd>
<dd>"<b>bezier:{p1}:{p2}:{p3}:{p4}[:w{n}[:c{n}[:w{n}[:c{n}[:s{n}]]]]]</b>"</dd></dl></dd></dl>
<ul><li> Fill. General form of the entry in the list, for static and dynamic parameters (may be mixed):</li></ul>
<dl><dd><dl><dd>"<b>fill:({x}|{y}):({x}|{y}):...:({x}|{y})[:{fill_clr}[:{fill_img}]]</b>"</dd>
<dd>"<b>fill:{p1}:{p2}:...:{pN}[:c{n}[:i{n}]]</b>"<br /></dd></dl></dd></dl>
<p>Where:
</p>
<dl><dd><i>x, y</i> — direct point (x,y), coordinates in pixels with floating point;</dd>
<dd><i>p1 ... pN</i> — dynamic point 1...N;</dd>
<dd><i>width, bord_w</i> — direct width of the line and border in pixels with floating point;</dd>
<dd><i>w{n}</i> — dynamic width 'n';</dd>
<dd><i>color, bord_clr, fill_clr</i> — direct color of the line, border and fill in name or 32bit code with alpha: {name}[-{AAA}], #RRGGBB-AAA;</dd>
<dd><i>c{n}</i> — dynamic color 'n';</dd>
<dd><i>line_stl</i> — direct line style: 0-Solid, 1-Dashed, 2-Dotted;</dd>
<dd><i>s{n}</i> — dynamic style 'n';</dd>
<dd><i>fill_img</i> — direct fill image in the view "[{src}%3A]{name}", where:
<dl><dd>"src" — source of the image:
<dl><dd><i>file</i> — directly from local file by the path;</dd>
<dd><i>res</i> — from the mime resources table of DB.</dd></dl></dd>
<dd>"name" — file path or identifier of the resource mime.</dd></dl></dd>
<dd><i>i{n}</i> — dynamic fill image 'n'.<br /></dd></dl>
<p>For example:
</p>
<ul><li> line:(50|25):(90.5|25):2:yellow:3:green:2</li>
<li> arc:(25|50):(25|50):1:4:(25|50)::#000000-0</li>
<li> fill:(25|50):(25|50):c2:i2</li>
<li> fill:(50|25):(90.5|25):(90|50):(50|50):#d3d3d3:h_31</li></ul>
</td></tr>
<tr>
<td colspan="4"> <i>Attributes of each point from the graphic figures list <b>elLst</b></i>
</td></tr>
<tr>
<td> p{n}x </td>
<td> Point {n}:x </td>
<td> 30+n*6 </td>
<td> Coordinate 'x' of the point <i>n</i>.
</td></tr>
<tr>
<td> p{n}y </td>
<td> Point {n}:y </td>
<td> 30+n*6+1 </td>
<td> Coordinate 'y' of the point <i>n</i>.
</td></tr>
<tr>
<td> w{n} </td>
<td> Width {n} </td>
<td> 30+n*6+2 </td>
<td> Width <i>n</i>.
</td></tr>
<tr>
<td> с{n} </td>
<td> Color {n} </td>
<td> 30+n*6+3 </td>
<td> Color <i>n</i> (details in attribute 21).
</td></tr>
<tr>
<td> i{n} </td>
<td> Image {n} </td>
<td> 30+n*6+4 </td>
<td> Image <i>n</i> (details in attribute 26).
</td></tr>
<tr>
<td> s{n} </td>
<td> Style {n} </td>
<td> 30+n*6+5 </td>
<td> Style <i>n</i>.
</td></tr></table>
<h4><span class="mw-headline" id="Element_of_the_form_.28FormEl.29"><span class="mw-headline-number">3.9.2</span> <span id="FormEl" title="#FormEl">Element of the form (FormEl)</span></span></h4>
<p>A primitive, designed to provide the user with standard elements of the form. The general attribute list depends on the element type.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Element of the form (FormEl)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> elType </td>
<td> Element type </td>
<td> 20 </td>
<td> Type of the element, from which depends the list of additional attributes:
<ul><li> Line edit</li>
<li> Text edit</li>
<li> Check box</li>
<li> Button</li>
<li> Combo box</li>
<li> List</li>
<li> Tree</li>
<li> Table</li>
<li> Slider</li>
<li> Scroll bar</li></ul>
</td></tr>
<tr>
<td colspan="4"> <i>Line edit:</i>
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Contents of the line.
</td></tr>
<tr>
<td> view </td>
<td> View </td>
<td> 22 </td>
<td> View of the editing line:
<ul><li> Text</li>
<li> Combobox</li>
<li> Integer</li>
<li> Real</li>
<li> Time</li>
<li> Date</li>
<li> Date and Time</li>
<li> Password</li></ul>
</td></tr>
<tr>
<td> cfg </td>
<td> Configuration </td>
<td> 23 </td>
<td> Configuration of the line. Format of the value of the field for different views of the lines:
<dl><dd><i>Text</i> — configuration of the formatted input at the template with the parameters (supported only by Qt in <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">UI.Vision</a>):
<dl><dd><dl><dd><b>A</b> — ASCII alphabetic character required, [A-Za-z].</dd>
<dd><b>a</b> — ASCII alphabetic character permitted but not required.</dd>
<dd><b>N</b> — ASCII alphanumeric character required, [A-Za-z0-9].</dd>
<dd><b>n</b> — ASCII alphanumeric character permitted but not required.</dd>
<dd><b>X</b> — Any character required.</dd>
<dd><b>x</b> — Any character permitted but not required.</dd>
<dd><b>9</b> — ASCII digit required, [0-9].</dd>
<dd><b>0</b> — ASCII digit permitted but not required.</dd>
<dd><b>D</b> — ASCII digit required, [1-9].</dd>
<dd><b>d</b> — ASCII digit permitted but not required.</dd>
<dd><b>#</b> — ASCII digit or plus/minus sign permitted but not required.</dd>
<dd><b>H</b> — Hexadecimal character required, [A-Fa-f0-9].</dd>
<dd><b>h</b> — Hexadecimal character permitted but not required.</dd>
<dd><b>B</b> — Binary character required, [0-1].</dd>
<dd><b>b</b> — Binary character permitted but not required.</dd>
<dd><b>&gt;</b> — All following alphabetic characters are uppercased.</dd>
<dd><b>&lt;</b> — All following alphabetic characters are lowercased.</dd>
<dd><b>!</b> — Switch off case conversion.</dd>
<dd><b>\\</b> — Use to shield the special characters listed above to use them as separators.</dd></dl></dd></dl></dd>
<dd><i>Combobox</i> — list of values the editable combobox by lines.</dd>
<dd><i>Integer</i> — integer value in the form: "<b>{Min}:{Max}:{ChangeStep}:{Prefix}:{Suffix}</b>".</dd>
<dd><i>Real</i> — real value in the form: "<b>{Min}:{Max}:{ChangeStep}:{Prefix}:{Suffix}:{SignsAfterDot}</b>".</dd>
<dd><i>Time</i>, <i>Date</i>, <i>Date and time</i> — to form the date following the template with the parameters:
<dl><dd><dl><dd><b>d</b> — number of the day (1-31);</dd>
<dd><b>dd</b> — number of the day (01-31);</dd>
<dd><b>ddd</b> — acronym of the day ("Mon" ... "Sun");</dd>
<dd><b>dddd</b> — full name of the day ("Monday" ... "Sunday");</dd>
<dd><b>M</b> — number of the month (1-12);</dd>
<dd><b>MM</b> — number of the month (01-12);</dd>
<dd><b>MMM</b> — acronym of the month ("Jan" ... "Dec");</dd>
<dd><b>MMMM</b> — full name of the month ("January" ... "December");</dd>
<dd><b>yy</b> — last two digits of the year;</dd>
<dd><b>yyyy</b> — full year;</dd>
<dd><b>h</b> — hour (0-23);</dd>
<dd><b>hh</b> — hour (00-23);</dd>
<dd><b>m</b> — minutes (0-59);</dd>
<dd><b>mm</b> — minutes (00-59);</dd>
<dd><b>s</b> — seconds (0-59);</dd>
<dd><b>ss</b> — seconds (00-59);</dd>
<dd><b>AP,ap</b> — to display AM/PM or am/pm.</dd></dl></dd></dl></dd></dl>
</td></tr>
<tr>
<td> confirm </td>
<td> Confirm </td>
<td> 24 </td>
<td> Enable the confirming mode.
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>", where:
<ul><li> "family" — font family, for spaces use symbol '_', like: "Arial", "Courier", "Times_New_Roman";</li>
<li> "size" — font size in pixels;</li>
<li> "bold" — font bold (0 or 1);</li>
<li> "italic" — font italic (0 or 1);</li>
<li> "underline" — font underlined (0 or 1);</li>
<li> "strike" — font struck (0 or 1).<br /></li></ul>
<p>Examples:
</p>
<ul><li> "Arial 10 1 0 0 0" — Arial font size 10 pixels and bold.</li></ul>
</td></tr>
<tr>
<td colspan="4"> <i>Text edit:</i>
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Content of the editor.
</td></tr>
<tr>
<td> wordWrap </td>
<td> Word wrap </td>
<td> 22 </td>
<td> Automatically wrap text by words.
</td></tr>
<tr>
<td> confirm </td>
<td> Confirm </td>
<td> 24 </td>
<td> Enable the confirming  mode.
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>" (details above).
</td></tr>
<tr>
<td colspan="4"> <i>Check box:</i>
</td></tr>
<tr>
<td> name </td>
<td> Name </td>
<td> 26 </td>
<td> Name/label of the checkbox.
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Value of the checkbox.
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>" (details above).
</td></tr>
<tr>
<td colspan="4"> <i>Button:</i>
</td></tr>
<tr>
<td> name </td>
<td> Name </td>
<td> 26 </td>
<td> Name-inscription on the button. Allowed symbols '\n' for multiple line names.
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> The value, different for modes:
<ul><li> "Standard" — repeating parameters of events on holding <b>{delay}-{interval}</b>, time in milliseconds;</li>
<li> "Checkable" — toggle value;</li>
<li> "Menu" — list of addresses of the menu elements like to <b>/grp1/grp2/item1</b>;</li>
<li> "Load" — description line <b>{FilesTemplate}|{Header}|{FileByDefaultAndLoaded}|{FileMime}</b> and loaded file content. The files template like to "Images (*.png *.xpm *.jpg);;CSV-file (*.csv)".</li>
<li> "Save" — description line <b>{FilesTemplate}|{Header}|{FileByDefault}|{FileMime}</b> and saving file content. The files template like to before one.</li></ul>
</td></tr>
<tr>
<td> img </td>
<td> Image </td>
<td> 22 </td>
<td> Image on the button. Image name in the view <b>[{src}:]{name}</b>, where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> color </td>
<td> Color </td>
<td> 23 </td>
<td> Color of the button. Color name form "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color.</li></ul>
</td></tr>
<tr>
<td> colorText </td>
<td> Color:text </td>
<td> 27 </td>
<td> Color of the text (details above).
</td></tr>
<tr>
<td> mode </td>
<td> Mode </td>
<td> 24 </td>
<td> Operation mode of the button:
<ul><li> "Standard" — normal button which allows repeating events on it hold, the parameters into "value";</li>
<li> "Checkable" — check button, values into "value";</li>
<li> "Menu" — opens menu on press, items list into "value";</li>
<li> "Load" — provides for loading of the user-space small files through the visual interface; on the mode the button press will open the selection file dialog for loading and the file content next saving to the attribute "value";</li>
<li> "Save" — provides for saving of the user-space small files through the visual interface; on the file content writing to the attribute "value" for user will: open the selecting/setting file dialog, save the attribute "value" content to the file, after the selecting, and set clean the attribute "value".</li></ul>
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>" (details above).
</td></tr>
<tr>
<td colspan="4"> <i>List:</i>
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Current value of the list.
</td></tr>
<tr>
<td> items </td>
<td> Items </td>
<td> 22 </td>
<td> Entries of the list.
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>" (details above).
</td></tr>
<tr>
<td> mult </td>
<td> Multiple selection </td>
<td> 23 </td>
<td> Allow for multiple entries selection of the list.
</td></tr>
<tr>
<td colspan="4"> <i>Combo box, Tree:</i>
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Current value of the list.
</td></tr>
<tr>
<td> items </td>
<td> Items </td>
<td> 22 </td>
<td> Entries of the list or hierarchical items list of the tree in path "<b>/{DIR}/{DIR}/{ITEM}</b>".
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>" (details above).
</td></tr>
<tr>
<td colspan="4"> <i>Table:</i>
</td></tr>
<tr>
<td> set </td>
<td> Setting value </td>
<td> 23 </td>
<td> Value of edition of a cell of the table which address into the event "<b>ws_TableEdit_{colN}_{rowN}</b>".
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Address of the selected item. It changing follows by the event "<b>ws_TableChangeSel</b>". The address format depends from the table's selection mode:
<ul><li> "Cell" — cell address in the format "<b>{row}:{col}</b>".</li>
<li> "Row", "Column" — row-column number or cell content of the row-column key, which sets by the attribute "keyID".</li></ul>
</td></tr>
<tr>
<td> items </td>
<td> Elements </td>
<td> 22 </td>
<td>
<p>The table structure and content in the XML view:
</p>
<pre style="white-space: pre-wrap;">
&lt;tbl&gt;
&lt;h&gt;&lt;s&gt;{Header1}&lt;/s&gt;&lt;s&gt;{Header2}&lt;/s&gt;&lt;/h&gt;
&lt;r&gt;&lt;s&gt;{Row1Column1String}&lt;/s&gt;&lt;i&gt;{Row1Column1Integer}&lt;/i&gt;&lt;/r&gt;
&lt;r&gt;&lt;b&gt;{Row2Column1Logical}&lt;/b&gt;&lt;r&gt;{Row2Column2Real}&lt;/r&gt;&lt;/r&gt;
&lt;/tbl&gt;</pre>
<p>The tags:
</p>
<dl><dd>"tbl" — Table, the properties at all:
<ul><li> "sel" — selection mode of the table items: "row" — by rows, "col" — by columns, "cell" — by cells (by default);</li>
<li> "keyID" — row-column number of the key, for the selection value get;</li>
<li> "colsWdthFit" — fits the columns size, in the unfixed size, to fill the full width of the table;</li>
<li> "hHdrVis", "vHdrVis" — visibility of the headers, for horizontal and vertical;</li>
<li> "sortEn" — enables sorting directly by the columns.</li></ul></dd>
<dd>"h" — Row of the headers. Possible attributes of the header cell tag for the column as a whole:
<ul><li> "width" — column width, in pixels or percents (10%);</li>
<li> "edit" — allowing to the cells of the row edition (0 or 1), by default — no (0);</li>
<li> "color" — column color as a whole into the color name or code;</li>
<li> "colorText" — color of the column text as a whole into the color name or code;</li>
<li> "font" — font of the column text in the typical OpenSCADA string;</li>
<li> "sort" — sorting by the column [0 - Descending; 1 - Ascending].</li></ul></dd>
<dd>"r" — Row of the values. Possible attributes of the row cell tag for the row as a whole:
<ul><li> "color" — row color as a whole into the color name or code;</li>
<li> "colorText" — color of the row text as a whole into the color name or code;</li>
<li> "font" — font of the cell text in the typical OpenSCADA string.</li></ul></dd>
<dd>"s", "i", "r", "b" — cells of the data types "String", "Integer", "Real" and "Logical". Possible attributes:
<ul><li> "color" — cell color;</li>
<li> "colorText" — color of the cell text into the color name or code;</li>
<li> "font" — font of the cell text in the typical OpenSCADA string;</li>
<li> "img" — image of the cell into the form "<b>[{src}:]{name}</b>", the details above;</li>
<li> "edit" — allowing the cell edition (0 or 1), by default - no (0).</li></ul></dd></dl>
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the form "<b>{family} {size} {bold} {italic} {underline} {strike}</b>" (the details above).
</td></tr>
<tr>
<td colspan="4"> <i>Slider and Scroll Bar:</i>
</td></tr>
<tr>
<td> value </td>
<td> Value </td>
<td> 21 </td>
<td> Slider position.
</td></tr>
<tr>
<td> cfg </td>
<td> Configuration </td>
<td> 22 </td>
<td> Configuration of the slider in the format: "<b>{VertOrient}:{Min}:{Max}:{SinglStep}:{PageStep}</b>".<br />
<p>Where:
</p>
<ul><li> "VertOrient" — sign (0 or 1) of the vertical orientation, the default is the horizontal orientation;</li>
<li> "Min" — minimum value;</li>
<li> "Max" — maximum value;</li>
<li> "SinglStep" — size of a single step;</li>
<li> "PageStep" — size of a page step. </li></ul>
</td></tr></table>
<h4><span class="mw-headline" id="Text_element_.28Text.29"><span class="mw-headline-number">3.9.3</span> <span id="Text" title="#Text">Text element (Text)</span></span></h4>
<p>This primitive is intended for outputting plain and HTML text used as labels and different signatures. In order to create decorations, primitive supports the surrounding of the text by frame.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Text element (Text)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> backColor </td>
<td> Background: color </td>
<td> 20 </td>
<td> Background color. Color name in the view "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color.</li></ul>
</td></tr>
<tr>
<td> backImg </td>
<td> Background: image </td>
<td> 21 </td>
<td> Background image. The image name in the view "<b>[{src}:]{name}</b>", where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> bordWidth </td>
<td> Border: width </td>
<td> 22 </td>
<td> Border width.
</td></tr>
<tr>
<td> bordColor </td>
<td> Border: color </td>
<td> 23 </td>
<td> Border color (details in attribute 20).
</td></tr>
<tr>
<td> bordStyle </td>
<td> Border: style </td>
<td> 24 </td>
<td> Border style: "None", "Dotted", "Dashed", "Solid", "Double", "Groove", "Ridge", "Inset", "Outset".
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 25 </td>
<td> Font name in the view "<b>{family} {size} {bold} {italic} {underline} {strike}</b>", where:
<ul><li> "family" — font family, for spaces use symbol '_', like: "Arial", "Courier", "Times_New_Roman";</li>
<li> "size" — font size in pixels;</li>
<li> "bold" — font bold (0 or 1);</li>
<li> "italic" — font italic (0 or 1);</li>
<li> "underline" — font underlined (0 or 1);</li>
<li> "strike" — font struck (0 or 1).<br /></li></ul>
<p>Examples:
</p>
<ul><li> "Arial 10 1 0 0 0" — Arial font size 10 pixels and bold.</li></ul>
</td></tr>
<tr>
<td> color </td>
<td> Color </td>
<td> 26 </td>
<td> Text color (details in attribute 20).
</td></tr>
<tr>
<td> orient </td>
<td> Orientation angle </td>
<td> 27 </td>
<td> Orientation of the text, the angle of rotation.
</td></tr>
<tr>
<td> wordWrap </td>
<td> Word wrap </td>
<td> 28 </td>
<td> Automatically wrap text by words.
</td></tr>
<tr>
<td> alignment </td>
<td> Alignment </td>
<td> 29 </td>
<td> Alignment of the text: "Top left", "Top right", "Top center", "Top justify", "Bottom left", "Bottom right", "Bottom justify", "V center left", "V center right", "Center", "V center justify".
</td></tr>
<tr>
<td> inHtml </td>
<td> In HTML </td>
<td> 31 </td>
<td> Displays and supports the content of the argument <i>text</i> in HTML.
</td></tr>
<tr>
<td> text </td>
<td> Text </td>
<td> 30 </td>
<td> Text value. Use "<b>%{x}</b>" to place the value of the argument 'x' (from 1).
</td></tr>
<tr>
<td> numbArg </td>
<td> Arguments number </td>
<td> 40 </td>
<td> Arguments number.
</td></tr>
<tr>
<td colspan="4"> <i>Attributes of the arguments</i>
</td></tr>
<tr>
<td> arg{x}val </td>
<td> Argument {x}: value </td>
<td> 50+10*x </td>
<td> Argument <i>x</i> value.
</td></tr>
<tr>
<td> arg{x}tp </td>
<td> Argument {x}: type </td>
<td> 50+10*x+1 </td>
<td> Argument <i>x</i> type: "Integer", "Real", "String".
</td></tr>
<tr>
<td> arg{x}cfg </td>
<td> Argument {x}: config </td>
<td> 50+10*x+2 </td>
<td> Argument <i>x</i> configuration:
<ul><li> "String": <b>{len}</b> — string length;</li>
<li> "Real": <b>{wdth};{form};{prec}</b> — width, form ('g', 'e', 'f') and precision of the value;</li>
<li> "Integer": <b>{len}</b> — value length. </li></ul>
</td></tr></table>
<h4><span class="mw-headline" id="Element_of_visualization_of_media-materials_.28Media.29"><span class="mw-headline-number">3.9.4</span> <span id="Media" title="#Media">Element of visualization of media-materials (Media)</span></span></h4>
<p>This primitive is intended for playing various media materials, ranging from simple images to high-quality audio and video streams.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Element of visualization of media-materials (Media)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> backColor </td>
<td> Background: color </td>
<td> 20 </td>
<td> Background color. Color name in the view "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color. </li></ul>
</td></tr>
<tr>
<td> backImg </td>
<td> Background: image </td>
<td> 21 </td>
<td> Background image. The image name in the view "<b>[{src}:]{name}</b>", where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> bordWidth </td>
<td> Border: width </td>
<td> 22 </td>
<td> Border width.
</td></tr>
<tr>
<td> bordColor </td>
<td> Border: color </td>
<td> 23 </td>
<td> Border color (details in attribute 20).
</td></tr>
<tr>
<td> bordStyle </td>
<td> Border: style </td>
<td> 24 </td>
<td> Border style: "None", "Dotted", "Dashed", "Solid", "Double", "Groove", "Ridge", "Inset", "Outset".
</td></tr>
<tr>
<td> src </td>
<td> Source </td>
<td> 25 </td>
<td>
<p>Name of the Media source in the view "<b>[{src}:]{name}</b>", where:
</p>
<ul><li> "src" — source:
<ul><li> <i>file</i> — directly from the local file, visualizer and engine, by the path;</li>
<li> <i>res</i> — from the mime resources table of DB;</li>
<li> <i>stream</i> — stream URL for playback video and audio.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:workMedia" — from the mime resources table of DB for the identifier "workMedia";</li>
<li> "workMedia" — like to previous;</li>
<li> "file:/var/tmp/workMedia.mng" — from the local file by the path "/var/tmp/workMedia.mng";</li>
<li> "stream:http://localhost.localhost:5050" — playback for video and audio stream from the URL.</li></ul>
</td></tr>
<tr>
<td> type </td>
<td> Type </td>
<td> 27 </td>
<td>
<p>Media type:
</p>
<ul><li> "Image" — raster or vector (can not support) image, like to: PNG, JPEG, GIF, SVG;</li>
<li> "Animation" — simple animation image, like to: GIF, MNG;</li>
<li> "Video" — full video or stream, like to: OGM, AVI, MKV, MPG, MP4;</li>
<li> "Audio" — just audio or stream, like to: OGG, MP3, WAV.</li></ul>
</td></tr>
<tr>
<td> areas </td>
<td> Map areas </td>
<td> 28 </td>
<td> Number of the active areas.
</td></tr>
<tr>
<td colspan="4"> <i>Attributes of the image (Image)</i>
</td></tr>
<tr>
<td> fit </td>
<td> Fit to the widget size </td>
<td> 26 </td>
<td> Sign "Coordinate the contents with the widget size".
</td></tr>
<tr>
<td colspan="4"> <i>Attributes of the animation-video (Animation)</i>
</td></tr>
<tr>
<td> fit </td>
<td> Fit to the widget size </td>
<td> 26 </td>
<td> Sign "Coordinate the contents with the widget size".
</td></tr>
<tr>
<td> speed </td>
<td> Play speed </td>
<td> 29 </td>
<td> Speed of playback, as a percentage from the original speed. If the value is less or even than 1%, the playback stops.
</td></tr>
<tr>
<td colspan="4"> <i>Attributes of the full video (Full video)</i>
</td></tr>
<tr>
<td> play </td>
<td> Play </td>
<td> 29 </td>
<td> Video/audio — "Play".
</td></tr>
<tr>
<td> roll </td>
<td> Roll play </td>
<td> 30 </td>
<td> Roll play on the finish.
</td></tr>
<tr>
<td> pause </td>
<td> Pause </td>
<td> 31 </td>
<td> Playing pause.
</td></tr>
<tr>
<td> size </td>
<td> Size </td>
<td> 32 </td>
<td> Total video size, in milliseconds.
</td></tr>
<tr>
<td> seek </td>
<td> Seek </td>
<td> 33 </td>
<td> Seek video playing, in milliseconds.
</td></tr>
<tr>
<td> volume </td>
<td> Volume </td>
<td> 34 </td>
<td> Sound volume [0...100].
</td></tr>
<tr>
<td colspan="4"> <i>Active areas</i>
</td></tr>
<tr>
<td> area{x}shp </td>
<td> Area {x}: shape </td>
<td> 40+3*x </td>
<td> Type of the area <i>x</i>: "Rect", "Poly", "Circle".
</td></tr>
<tr>
<td> area{x}coord </td>
<td> Area {x}: coordinates </td>
<td> 40+3*x+1 </td>
<td> Coordinates of the area <i>x</i>, are separated by commas: "x1,y1,x2,y2,xN,yN".
</td></tr>
<tr>
<td> area{x}title </td>
<td> Area {x}: title </td>
<td> 40+3*x+2 </td>
<td> Title of the area <i>x</i>.
</td></tr></table>
<h4><span class="mw-headline" id="Element_of_constructing_diagrams_.28Diagram.29"><span class="mw-headline-number">3.9.5</span> <span id="Diagram" title="#Diagram">Element of constructing diagrams (Diagram)</span></span></h4>
<p>This primitive targeted to construct various diagrams in the time, including graphs-trends showing ongoing process and the archive data. Following types of the diagrams are implemented:
</p>
<ul><li> "Graph-trend" — builds a graph of the parameter values in the time.</li>
<li> "Spectrum" — builds the frequency spectrum of the parameter values. Window of the data of the frequency spectrum is formed on the basis of the horizontally size of the widget, in pixels, and the available data of the parameters imposed on the grid of the horizontal size. Due to this, the minimum allocated frequency is determined by the value of the attribute "tSize" — "<b>1/tSize</b>", and the maximum one is determined by half-width of the graph in pixels multiplied by the minimum frequency "<b>width/(2*tSize)</b>".</li>
<li> "XY" — builds the two-dimensional graph of the parameters values, by pairs to one graphic, where paired by axis Y (0,2,4...) and unpaired by axis X (1,3,5...). Specified data time range is used in the received values of the parameters of the X and Y axis, with the subsequent imaging.</li></ul>
<p>For all the diagram types possible to set, as the data source:
</p>
<ul><li> parameter of the subsystem "DAQ";</li>
<li> value archive;</li>
<li> direct data block from the user.</li></ul>
<p>The tracking mode is supported for current values and values from the archive, and it is possible to construct graphs of parameters that do not have a value archive by accumulating the current values in the buffer of the diagram and only at the moment of active display of this diagram.
</p><p>Process of access to archival data is optimized by introducing an intermediate buffer of displaying, as well as the packaging of data traffic upon request, by bringing the data to a quality sufficient to display.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Element of constructing diagrams (Diagram)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> backColor </td>
<td> Background: color </td>
<td> 20 </td>
<td> Background color. Color name in the view "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color.</li></ul>
</td></tr>
<tr>
<td> backImg </td>
<td> Background: image </td>
<td> 21 </td>
<td> Background image. The image name in the view "<b>[{src}:]{name}</b>", where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> bordWidth </td>
<td> Border: width </td>
<td> 22 </td>
<td> Border width.
</td></tr>
<tr>
<td> bordColor </td>
<td> Border: color </td>
<td> 23 </td>
<td> Border color (details in attribute 20).
</td></tr>
<tr>
<td> bordStyle </td>
<td> Border: style </td>
<td> 24 </td>
<td> Border style: "None", "Dotted", "Dashed", "Solid", "Double", "Groove", "Ridge", "Inset", "Outset".
</td></tr>
<tr>
<td> trcPer </td>
<td> Tracing period, seconds </td>
<td> 25 </td>
<td> Mode and periodicity of the tracing.
</td></tr>
<tr>
<td> type </td>
<td> Type </td>
<td> 26 </td>
<td> Diagram type: "Trend", "Spectrum", "XY".
</td></tr>
<tr>
<td colspan="4"> <i>General attributes for all the types</i>
</td></tr>
<tr>
<td> tSek </td>
<td> Time: seconds </td>
<td> 27 </td>
<td> Current time, seconds.
</td></tr>
<tr>
<td> tUSek </td>
<td> Time: microseconds </td>
<td> 28 </td>
<td> Current time, microseconds.
</td></tr>
<tr>
<td> tSize </td>
<td> Size, seconds </td>
<td> 29 </td>
<td> Size of the data, seconds.
</td></tr>
<tr>
<td> curSek </td>
<td> Cursor: seconds </td>
<td> 30 </td>
<td> Cursor position, seconds.
</td></tr>
<tr>
<td> curUSek </td>
<td> Cursor: microseconds </td>
<td> 31 </td>
<td> Cursor position, microseconds.
</td></tr>
<tr>
<td> curColor </td>
<td> Cursor: color </td>
<td> 32 </td>
<td> Cursor color.
</td></tr>
<tr>
<td> sclColor </td>
<td> Scale: color </td>
<td> 33 </td>
<td> Color of the scale-grid (details in attribute 20).
</td></tr>
<tr>
<td> sclHor </td>
<td> Scale: horizontal </td>
<td> 34 </td>
<td> Horizontal mode of the scale-grid: "No draw", "Grid", "Markers", "Grid and markers", "Grid (log)", "Markers (log)", "Grid and markers (log)".
</td></tr>
<tr>
<td> sclHorScl </td>
<td> Scale: horizontal scale (%) </td>
<td> 44 </td>
<td> Horizontal scale of the graphic in percents, exclusively for the type "XY".
</td></tr>
<tr>
<td> sclHorSclOff </td>
<td> Scale: horizontal scale offset (%) </td>
<td> 45 </td>
<td> Offset of the horizontal scale of the graphic in percents, exclusively for type "XY".
</td></tr>
<tr>
<td> sclVer </td>
<td> Scale: vertical </td>
<td> 35 </td>
<td> Vertical mode of the scale-grid: "No draw", "Grid", "Markers", "Grid and markers", "Grid (log)", "Markers (log)", "Grid and markers (log)".
</td></tr>
<tr>
<td> sclVerScl </td>
<td> Scale: vertical scale (%) </td>
<td> 40 </td>
<td> Vertical scale of the graphic in percents.
</td></tr>
<tr>
<td> sclVerSclOff </td>
<td> Scale: vertical scale offset (%) </td>
<td> 41 </td>
<td> Offset of the vertical scale of the graphic in percents.
</td></tr>
<tr>
<td> sclMarkColor </td>
<td> Scale: Markers: color </td>
<td> 36 </td>
<td> Color of the markers of the scale-grid (details in attribute 20).
</td></tr>
<tr>
<td> sclMarkFont </td>
<td> Scale: Markers: font </td>
<td> 37 </td>
<td> Font of the markers of the scale-grid. Font name in the view "<b>{family} {size} {bold} {italic} {underline} {strike}</b>", where:
<ul><li> "family" — font family, for spaces use symbol '_', like: "Arial", "Courier", "Times_New_Roman";</li>
<li> "size" — font size in pixels;</li>
<li> "bold" — font bold (0 or 1);</li>
<li> "italic" — font italic (0 or 1);</li>
<li> "underline" — font underlined (0 or 1);</li>
<li> "strike" — font struck (0 or 1).<br /></li></ul>
<p>Examples:
</p>
<ul><li> "Arial 10 1 0 0 0" — Arial font size 10 pixels and bold.</li></ul>
</td></tr>
<tr>
<td> valArch </td>
<td> Value archiver </td>
<td> 38 </td>
<td> Value archiver in the view "<b>{ArchMod}.{ArchivatorId}</b>".
</td></tr>
<tr>
<td> valsForPix </td>
<td> Values per pixel </td>
<td> 42 </td>
<td> Number of values per pixel. Increase to enhance the accuracy of export at the large time intervals.
</td></tr>
<tr>
<td> parNum </td>
<td> Parameters number </td>
<td> 39 </td>
<td> Number of parameters that can be displayed on the one trend.
</td></tr>
<tr>
<td> <i>Attributes for type: "Graph"</i>
</td></tr>
<tr>
<td> sclHorPer </td>
<td> Scale: horizontal grid size, seconds </td>
<td> 43 </td>
<td> Fixed period of the horizontal scale grid — disables automatic calculation of the grid period. Activates if the number of periods for a total size greater than two and a size of one period is at least 15 pixels.
</td></tr>
<tr>
<td colspan="4"> <i><u>Individual attributes of the parameters</u></i>
</td></tr>
<tr>
<td> prm{X}addr </td>
<td> Parameter {X}: address </td>
<td> 50+10*{X} </td>
<td> Full address to a DAQ attribute of the parameter <i>X</i> or to an archive.<br />
<p>Direct data set by the prefixes is supported:
</p>
<ul><li> "<i>data:{XMLNodeData}</i>" — drawing from the direct set data;</li>
<li> "<i>line:{value}</i>" — drawing the horizontal line by a value, no sense have for the type "XY".<br /></li></ul>
<p>Example:
</p>
<ul><li> "/DAQ/System/AutoDA/MemInfo/use" — address to the attribute "use" of the parameter "MemInfo" of the controller "AutoDA" of the DAQ module "System";</li>
<li> "/Archive/va_CPULoad_load" — address to the archive "CPULoad_load".</li>
<li> "data:&lt;d s="1" aprox="1" tm="1369465209" tm_grnd="1369465200" per="1"&gt;</li></ul>
<dl><dd>0 3.14</dd>
<dd>1 3.141</dd>
<dd>5 3.1415&lt;/d&gt;" — data for 10 seconds and period 1 second from "25.05.2013 10:00:00"; at pass "tm" and "tm_grnd" it will takes the values from the diagram range, and also by set the attribute "s" it will allows the time setting in seconds; "aprox" — approximate the transition from one point to another instead of the previous value to all the periodicity points from the packaging;</dd></dl>
<ul><li> "line:3.14159265" — horizontal line at the value "3.14159265".</li></ul>
</td></tr>
<tr>
<td> prm{X}bordL </td>
<td> Parametr {X}: view border: lower </td>
<td> 50+10*{X}+1 </td>
<td> Lower limit of the parameter <i>X</i>.
</td></tr>
<tr>
<td> prm{X}bordU </td>
<td> Parametr {X}: view border: upper </td>
<td> 50+10*{X}+2 </td>
<td> Upper limit of the parameter <i>X</i>.
</td></tr>
<tr>
<td> prm{X}color </td>
<td> Parametr {X}: color </td>
<td> 50+10*{X}+3 </td>
<td> Color for display the chart of the parameter <i>X</i> (details in attribute 20).
</td></tr>
<tr>
<td> prm{X}width </td>
<td> Parametr {X}: width </td>
<td> 50+10*{X}+6 </td>
<td> Line width for display the chart of the parameter <i>X</i>, in pixels.
</td></tr>
<tr>
<td> prm{X}scl </td>
<td> Parametr {X}: scale </td>
<td> 50+10*{X}+5 </td>
<td> Separated vertical scale mode of the parameter <i>X</i>: "Global", "Markers", "Grid and markers", "Markers (log)", "Grid and markers (log)".
</td></tr>
<tr>
<td> prm{X}val </td>
<td> Parametr {X}: value </td>
<td> 50+10*{X}+4 </td>
<td> Value of the parameter <i>X</i> under the cursor.
</td></tr>
<tr>
<td> prm{X}prop </td>
<td> Parametr {X}: properties </td>
<td> 50+10*{X}+7 </td>
<td> Real archive properties in the view "<b>{BegArh}:{EndArh}:{DataPeriod}</b>", where "BegArh", "EndArh", "DataPeriod" — begin, end and period of the archive's data, in seconds, in real up to microseconds (1e-6).
</td></tr></table>
<h4><span class="mw-headline" id="Element_of_building_the_protocols_based_on_the_message_archives_.28Protocol.29"><span class="mw-headline-number">3.9.6</span> <span id="Protocol" title="#Protocol">Element of building the protocols based on the message archives (Protocol)</span></span></h4>
<p>This primitive is designed to visualize the data of the message archive through the formation of protocols with different ways of visualization, starting from a static scanning view and finishing with dynamic tracing.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Element of building the protocols based on the message archives (Protocol)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> backColor </td>
<td> Background: color </td>
<td> 20 </td>
<td> Background color. Color name in the view "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color.</li></ul>
</td></tr>
<tr>
<td> backImg </td>
<td> Background: image </td>
<td> 21 </td>
<td> Background image. The image name in the view "<b>[{src}:]{name}</b>", where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 22 </td>
<td> Font name in the view "<b>{family} {size} {bold} {italic} {underline} {strike}</b>", where:
<ul><li> "family" — font family, for spaces use symbol '_', like: "Arial", "Courier", "Times_New_Roman";</li>
<li> "size" — font size in pixels;</li>
<li> "bold" — font bold (0 or 1);</li>
<li> "italic" — font italic (0 or 1);</li>
<li> "underline" — font underlined (0 or 1);</li>
<li> "strike" — font struck (0 or 1).<br /></li></ul>
<p>Examples:
</p>
<ul><li> "Arial 10 1 0 0 0" — Arial font size 10 pixels and bold.</li></ul>
</td></tr>
<tr>
<td> headVis </td>
<td> Header visible </td>
<td> 23 </td>
<td> Visibility for header of the table.
</td></tr>
<tr>
<td> time </td>
<td> Time, seconds </td>
<td> 24 </td>
<td> Current time, seconds.
</td></tr>
<tr>
<td> tSize </td>
<td> Size, seconds </td>
<td> 25 </td>
<td> Query data size, seconds. Set value to '0' for get all alarms, for "lev" &lt; 0.
</td></tr>
<tr>
<td> trcPer </td>
<td> Tracing period, seconds </td>
<td> 26 </td>
<td> Mode and periodicity of the tracing.
</td></tr>
<tr>
<td> arch </td>
<td> Archiver </td>
<td> 27 </td>
<td> Message archiver in the view "<b>{ArchMod}.{ArchivatorId}</b>".
</td></tr>
<tr>
<td> tmpl </td>
<td> Template </td>
<td> 28 </td>
<td> Category template or regular expression "<b>/{re}/</b>". For the template the special symbols are reserved:
<ul><li> '*' — any multiply, symbols group;</li>
<li> '?' — any, one symbol;</li>
<li> '\\' — use for shielding the special symbols.</li></ul>
</td></tr>
<tr>
<td> lev </td>
<td> Level </td>
<td> 29 </td>
<td> Level of the messages. Set value to &lt; 0 for get the current alarms.
</td></tr>
<tr>
<td> viewOrd </td>
<td> View order </td>
<td> 30 </td>
<td> View order: "By time", "By level", "By category", "By messages", "By time (reverse)", "By level (reverse)", "By category (reverse)", "By messages (reverse)".
</td></tr>
<tr>
<td> col </td>
<td> Show columns </td>
<td> 31 </td>
<td> List of the visible and order of the columns separated by the symbol ';'. The columns are provided:
<ul><li> "pos" — row number;</li>
<li> "tm" — date and time of the message;</li>
<li> "utm" — microseconds part of the message time;</li>
<li> "lev" — level of the message;</li>
<li> "cat" — category of the message;</li>
<li> "mess" — text of the message.</li></ul>
</td></tr>
<tr>
<td> itProp </td>
<td> Item properties </td>
<td> 32 </td>
<td> Number of the item properties.
</td></tr>
<tr>
<td colspan="4"> <i><u>Individual attributes of the item properties</u></i>
</td></tr>
<tr>
<td> it{X}lev </td>
<td> Item {X}: level </td>
<td> 40+5*{X} </td>
<td> Criterion: level of the element <i>X</i>, more or equal for the pointed.
</td></tr>
<tr>
<td> it{X}tmpl </td>
<td> Item {X}: template </td>
<td> 40+5*{X}+1 </td>
<td> Criterion: category template of the element <i>X</i> (details in attribute 28).
</td></tr>
<tr>
<td> it{X}fnt </td>
<td> Item {X}: font </td>
<td> 40+5*{X}+2 </td>
<td> Font of the element <i>X</i> (details in attribute 22).
</td></tr>
<tr>
<td> it{X}сolor </td>
<td> Item {X}: color </td>
<td> 40+5*{X}+3 </td>
<td> Color of the element <i>X</i> (details in attribute 20).
</td></tr></table>
<h4><span class="mw-headline" id="Element_of_formation_of_the_documentation_.28Document.29"><span class="mw-headline-number">3.9.7</span> <span id="Document" title="#Document">Element of formation of the documentation (Document)</span></span></h4>
<p>The primitive is intended for the formation of reporting, operational and other documentation based on document templates.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Element of formation of the documentation (Document)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> style </td>
<td> CSS </td>
<td> 20 </td>
<td> CSS rules in lines like to "<b>body { background-color:#818181; }</b>".
</td></tr>
<tr>
<td> tmpl </td>
<td> Template </td>
<td> 21 </td>
<td> Template of the document in XHTML, starts from the tag "body" and includes the procedure parts:
<pre style="white-space: pre-wrap;">
&lt;body docProcLang="JavaLikeCalc.JavaScript"&gt;
  &lt;h1&gt;Value&lt;?dp return wCod+1.314;?&gt;&lt;/h1&gt;
&lt;/body&gt;</pre> 
</td></tr>
<tr>
<td> doc </td>
<td> Document </td>
<td> 22 </td>
<td> Final document in XHTML, starts from the tag "body".
</td></tr>
<tr>
<td> font </td>
<td> Font </td>
<td> 26 </td>
<td> Basic font of the text. Font name in the view "<b>{family} {size} {bold} {italic} {underline} {strike}</b>", where:
<ul><li> "family" — font family, for spaces use symbol '_', like: "Arial", "Courier", "Times_New_Roman";</li>
<li> "size" — font size in pixels;</li>
<li> "bold" — font bold (0 or 1);</li>
<li> "italic" — font italic (0 or 1);</li>
<li> "underline" — font underlined (0 or 1);</li>
<li> "strike" — font struck (0 or 1).<br /></li></ul>
<p>Examples:
</p>
<ul><li> "Arial 10 1 0 0 0" — Arial font size 10 pixels and bold. </li></ul>
</td></tr>
<tr>
<td> bTime </td>
<td> Time: begin </td>
<td> 24 </td>
<td> Start time of the document, seconds.
</td></tr>
<tr>
<td> time </td>
<td> Time: current </td>
<td> 23 </td>
<td> Time of the document generation, seconds. Write the time for the document generation from that point or zero for regeneration.
</td></tr>
<tr>
<td> process </td>
<td> In the process </td>
<td> 27 </td>
<td> Indication of the process of forming a document in a separate thread.
</td></tr>
<tr>
<td> n </td>
<td> Archive size </td>
<td> 25 </td>
<td> Number of the documents or the depth of the archive.
</td></tr>
<tr>
<td colspan="4"> <i>Attributes of the enabled archival mode</i>
</td></tr>
<tr>
<td> aCur </td>
<td> Archive: cursor: current </td>
<td> - </td>
<td> Position of the current document in the archive. Record of the value <i>&lt;0</i> produces the archiving of this document.
</td></tr>
<tr>
<td> vCur </td>
<td> Archive: cursor: view </td>
<td> - </td>
<td>
<p>Current visual document of the archive. Writing a value of:
</p>
<ul><li> <i>-1</i> — selecting the next document;</li>
<li> <i>-2</i> — selecting the previous document.</li></ul>
</td></tr>
<tr>
<td> aDoc </td>
<td> Archive: current document </td>
<td> - </td>
<td> Current archive document in XHTML, starts from the tag "body".
</td></tr>
<tr>
<td> aSize </td>
<td> Archive: size </td>
<td> - </td>
<td> Real size of the archive document.
</td></tr></table>
<p>Features of the primitive "Document":
</p>
<ul><li> Flexible formation of document structure based on HyperText Markup Language, which provides support for a wide range of features in the documents formatting.</li>
<li> Formation of the documents at a command or a schedule, which necessary for creation of reports to the archive and then reviewing the archive.</li>
<li> Formation of the documents in real time, to provide them completely dynamically and on the basis of archives at the specified time.</li>
<li> Using the widget attributes for transmission to the document of values and addresses to the archives, which allows you to use the document widget as a template when generating reports with other input data.</li></ul>
<p>The basis of any document is the XHTML template. The XHTML-template is the tag "body" of the WEB-page which contains the document's static in the standard XHTML 1.0 and elements of the executable instructions in the user programming language of OpenSCADA in the view <b>&lt;?dp {procedure}&nbsp;?&gt;</b>. The resulting document is formed by the procedures execution and insertion of their result into the document.
</p><p>The source for values of the executable instructions are the widget attributes of the primitive, as well as all the mechanisms of the user programming language OpenSCADA. Attributes may be added by the user and they can be linked to the actual attributes or parameters or they can be autonomous, values of which will be formed in the widget procedure. In the case of linked attributes the values can be extracted from the archive-history.
</p><p>The figure shows the structure of the widget of the primitive "Document". According to this structure, "Document" contains: XHTML template, results documents and data processing procedure. Data source of the procedure and output documents is attributes of the widget.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:556px;"><a class="image" href="http://oscada.org/wiki/File:VCA_document.png"><img class="thumbimage" height="381" src="../files/VCA_document.png" width="554" /></a>  <div class="thumbcaption">Figure. Block diagram of the primitive "Document".</div></div></div></div>
<p>Working in two modes is provided: "Dynamic" and "Archive". Difference between archive mode is the availability of the archive of the specified depth and attributes which allow you to control the process of archiving and viewing of the document in the archive.
</p><p>Generation of the document is always performed at the time of setting of the attribute <i>time</i> relative to the earlier set begin time of the document in the attribute <i>bTime</i>. With the archive turned off the resulting document is placed directly in the attribute <i>doc</i>. When the archive is turned on the resulting document is placed in the cell under the cursor, the attribute <i>aCur</i>, as well as in <i>doc</i> if value of the archive cursor <i>aCur</i> and the visualized document cursor <i>vCur</i> match. Attributes of the archival cursors provide several command values:
</p>
<ul><li> "aCur &lt; 0" — moves the archiver cursor to the following position, thereby leaving the previous document in the archive and clearing the document under the cursor, at short the circle archive.</li>
<li> "vCur == -1" — selecting the next document to be displayed, the selected document is copied to the attribute <i>doc</i>.</li>
<li> "vCur == -2" — selecting the previous document to be displayed, the selected document is copied to the attribute <i>doc</i>.</li></ul>
<p>As mentioned above, the dynamics of the document template is determined by inserts of executable instructions of the view "<b>&lt;?dp {procedure}&nbsp;?&gt;</b>". The procedures may use the same attributes of the widget and functions of the user programming interface of OpenSCADA. In addition to widget attributes, special attributes are reserved, see the table.
</p><p><b>Table 3.8.7.a.</b> Special and reserved elements of the template.
</p>
<table class="wikitable">

<tr>
<th> Name </th>
<th> Assignment
</th></tr>
<tr>
<td colspan="2"> <i>Attributes</i>
</td></tr>
<tr>
<td> rez </td>
<td> Attribute of the result of the procedure, the contents of which is placed in the document tree.
</td></tr>
<tr>
<td> lTime </td>
<td> Last formation time. If the document is formed for the first time, <i>lTime</i> is equal to the <i>bTime</i>.
</td></tr>
<tr>
<td> rTime </td>
<td> Contains the time of look through values, seconds, defined within tags with the attribute docRept.
</td></tr>
<tr>
<td> rTimeU </td>
<td> Contains the time of look through values, microseconds, defined within tags with the attribute docRept.
</td></tr>
<tr>
<td> rPer </td>
<td> Contains the period of look through values, the attribute "docRept".
</td></tr>
<tr>
<td> mTime, mTimeU, mLev, mCat, mVal </td>
<td> Defined inside tags with the attribute "docAMess" when parsing messages of the message archive:
<dl><dd><i>mTime</i> — time of the message, seconds;</dd>
<dd><i>mTimeU</i> — time of the message, microseconds;</dd>
<dd><i>mLev</i> — level of the message;</dd>
<dd><i>mCat</i> — category of the message;</dd>
<dd><i>mVal</i> — value of the message.</dd></dl>
</td></tr>
<tr>
<td colspan="2"> <i>Special tags</i>
</td></tr>
<tr>
<td colspan="2"> <i>Special attributes of the standard tags</i>
</td></tr>
<tr>
<td> body.docProcLang </td>
<td> Language of the executable procedures of the document, by defaults it is "JavaLikeCalc.JavaScript".
</td></tr>
<tr>
<td> *.docRept="1s" </td>
<td> Tag with the specified attribute multiplies, during the formation, by shifting the time in the attribute "rTime" to the value specified in this attribute.
</td></tr>
<tr>
<td> *.docAMess="1:PLC*" </td>
<td> Indicates the need for multiplication a tag with the attribute, by messages from the message archive for the specified time interval, according to the level "1" and the query template "PLC*", by the message category. In the query template, <a class="extiw" href="https://en.wikipedia.org/wiki/Regular_expression" title="wikipedia:Regular expression">regular expressions</a> can be specified "<b>/{re}/</b>". For this tag, in the process of multiplication, the following attributes are defined: mTime, mTimeU, mLev, mCat and mVal.
</td></tr>
<tr>
<td> *.docAMessArchs="ArchMod0.Archivator0[;ArchModN.ArchivatorN]" </td>
<td> Appends the attribute "*.docAMess" by the list of archivers for reading messages.
</td></tr>
<tr>
<td> *.docRevers="1" </td>
<td> Indicates the inverting of the multiplication order — the last one above.
</td></tr>
<tr>
<td> *.docAppend="1" </td>
<td> Indication of the need to add the result of the procedure to the procedure tag. Otherwise, the result will replace the tag content.
</td></tr>
<tr>
<td> body.docTime </td>
<td> Time of formation of the document. Used to set the attribute <i>lTime</i> in the time of the next formation of the document. It is not set by the user!
</td></tr>
<tr>
<td> table.export="1" </td>
<td> Enable the ability to export the contents of the specified table to a CSV-file or other spreadsheet formats.
</td></tr></table>
<h4><span class="mw-headline" id="Container_.28Box.29"><span class="mw-headline-number">3.9.8</span> <span id="Box" title="#Box">Container (Box)</span></span></h4>
<p>The container primitive is used to build composite widgets and/or the pages of the user interface.
</p><p><b>Table.</b> List of additional properties/attributes of the primitive "Container (Box)"
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Number </th>
<th> Value
</th></tr>
<tr>
<td> pgOpenSrc </td>
<td> Page: source of the opening </td>
<td> 3 </td>
<td> Full address of the page, included inside of the container.
</td></tr>
<tr>
<td> pgGrp </td>
<td> Page: group </td>
<td> 4 </td>
<td> Group of the container of the pages.
</td></tr>
<tr>
<td> backColor </td>
<td> Background: color </td>
<td> 20 </td>
<td> Background color. Color name in the view "<b>{color}[-{alpha}]</b>", where:
<ul><li> "color" — standard color name or its numeric representation of three hexadecimal numbers of individual colors "#RRGGBB";</li>
<li> "alpha" — level of the alpha [0...255], where 0 — completely transparent.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "red" — solid red color;</li>
<li> "#FF0000" — solid red color by the digital code;</li>
<li> "red-127" — half transparent red color.</li></ul>
</td></tr>
<tr>
<td> backImg </td>
<td> Background: image </td>
<td> 21 </td>
<td> Background image. The image name in the view "<b>[{src}:]{name}</b>", where:
<ul><li> "src" — source of the image:
<ul><li> <i>file</i> — directly from the local file by the path;</li>
<li> <i>res</i> — from the mime resources table of DB.</li></ul></li>
<li> "name" — file path or identifier of the mime resource.<br /></li></ul>
<p>Examples:
</p>
<ul><li> "res:backLogo" — from the mime resources table of DB for the identifier "backLogo";</li>
<li> "backLogo" — like toe the previous;</li>
<li> "file:/var/tmp/backLogo.png" — from local file by the path "/var/tmp/backLogo.png".</li></ul>
</td></tr>
<tr>
<td> bordWidth </td>
<td> Border: width </td>
<td> 22 </td>
<td> Border width.
</td></tr>
<tr>
<td> bordColor </td>
<td> Border: color </td>
<td> 23 </td>
<td> Border color (details in attribute 20).
</td></tr>
<tr>
<td> bordStyle </td>
<td> Border: style </td>
<td> 24 </td>
<td> Border style: "None", "Dotted", "Dashed", "Solid", "Double", "Groove", "Ridge", "Inset", "Outset".
</td></tr></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Database_using_to_store_libraries_of_widgets_and_projects"><span class="mw-headline-number">3.10</span> Database using to store libraries of widgets and projects</span></h3>
<p>Storing data widgets, widget libraries and projects is implemented in DB, accessible by OpenSCADA. The database is organized according to the data belonging to the library-project. That is, a separate library-project is stored in a separate group of database tables. The list of widget libraries is stored in the index table of libraries called "VCALibs" and the "Libs" structure, and the list of projects in the index table "VCAPrjs" and the structure "Projs". An instance of these tables is created in each database where the data of this module is stored. The tables belonging to the widget library and the project include the following:
</p>
<ul><li> "<b>{DB_TBL}</b>" — table of widgets belonging to the library (structure "LibWigets"), or pages belonging to the project (structure "ProjPages");</li>
<li> "<b>{DB_TBL}_io</b>" — table of working properties of widgets and nested widgets of the library (structure "LibWidgetIO") or properties of project pages (structure "ProjPageIO");</li>
<li> "<b>{DB_TBL}_uio</b>" — table of user properties of widgets and nested widgets of the library (structure "LibWidgetUserIO") or user properties of project pages (structure "ProjPageUserIO");</li>
<li> "<b>{DB_TBL}_incl</b>" — table of widgets, included in widgets-containers, of the library (structure "LibWidgetIncl") or the project (structure "ProjPageWIncl");</li>
<li> "<b>{DB_TBL}_mime</b>" — table of library resources and its widgets (structure "LibWidgetMime"), or the project and its pages (structure "ProjMime");</li>
<li> "<b>{DB_TBL}_stl</b>" — table of values of styled parameters of the project (structure "PrjStlIO");</li>
<li> "<b>{DB_TBL}_ses</b>" — table of data for the project execution mode, that is, sessions (the structure of "PrjSesIO").</li></ul>
<p>Projections (structures) of basic tables are as follows:
</p>
<ul><li> <b>Libs(<u>ID</u>, NAME, DSCR, DB_TBL, ICO)</b> — libraries of the widgets <i>ID</i>.</li></ul>
<dl><dd><dl><dd><i>ID</i> — identifier;</dd>
<dd><i>NAME</i> — name;</dd>
<dd><i>DSCR</i> — description;</dd>
<dd><i>DB_TBL</i> — root of the tables of DB with the widgets;</dd>
<dd><i>ICO</i> — encoded (Base64) image of the icon of the library.</dd></dl></dd></dl>
<ul><li> <b>LibWigets(<u>ID</u>, ICO, PARENT, PROC, PROC_PER, ATTRS, TIMESTAMP)</b> — widgets <i>ID</i> of the library.</li></ul>
<dl><dd><dl><dd><i>ID</i> — identifier;</dd>
<dd><i>ICO</i> — encoded (Base64) image of the icon of the widget.</dd>
<dd><i>PARENT</i> — address of the basic widget, in the view <i>/wlb_originals/wdg_Box</i>;</dd>
<dd><i>PROC</i> — internal procedure and procedure language of the widget;</dd>
<dd><i>PROC_PER</i> — period of the computation of the widget procedure;</dd>
<dd><i>ATTRS</i> — list of attributes of the widget, modified by the user.</dd>
<dd><i>TIMESTAMP</i> — time-stamp of the last modification.</dd></dl></dd></dl>
<ul><li> <b>LibWidgetIO(<u>IDW</u>, <u>ID</u>, <u>IDC</u>, IO_VAL, SELF_FLG, CFG_TMPL, CFG_VAL)</b> — work attributes <i>ID</i> of the widget <i>IDW</i> of the child widget <i>IDC</i>.</li></ul>
<dl><dd><dl><dd><i>IDW</i> — identifier of the widget;</dd>
<dd><i>ID</i> — identifier of the attribute;</dd>
<dd><i>IDC</i> — child widget identifier;</dd>
<dd><i>IO_VAL</i> — value of the attribute;</dd>
<dd><i>SELF_FLG</i> — internal flags of the attribute;</dd>
<dd><i>CFG_TMPL</i> — template of the configuration element based on this attribute;</dd>
<dd><i>CFG_VAL</i> — value of the configuration element (link, constant ...).</dd></dl></dd></dl>
<ul><li> <b>LibWidgetUserIO(<u>IDW</u>, <u>ID</u>, <u>IDC</u>, NAME, IO_TP, IO_VAL, SELF_FLG, CFG_TMPL, CFG_VAL)</b> — user attributes <i>ID</i> of the widget <i>IDW</i> of the child widget <i>IDC</i>.</li></ul>
<dl><dd><dl><dd><i>IDW</i> — identifier of the widget;</dd>
<dd><i>ID</i> — identifier of the attribute;</dd>
<dd><i>IDC</i> — child widget identifier;</dd>
<dd><i>NAME</i> — name of the attribute;</dd>
<dd><i>IO_TP</i> — type and main flags of the attribute;</dd>
<dd><i>IO_VAL</i> — value of the attribute;</dd>
<dd><i>SELF_FLG</i> — internal flags of the attribute;</dd>
<dd><i>CFG_TMPL</i> — template of the configuration element based on this attribute;</dd>
<dd><i>CFG_VAL</i> — value of the configuration element (link, constant ...).</dd></dl></dd></dl>
<ul><li> <b>LibWidgetIncl(<u>IDW</u>, <u>ID</u>, PARENT, ATTRS)</b> — included into the container <i>IDW</i> widgets <i>ID</i>.</li></ul>
<dl><dd><dl><dd><i>IDW</i> — identifier of the widget;</dd>
<dd><i>ID</i> — identifier of the included widget instance;</dd>
<dd><i>PARENT</i> — address of the basic widget, in the view <i>/wlb_originals/wdg_Box</i>;</dd>
<dd><i>ATTRS</i> — list of attributes of the widget, modified by the user.</dd></dl></dd></dl>
<ul><li> <b>LibWidgetMime(<u>ID</u>, MIME, DATA)</b> — audio, video, media and other resources of the widgets <i>ID</i> of the library.</li></ul>
<dl><dd><dl><dd><i>ID</i> — identifier of the resource.</dd>
<dd><i>MIME</i> — Mime data type of the resource, in the format — "<b>{mimeType};{Size}</b>".</dd>
<dd><i>DATA</i> — resource data, encoded with Base64.</dd></dl></dd></dl>
<ul><li> <b>Projs(<u>ID</u>, NAME, DSCR, DB_TBL, ICO, USER, GRP, PERMIT, PER, FLGS, STYLE)</b> — projects <i>ID</i> of the visualization interface.</li></ul>
<dl><dd><dl><dd><i>ID</i> — identifier of the project;</dd>
<dd><i>NAME</i> — name of the project;</dd>
<dd><i>DSCR</i> — description of the project;</dd>
<dd><i>DB_TBL</i> — root of the tables of DB with the pages;</dd>
<dd><i>ICO</i> — encoded (Base64) image of the icon of the project;</dd>
<dd><i>USER</i> — owner of the project;</dd>
<dd><i>GRP</i> —  users group of the project;</dd>
<dd><i>PERMIT</i> — rights of access to the project;</dd>
<dd><i>PER</i> — period of the project computation;</dd>
<dd><i>FLGS</i> — flags of the project;</dd>
<dd><i>STYLE</i> — typical style of the project.</dd></dl></dd></dl>
<ul><li> <b>ProjPages(<u>OWNER</u>, <u>ID</u>, ICO, PARENT, PROC, PROC_PER, FLGS, ATTRS, TIMESTAMP)</b> — pages <i>ID</i> which are hold in the project-page <i>OWNER</i>.</li></ul>
<dl><dd><dl><dd><i>OWNER</i> —  project-page — owner of the page, in the format — "/AGLKS/so/1/gcadr";</dd>
<dd><i>ID</i> — identifier of the page;</dd>
<dd><i>ICO</i> — encoded (Base64) image of the icon of the page;</dd>
<dd><i>PARENT</i> — address of the basic widget of the page, in the format <i>/wlb_originals/wdg_Box</i>;</dd>
<dd><i>PROC</i> —  internal procedure and procedure language of the page;</dd>
<dd><i>PROC_PER</i> — period of the computation of the widget procedure;</dd>
<dd><i>FLGS</i> — flags of the page;</dd>
<dd><i>ATTRS</i> — list of attributes of the widget, modified by the user;</dd>
<dd><i>TIMESTAMP</i> — time-stamp of the last modification.</dd></dl></dd></dl>
<ul><li> <b>ProjPageIO(<u>IDW</u>, <u>ID</u>, <u>IDC</u>, IO_VAL, SELF_FLG, CFG_TMPL, CFG_VAL)</b> — working attributes of the pages. The structure actually corresponds to the table "LibWidgetIO".</li>
<li> <b>ProjPageUserIO(<u>IDW</u>, <u>ID</u>, <u>IDC</u>, NAME, IO_TP, IO_VAL, SELF_FLG, CFG_TMPL, CFG_VAL)</b> — user attributes of the pages. The structure actually corresponds to the table "LibWidgetUserIO".</li>
<li> <b>ProjPageWIncl(<u>IDW</u>, <u>ID</u>, PARENT, ATTRS)</b> — widgets, included on the page. The structure actually corresponds to the table "LibWidgetIncl".</li>
<li> <b>ProjMime(<u>ID</u>, MIME, DATA)</b> — audio, video, media and other resources of the project pages. The structure actually corresponds to the table "LibWidgetMime".</li>
<li> <b>PrjStl(<u>ID</u>, V_0, V_1, V_2, V_3, V_4, V_5, V_6, V_7, V_8, V_9)</b> — value of the style's field <i>ID</i> of the project.</li></ul>
<dl><dd><dl><dd><i>ID</i> — identifier of the style's field;</dd>
<dd><i>V_{N}</i> — value of the style's field for the style <i>N</i>.</dd></dl></dd></dl>
<ul><li> <b>ProjSess(<u>IDW</u>, <u>ID</u>, IO_VAL)</b> — project table <i>IDW</i> for data storage of the sessions, performing the project.</li></ul>
<dl><dd><dl><dd><i>IDW</i> — full path of the project element;</dd>
<dd><i>ID</i> — attribute of the element;</dd>
<dd><i>IO_VAL</i> — value of the element.</dd></dl></dd></dl>
<p><br />
</p>
<h3><span class="mw-headline" id="API_of_the_user_programming_and_service_interfaces_of_OpenSCADA"><span class="mw-headline-number">3.11</span> <span id="UserAPI" title="#UserAPI">API of the user programming and service interfaces of OpenSCADA</span></span></h3>
<h4><span class="mw-headline" id="API_of_the_user_programming"><span class="mw-headline-number">3.11.1</span> <span id="UserAPI" title="#UserAPI">API of the user programming</span></span></h4>
<p>API of the user programming of the visualization engine are represented directly by the OpenSCADA objects, which form the user interface, that is by the "Session" and "Widgets-pages". For the user, these objects provide a set of control functions:
</p>
<div class="floatright"><a class="image" href="http://oscada.org/wiki/File:Oscada_UserOM_VCAEngine.png" title="User object model of the module VCAEngine."><img alt="User object model of the module VCAEngine." height="238" src="../files/Oscada_UserOM_VCAEngine.png" width="352" /></a></div>
<p><b>Object "Session" ( this.ownerSess() )</b>
</p>
<ul><li> <i>string user( )</i> — current session user.</li>
<li> <i>int alrmQuietance( int quit_tmpl, string wpath = "", bool ret = false )</i> — quiets of the violations <i>wpath</i> with the template <i>quit_tmpl</i>. If <i>wpath</i> is empty string then the global quietance makes. Into the string <i>wpath</i>, by symbol ';', can be enumerated addresses of several widgets. When set the <i>ret</i>, the quietance return is performed.</li>
<li> <i>int reqTm( )</i> — last request time in seconds from the epoch of 1/1/1970.</li>
<li> <i>string reqUser( )</i> — last request user.</li>
<li> <i>string reqLang( )</i> — last request language.</li>
<li> <i>int userActTm( )</i> — last user action time in seconds from the epoch of 1/1/1970.</li>
<li> <i>bool uiCmd( string cmd, string prm, string src )</i> — sends a UI command of the pages managing, that is: "open", "next", "prev"; for more details see in <a href="#Events">the events section</a>. This function must be in the priority of using to the pages managing before the direct writing to the page attributes "pgOpen" and "pgOpenSrc" due it is single method of the correct work with <a href="#Project">the linked pages</a>.</li></ul>
<p><b>Object "Widget" (this)</b>
</p>
<ul><li> <i>TCntrNodeObj ownerSess( )</i> — session object for the current widget.</li>
<li> <i>TCntrNodeObj ownerPage( )</i> — parent page object for the current widget.</li>
<li> <i>TCntrNodeObj ownerWdg( bool base = false )</i> — parent widget object for the current widget. If set <i>base</i> then returns the parent page objects also.</li>
<li> <i>TCntrNodeObj wdgAdd( string wid, string wname, string parent )</i> — adds the new widget <i>wid</i> with the name <i>wname</i> and based on the library widget <i>parent</i>.</li></ul>
<pre style="white-space: pre-wrap; margin-left: 15px">
//Adds the new widget, based at the text primitive
nw = this.wdgAdd("nw", "New widget", "/wlb_originals/wdg_Text");
nw.attrSet("geomX", 50).attrSet("geomY", 50);
</pre>
<ul><li> <i>bool wdgDel( string wid )</i> — deletes the widget <i>wid</i>.</li>
<li> <i>TCntrNodeObj wdgAt( string wid, bool byPath = false )</i> — attaches to child or global widget, by the path <i>byPath</i>. In the case of global connection, you can use absolute or relative path to the widget. For starting point of the absolute address acts the root object of the module "VCAEngine", which means the first element of the absolute address is session identifier, which is ignored. The relative address takes the countdown from the current widget. Special element of the relative address is an element of parent node "..".</li>
<li> <i>Array attrList()</i> — list of the widget attributes.</li>
<li> <i>bool attrPresent( string attr )</i> — checks to presence fact of the attribute <i>attr</i> of the widget.</li>
<li> <i>ElTp attr( string attr, bool fromSess = false )</i> — value of the attribute <i>attr</i> of the widget or from the session <i>fromSess</i>. For missing attributes will be return empty string.</li>
<li> <i>TCntrNodeObj attrSet( string attr, ElTp vl, bool toSess = false )</i> — sets the value <i>vl</i> to the attribute <i>attr</i> of the widget or to the session, by <i>toSess</i>. The object is returned for the function concatenation.</li>
<li> <i>string link( string attr, bool prm = false )</i> — link for the widget attribute <i>attr</i>. At set <i>prm</i> requests the link for the attributes block (parameter), represented by the attribute. </li>
<li> <i>string linkSet( string attr, string vl, bool prm = false )</i> — sets the link for the widget attribute <i>attr</i>. At set <i>prm</i>, sets the link for the attributes block (parameter), represented by the attribute.</li></ul>
<pre style="white-space: pre-wrap; margin-left: 15px">
//Sets the link to the parameter for the eight trend
this.linkSet("el8.name", "prm:/LogicLev/experiment/Pi", true);
</pre>
<ul><li> <i>string mime( string addr, string type = "" )</i> — "mime" object by the address <i>addr</i> (the direct link to the resource or the widget attribute contained the link) with the type in <i>type</i>, from the session table or the source. It is designed for the "mime" objects edition and that substitution to this session's context, for example, images SVG.</li>
<li> <i>int mimeSet( string addr, string data, string type = "" )</i> — sets the "mime" object to <i>data</i> with <i>type</i> by the address <i>addr</i>.</li>
<li> <i>int messDebug( string mess ); int messInfo( string mess ); int messNote( string mess ); int messWarning( string mess ); int messErr( string mess ); int messCrit( string mess ); int messAlert( string mess ); int messEmerg( string mess );</i> — formats of the program message <i>mess</i> with the category — the widget path.</li></ul>
<p><b>Object "Widget" of the primitive "Document" (this)</b>
</p>
<ul><li> <i>string getArhDoc( int nDoc)</i> — text of the archive document to "nDoc" depth (0-{aSize-1}).</li></ul>
<p><br />
Deprecated, but supported, the API is represented by a group of functions directly in the module of the VCA engine. Calling these functions from the widget procedure can be done directly by the identifier, since their namespace is defined in the context of the widget procedures.
</p><p><b>Widgets list (WdgList)</b><br />
<i>Description:</i> Returns a list of the widgets, into the widgets container, or the child list. If set <i>pg</i> then returns the pages list for projects and sessions.<br />
<i>Parameters:</i>
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Type </th>
<th> Mode </th>
<th> By default
</th></tr>
<tr>
<td> list </td>
<td> List </td>
<td> String </td>
<td> Return </td>
<td>
</td></tr>
<tr>
<td> addr </td>
<td> Address </td>
<td>String </td>
<td> Input </td>
<td>
</td></tr>
<tr>
<td> pg </td>
<td> Pages </td>
<td> Boolean </td>
<td> Input </td>
<td> 0
</td></tr></table>
<p><b>Node presence (NodePresent)</b><br />
<i>Description:</i> Checking for the node presence, including widgets, attributes and other.<br />
<i>Parameters:</i>
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Type </th>
<th> Mode </th>
<th> By default
</th></tr>
<tr>
<td> rez </td>
<td> Result </td>
<td> Boolean </td>
<td> Return </td>
<td>
</td></tr>
<tr>
<td> addr </td>
<td> Address </td>
<td> String </td>
<td> Input </td>
<td>
</td></tr></table>
<p><b>Attributes list (AttrList)</b><br />
<i>Description:</i> Returns an attributes list of the widget. If set <i>noUser</i> then returns only not user attributes.<br />
<i>Parameters:</i>
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Type </th>
<th> Mode </th>
<th> By default
</th></tr>
<tr>
<td> list </td>
<td> List </td>
<td> String </td>
<td> Return </td>
<td>
</td></tr>
<tr>
<td> addr </td>
<td> Address </td>
<td> String </td>
<td> Input </td>
<td>
</td></tr>
<tr>
<td> noUser </td>
<td> Not user </td>
<td> Boolean </td>
<td> Input </td>
<td> 1
</td></tr></table>
<p><b>Get the attribute (AttrGet)</b><br />
<i>Description:</i> Getting value of the widget attribute. The request can be done as by indicating the full address of the attribute in <i>addr</i>, and by: indicating separately the address of the widget in <i>addr</i> and the the attribute identifier in the <i>attr</i>.<br />
<i>Parameters:</i>
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Type </th>
<th> Mode </th>
<th> By default
</th></tr>
<tr>
<td> val </td>
<td> Value </td>
<td> String </td>
<td> Return </td>
<td>
</td></tr>
<tr>
<td> addr </td>
<td> Address </td>
<td> String </td>
<td> Input </td>
<td>
</td></tr>
<tr>
<td> attr </td>
<td> Attribute </td>
<td> Boolean </td>
<td> Input </td>
<td>
</td></tr></table>
<p><b>Set the attribute (AttrSet)</b><br />
<i>Description:</i> Setting value of the widget attribute. Setting can be done as by indicating the full address of the attribute in <i>addr</i>, and by: indicating separately the address of the widget in <i>addr</i> and the the attribute identifier in the <i>attr</i>.<br />
<i>Parameters:</i>
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Type </th>
<th> Mode </th>
<th> By default
</th></tr>
<tr>
<td> addr </td>
<td> Address </td>
<td> String </td>
<td> Input </td>
<td>
</td></tr>
<tr>
<td> val </td>
<td> Value </td>
<td> String </td>
<td> Input </td>
<td>
</td></tr>
<tr>
<td> attr </td>
<td> Attribute </td>
<td> Boolean </td>
<td> Input </td>
<td>
</td></tr></table>
<p><b>Session user (SesUser)</b><br />
<i>Description:</i> Returns the session user by the session widget path.<br />
<i>Parameters:</i>
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Type </th>
<th> Mode </th>
<th> By default
</th></tr>
<tr>
<td> user </td>
<td> User </td>
<td> String </td>
<td> Return </td>
<td>
</td></tr>
<tr>
<td> addr </td>
<td> Address </td>
<td> String </td>
<td> Input </td>
<td>
</td></tr></table>
<h4><span class="mw-headline" id="Service_interfaces_of_OpenSCADA"><span class="mw-headline-number">3.11.2</span> Service interfaces of OpenSCADA</span></h4>
<p>Service interfaces are the interfaces for access to OpenSCADA through <a href="../API.html#CntrNode" title="Special:MyLanguage/Documents/API">the OpenSCADA control interface</a>. This mechanism is the basis of all mechanisms of exchange within OpenSCADA, implemented through weak links and the standard exchange protocol of OpenSCADA .
</p>
<h5><span class="mw-headline" id="Access_to_the_attributes_values_of_the_visualization_elements_.28widgets.29"><span class="mw-headline-number">3.11.2.1</span> Access to the attributes values of the visualization elements (widgets)</span></h5>
<p>In order to provide unitized, grouping and relatively fast access to the attributes values of the visual elements, the service function of the visual element "/serv/attr" and get-set commands of values of the attributes are provided:
</p>
<ul><li> get: <b>&lt;get path="/UI/VCAEngine/{wdg_addr}/%2fserv%2fattr"/&gt;</b>;</li>
<li> set: <b>&lt;set path="/UI/VCAEngine/{wdg_addr}/%2fserv%2fattr"/&gt;</b>.</li></ul>
<p><b>Table.</b> Attributes of the commands for get-set of the attributes of the visual elements.
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Value
</th></tr>
<tr>
<td colspan="3"> <i>Requesting command of the visual attributes of the widget: <b>&lt;get path="/UI/VCAEngine/{wdg_addr}/%2fserv%2fattr"/&gt;</b></i>
</td></tr>
<tr>
<td> tm </td>
<td> Time-counter of the changes </td>
<td> Time-counter of the changes set up for the query of the only changed attributes.
</td></tr>
<tr>
<td> &lt;el id="{attr}" p="{a_id}"&gt;{val}&lt;/el&gt; </td>
<td> Formation of the child elements with the results of the attributes </td>
<td> In the child element are specified: string identifier <i>attr</i>, index <i>a_id</i> and value <i>val</i> of the attribute.
</td></tr>
<tr>
<td colspan="3"> <i>Setting command of the visual attributes of the widget: <b>&lt;set path="/UI/VCAEngine/{wdg_addr}/%2fserv%2fattr"/&gt;</b></i>
</td></tr>
<tr>
<td> &lt;el id="{attr}"&gt;{val}&lt;/el&gt; </td>
<td> Setting of the attributes </td>
<td> In the child elements are specified: the string identifier <i>attr</i> and value <i>val</i> of the attribute.
</td></tr>
<tr>
<td colspan="3"> <i>Activation-creation command of the specific attribute for the visualizer: <b>&lt;activate path="/UI/VCAEngine/{wdg_addr}/%2fserv%2fattr/{attrId}" aNm="{Name}" aTp="{Type} aFlg="{Flags}"/&gt;</b></i>
</td></tr>
<tr>
<td> attrId </td>
<td> Attribute identifier </td>
<td>
</td></tr>
<tr>
<td> aNm </td>
<td> Attribute name </td>
<td>
</td></tr>
<tr>
<td> aTp </td>
<td> Attribute type </td>
<td>
</td></tr>
<tr>
<td> aFlg </td>
<td> Attribute flags </td>
<td>
</td></tr></table>
<h5><span class="mw-headline" id="Group_access_to_the_values_of_the_attributes_of_the_visualization_elements_.28widgets.29"><span class="mw-headline-number">3.11.2.2</span> Group access to the values of the attributes of the visualization elements (widgets)</span></h5>
<p>In order to optimize network traffic by eliminating the small queries and use one large, the group query of the attributes' values of the visual elements is made. Grouping of this query involves a request of attributes of the entire branch of the widget, including the included elements. For this request the service command "/serv/attrBr" provides. Request of this service command is equivalent to the service command "/serv/attr" and looks as follows: <b>&lt;get path="/UI/VCAEngine/{wdg_addr}/%2fserv%2fattrBr"/&gt;</b>
</p>
<dl><dd><i>tm</i> — time-counter of the changes. time-counter of the changes set up for the query of the only changed attributes.<br /></dd></dl>
<p>Result:
</p>
<dl><dd><i>&lt;el id="{attr}" p="{a_id}"&gt;{val}&lt;/el&gt;</i> — elements with the results of the attributes. In the element are specified: string identifier <i>attr</i>, index <i>a_id</i> and value <i>val</i> of the attribute.</dd>
<dd><i>&lt;w id="{wid}" lnkPath="{lnk_path}"&gt;{childs+attrs}&lt;/w&gt;</i> — elements with the child widgets and their attributes. The element specifies: identifier of the child widget <i>wid</i> and the widget path, to which this widget refers if it is a link <i>lnk_path</i>.</dd></dl>
<h5><span class="mw-headline" id="Access_to_the_session_pages"><span class="mw-headline-number">3.11.2.3</span> Access to the session pages</span></h5>
<p>In order to unify and optimize the access to the pages, the service function of the session "/serv/pg" and commands are provided:
</p>
<ul><li> query of the list of opened pages: <b>&lt;openlist path="/UI/VCAEngine/ses_{Session}/%2fserv%2fpg"/&gt;</b>;</li>
<li> open the page: <b>&lt;open path="/UI/VCAEngine/ses_{Session}/%2fserv%2fpg"/&gt;</b>;</li>
<li> close the page: <b>&lt;close path="/UI/VCAEngine/ses_{Session}/%2fserv%2fpg"/&gt;</b>.</li></ul>
<p>The result of the query is child elements <b>&lt;el&gt;{OpPage}&lt;/el&gt;</b>, which contain the full path of the open page. In addition to the list of open pages, the query returns the value of the current counter for calculating the session, in the attribute <i>tm</i>. If this attribute is set during the query, then for, each open page, it returns the list of changed, since the moment of the specified value of the counter, widgets of the open page.
</p>
<h5><span class="mw-headline" id="Control_for_signaling_.28alarming.29"><span class="mw-headline-number">3.11.2.4</span> Control for signaling (alarming)</span></h5>
<p>To provide a mechanism for global control of the signaling of the session, the service function of the session "/serv/alarm" and commands are provided:
</p>
<ul><li> query of the signals status: <b>&lt;get path="/UI/VCAEngine/ses_{Session}/%2fserv%2falarm"/&gt;</b>;</li>
<li> quietance of the signals: <b>&lt;quietance path="/UI/VCAEngine/ses_{Session}/%2fserv%2falarm"/&gt;</b>.</li></ul>
<p>Request for the signals status returns generalized state of the signals, as well as the resource of the notification if the "mode" attribute is "resource". The result of the notification resource request is usually a sound file for playback. At the same time, the tracking of the sequence of signaling and the quietance of individual notification resources is provided.
</p><p>Request for the quietance performs the quietance of the widget, specified in the attribute <i>wdg</i>, in accordance with the template in the attribute <i>tmpl</i>.
</p>
<h5><span class="mw-headline" id="Manipulation_with_the_sessions_of_the_projects"><span class="mw-headline-number">3.11.2.5</span> Manipulation with the sessions of the projects</span></h5>
<p>To provide a unitize mechanism for manipulation of the sessions, the module of the VCA engine (VCAEngine), for the visualizers of VCA, is provided the service function "/serv/sess" and the commands:
</p>
<ul><li> query of the list of open sessions: <b>&lt;list path="/UI/VCAEngine/%2fserv%2fsess"/&gt;</b>;</li>
<li> connection-creation of the new session: <b>&lt;connect path="/UI/VCAEngine/%2fserv%2fsess"/&gt;</b>;</li>
<li> disconnection-deleting of the session: <b>&lt;disconnect path="/UI/VCAEngine/%2fserv%2fsess"/&gt;</b>.</li></ul>
<p><b>Table.</b> Attributes of commands of the mechanism of manipulation with sessions
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Value
</th></tr>
<tr>
<td colspan="3"> <i>Command of requesting of a list of open sessions for the project: <b>&lt;list path="/UI/VCAEngine/%2fserv%2fsess"/&gt;</b></i>
</td></tr>
<tr>
<td> prj </td>
<td> Indication of the project </td>
<td> Specifies the project for which to return the list of opened sessions.
</td></tr>
<tr>
<td> &lt;el&gt;{Session}&lt;/el&gt; </td>
<td> Control of the sessions' list </td>
<td> The child elements specify the sessions opened to the requested project.
</td></tr>
<tr>
<td colspan="3"> <i>Command of the connection-opening the session: <b>&lt;connect path="/UI/VCAEngine/%2fserv%2fsess"/&gt;</b></i>
</td></tr>
<tr>
<td> sess </td>
<td> Installation and control of the session name </td>
<td> If the attribute is defined, then the connection to the current session is made, otherwise — the creation of a new session. In the case of opening a new session, the name of the new session is placed to the given attribute.
</td></tr>
<tr>
<td> prj </td>
<td> Setting the name of the project </td>
<td> It is used to open a new session for the indicated project and when the attribute <i>sess</i> is not specified.
</td></tr>
<tr>
<td colspan="3"> <i>Command of the disconnection-closing of the session: <b>&lt;disconnect path="/UI/VCAEngine/%2fserv%2fsess"/&gt;</b></i>
</td></tr>
<tr>
<td> sess </td>
<td> Setting the name of the session </td>
<td> Specifies the name of the session from which disconnection or closure is performed. Sessions that are not background and which are not connected to any visualizer are automatically closed.
</td></tr></table>
<h5><span class="mw-headline" id="Group_request_for_the_tree_of_the_widgets_libraries"><span class="mw-headline-number">3.11.2.6</span> Group request for the tree of the widgets libraries</span></h5>
<p>In order to optimize the performance of local and, especially, network interaction, the service function "/serv/wlbBr" and the command of the query of the tree of the widgets libraries: <b>&lt;get path="/UI/VCAEngine/%2fserv%2fwlbBr"/&gt;</b> are provided. The result of the query is a tree with the elements of the widgets libraries — tags <i>wlb</i>. The tags of widgets libraries are included: icon tag <i>ico</i> and the widgets library tags <i>w</i>. The widgets tags, in their turn, contain the icon tag and tags of the child widgets <i>cw</i>.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Configuring_the_module_via_the_control_interface_of_OpenSCADA"><span class="mw-headline-number">4</span> Configuring the module via the control interface of OpenSCADA</span></h2>
<p>Through the control interface of OpenSCADA, components that use it, can be configured from any configurator OpenSCADA. This module provides an interface to access all the data object of the VCA. Main tab of the configuration page of the module provides access to widgets libraries and projects (Fig.4.1). The tab "Sessions" provides access to opened sessions of the projects (Fig.4.2).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:702px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_main.png"><img class="thumbimage" height="582" src="../files/VCAeng_main.png" width="700" /></a>  <div class="thumbcaption">Fig.4.1. Main configuration page of the module.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:661px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_sess.png"><img class="thumbimage" height="525" src="../files/VCAeng_sess.png" width="659" /></a>  <div class="thumbcaption">Fig.4.2. Tab "Sessions" of the configuration page of the module.</div></div></div></div>
<p>In addition to the list of opened sessions, the tab in Figure 4.2 contains a table with a list of sessions that must be created and started up at the boot time of OpenSCADA. Creation of sessions through this tool can be useful for Web-based interface. In this case, when connecting, Web-user data is ready and ensures the continuity of the formation of archival documents.
</p><p>Configuration of the container widgets in the face of libraries and widget projects is done through pages in Figure 4.3 (for project) and Figure 4.5 (for widgets library). The widgets library contains the widgets, and project — the pages. Both types contain a tab of configuration Mime-data used by widgets (Fig.4.6). The project page also contains the tab "Diagnostics" (Fig.4.4) for debugging and monitoring the execution of pages in sessions.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:756px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_pg.png"><img class="thumbimage" height="658" src="../files/VCAeng_pg.png" width="754" /></a>  <div class="thumbcaption">Fig.4.3. Configuration page of the projects.</div></div></div></div>
<p>From this page you can set:
</p>
<ul><li> State of the container, same: "Enabled", name of the database (containing the configuration), date and time of last modification, counter of the use.</li>
<li> Identifier, name, description and icon of the container.</li>
<li> Owner, group and access rights to the container.</li>
<li> Period for computing of the sessions based on the given project.</li>
<li> Signal of enabling as needed.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1052px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_pg_diag.png"><img class="thumbimage" height="513" src="../files/VCAeng_pg_diag.png" width="1050" /></a>  <div class="thumbcaption">Fig.4.4. Tab "Diagnostics" of the projects.</div></div></div></div>
<p>From this tab you can select time (or refresh to current) and size to obtain the diagnostic messages of the sessions of running this project.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:705px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_wlb.png"><img class="thumbimage" height="573" src="../files/VCAeng_wlb.png" width="703" /></a>  <div class="thumbcaption">Fig.4.5. Configuration page of the widgets libraries.</div></div></div></div>
<p>From this page you can set:
</p>
<ul><li> State of the container, same: "Enabled", name of the database (containing the configuration), date and time of last modification, counter of the use.</li>
<li> Identifier, name, description and icon of the container.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:705px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_mime.png"><img class="thumbimage" height="573" src="../files/VCAeng_mime.png" width="703" /></a>  <div class="thumbcaption">Fig.4.6. Configuration tab of Mime-data of the container.</div></div></div></div>
<p>Configuration of the project's session differs significantly from configuration of the project (Fig.4.7), but also contains pages of the project.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:994px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_pg_ses.png"><img class="thumbimage" height="650" src="../files/VCAeng_pg_ses.png" width="992" /></a>  <div class="thumbcaption">Fig.4.7. Configuration page of the projects sessions.</div></div></div></div>
<p>From this page you can set:
</p>
<ul><li> State of the session, the same: "Enabled"; "Running"; user; owner; users group; access; source project; mode of execution in the background; execution time of the session; counter of client connections; last request time, user and language; last user action and remained time to it force closing.</li>
<li> Period of the session calculation.</li>
<li> Current style of the session.</li>
<li> List of the opened pages.</li></ul>
<p>Configuration pages of the visual elements, placed in different containers, may be very different, but this difference is the presence or absence of individual tabs. Main tab of the visual elements in fact is the same everywhere, differing in one configuration field and three into the session (Fig.4.8). The pages contains the tabs of the child pages and included widgets. The container widgets contains the tab of the included widgets. All visual elements contain attributes tab (Fig.4.9), except the logical containers of the projects. Elements, at the level of which it is possible to build the user procedure and to determine the links, contain the tabs "Process" (Fig.4.10) and "Links" (Fig.4.11).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:774px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_vit_main.png"><img class="thumbimage" height="729" src="../files/VCAeng_vit_main.png" width="772" /></a>  <div class="thumbcaption">Fig.4.8. Main tab of configuration of the visual elements.</div></div></div></div>
<p>From this page you can set:
</p>
<ul><li> States of the element, the same: "Enabled", counter of the use, parent element and jump to it, date and time of the last modification.</li>
<li> States of the runtime session's mode: "Opened", "Process" and spent time on execution of the subtree and item, into the <a href="../Program_manual.html#Config" title="Special:MyLanguage/Documents/Program manual">debug mode</a>.</li>
<li> Identifier, type, root, path, name, description and icon of the element.</li>
<li> Command — clear the widget changes.</li>
<li> Command — lower down the widget changes to its parent.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:737px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_vit_attr.png"><img class="thumbimage" height="729" src="../files/VCAeng_vit_attr.png" width="735" /></a>  <div class="thumbcaption">Fig.4.9. Tab of the attributes of the visual elements.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1010px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_vit_proc.png"><img class="thumbimage" height="763" src="../files/VCAeng_vit_proc.png" width="1008" /></a>  <div class="thumbcaption">Fig.4.10. Tab of processing of the visual elements.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1015px;"><a class="image" href="http://oscada.org/wiki/File:VCAeng_vit_lnk.png"><img class="thumbimage" height="522" src="../files/VCAeng_vit_lnk.png" width="1013" /></a>  <div class="thumbcaption">Fig.4.11. Tab of links of the visual elements.</div></div></div></div>






</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Modules/VCAEngine/en">Modules/VCAEngine/en</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">November 2020</td><td style="text-align: right;" width="40%">OpenSCADA 1+r2719</td></tr></table></body>
</html>