<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Modules/Vision - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="http://oscada.org"><img alt="OpenSCADA" src="../../en/files/Logo-big.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="en">Modules/Vision</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">English</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../ru/Modules/Vision.html" title="Модули/Vision (100% translated)">российский</a>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../uk/Modules/Vision.html" title="Модулі/Vision (100% translated)">українська</a></div></div>
<table class="wikitable">

<tr>
<th> Module </th>
<th> Name </th>
<th> Version </th>
<th> License </th>
<th> Source </th>
<th> Languages </th>
<th> Platforms </th>
<th> Type </th>
<th> Author </th>
<th> Description
</th></tr>

<tr>
<td> <a href="../Modules/Vision.html" title="Special:MyLanguage/Modules/Vision">Vision</a> </td>
<td> Operation user interface (Qt)
</td>
<td> 7.7 </td>
<td> GPL2 </td>
<td> ui_Vision.so </td>
<td> en,uk,ru,de </td>
<td> x86,x86_64,ARM
</td>
<td> UI </td>
<td> Roman Savochenko<br />&nbsp;&nbsp;<font size="-2"><i>Maxim Lysenko (2007-2012), Ksenia Yashina (2007-2008)</i></font> </td>
<td> Visual operation user interface, based on the Qt library — front-end to the VCA engine.
<ul><li> <b>Total complexity:</b> &gt; 50 <span title="human-days, 1 HD — 10 hours">HD<sup style="color: blue">[!]</sup></span></li>
<li> <b>Sponsored by, for finishing the mirroring of the primitive ElFigure on 0.3 <span title="human-days, 1 HD — 10 hours">HD<sup style="color: blue">[!]</sup></span>:</b> SVItoVYR Ltd</li></ul>
</td></tr></table>
<p>The module provides to OpenSCADA a mechanism of the final visualization of the visualization and control area (VCA). The module is based on the multi-platform library <a class="external text" href="http://qt.io" rel="nofollow noreferrer noopener" target="_blank">Qt</a> of the graphical user interface (GUI) of initially created by the firm <a class="external text" href="http://www.trolltech.com" rel="nofollow noreferrer noopener" target="_blank">TrollTech</a>. In its work, the module uses the data of the VCA engine — module <a href="../Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">VCAEngine</a>).
</p><p>Visual control area (VCA) is an integral part of the SCADA system. It applies to the client stations with a view to providing accessible information about the control object and to for the the issuance of the control actions to the object. In various practical situations and conditions the VCA, based on different principles of visualization, may by applied. For example, this may be the library of widgets Qt, GTK+, WxWidgets or hypertext mechanisms based on the technologies HTML, XHTML, XML, CSS and JavaScript, or third-party applications of visualization, realized in various programming languages Java, Python, etc. Any of these principles has its advantages and disadvantages, the combination of which could become an insurmountable obstacle to the use of VCA in a practical case. For example, technologies like the Qt library can create highly-productive VCA, which will undoubtedly important for the operator station for control the technological processes (TP). However, the need for installation of that client software in some cases may make using of it impossible. On the other hand, Web-technology does not require installation on client systems and is extremely multi-platform (it is enough to create a link to the Web-server at any Web-browser) that is most important for various engineering and administrative stations, but the productivity and reliability of such interfaces is lower, that actually eliminates the using of them at the operator stations of TP.
</p><p>OpenSCADA has extremely flexible architecture that allows you to create external interfaces, including user, in any manner and taste. For example, the OpenSCADA configuration environment available now as by means of the Qt-library, and also the Web-based.
</p><p>At the same time, independent creation of the VCA implementations in different basis may cause the inability to use the configuration of one VCA into another one. That is inconvenient and limited from the user side, as well as costly in terms of implementation and follow-up support.
</p><p>In order to avoid these problems, as well as to create as soon as possible the full spectrum of different types of VCA, 
<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Sub-projects/VCA" title="Special:MyLanguage/Sub-projects/VCA">the project of conception of the Visual Control Area (VCA)</a> is established. The result of this project — this direct visualization module (based on the library Qt), direct visualization module <a href="../Modules/WebVision.html" title="Special:MyLanguage/Modules/WebVision">WebVision</a> and the VCA engine <a href="../Modules/VCAEngine.html" title="Special:MyLanguage/Modules/VCAEngine">VCAEngine</a>.
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Purpose"><span class="tocnumber">1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Tool_of_the_graphical_formation_of_the_VCA_interface"><span class="tocnumber">2</span> <span class="toctext">Tool of the graphical formation of the VCA interface</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Styles"><span class="tocnumber">2.1</span> <span class="toctext">Styles</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Linkage_with_the_dynamics"><span class="tocnumber">2.2</span> <span class="toctext">Linkage with the dynamics</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Execution_of_the_VCA_interfaces"><span class="tocnumber">3</span> <span class="toctext"><span>Execution of the VCA interfaces</span></span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Presentation_of_the_basic_elements_.28primitives.29"><span class="tocnumber">4</span> <span class="toctext"><span>Presentation of the basic elements (primitives)</span></span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Elementary_figure_primitive_.28ElFigure.29"><span class="tocnumber">4.1</span> <span class="toctext">Elementary figure primitive (ElFigure)</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Text_primitive_.28Text.29"><span class="tocnumber">4.2</span> <span class="toctext">Text primitive (Text)</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Primitive_of_the_form_element_.28FormEl.29"><span class="tocnumber">4.3</span> <span class="toctext">Primitive of the form element (FormEl)</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Primitive_of_the_displaying_the_media-materials_.28Media.29"><span class="tocnumber">4.4</span> <span class="toctext">Primitive of the displaying the media-materials (Media)</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Primitive_of_constructing_diagrams_.28Diagram.29"><span class="tocnumber">4.5</span> <span class="toctext">Primitive of constructing diagrams (Diagram)</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Primitive_of_the_protocol_formation_.28Protocol.29"><span class="tocnumber">4.6</span> <span class="toctext">Primitive of the protocol formation (Protocol)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Primitive_of_the_report_formation_.28Document.29"><span class="tocnumber">4.7</span> <span class="toctext">Primitive of the report formation (Document)</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Primitive_of_the_box-container_.28Box.29"><span class="tocnumber">4.8</span> <span class="toctext">Primitive of the box-container (Box)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Vector_graphics_editor"><span class="tocnumber">5</span> <span class="toctext"><span>Vector graphics editor</span></span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Purpose_2"><span class="tocnumber">5.1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Principles_and_functions_of_the_graphic_editor"><span class="tocnumber">5.2</span> <span class="toctext">Principles and functions of the graphic editor</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Basic_principles_of_operation_in_the_graphical_editor"><span class="tocnumber">5.3</span> <span class="toctext">Basic principles of operation in the graphical editor</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Popup_menu_of_the_graphic_editor"><span class="tocnumber">5.4</span> <span class="toctext">Popup menu of the graphic editor</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Properties_dialog_of_the_elementary_figure"><span class="tocnumber">5.5</span> <span class="toctext">Properties dialog of the elementary figure</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#General_module_configuration"><span class="tocnumber">6</span> <span class="toctext"><span>General module configuration</span></span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Purpose"><span class="mw-headline-number">1</span> Purpose</span></h2>
<p>This module of the direct visualization of the VCA is designed for the formation and execution of VCA interfaces among the graphic library Qt. The VCA module mostly provides:
</p>
<ul><li> three levels of difficulty in the formation of the visualization interface, which allow organically to develop and apply the tools by the principle — from simple to complex:</li></ul>
<dl><dd><ol><li> formation from the template frames, by assigning the dynamics and without the graphical configuration;</li>
<li> graphical formation of new frames, using ready-made visualization elements from the library - mnemosmes;</li>
<li> forming, in the library, new ones: frames, template frames and display elements.</li></ol></dd></dl>
<ul><li> construction of interfaces for visualization of practically any complexity (limited by the "discreteness" of the primitive functions), ranging from simple monitoring interfaces, and to complete hierarchical interfaces used in SCADA systems;</li>
<li> providing the different ways of forming and configuration of the user interface, based on different interfaces of graphical representation (Qt, Web, ...), or-through the standard interface of OpenSCADA control;</li>
<li> construction and correction of the interface, appointment and change of the dynamics in the process of the execution;</li>
<li> construction, at the user level, of new template frames and the formation of specialized ones, under the scope, libraries of frames (e.g. the inclusion of parameters frames, diagrams and other elements linking them to each other), according to the idea of secondary use, accumulation and improvement;</li>
<li> construction of new custom visualization elements and the formation of specialized, at the field of application, libraries of frames, according to the idea of secondary use, accumulation and improvement;</li>
<li> description of the logic of new template frames and user visualization elements as by the simple links as well by the compact and full-featured user programming language;</li>
<li> possibility of inclusion, to the user's visualization elements, the functions (or frames of functions' calculation) of the object model of OpenSCADA, practically linking the presentation with the algorithm of computation, for example, visualizing the library of the apparatus of TP models for subsequent visual building of the TP models;</li>
<li> separation the data of the user interfaces and presentation interfaces of these data, allowing to build the user interface in the one environment, and execute in many others (Qt, Web, ...);</li>
<li> ability to connect to the executable interface for monitoring and correction of actions; for example, training operators and monitoring their actions in real time;</li>
<li> visual construction of various schemes with overlapping logical connections and subsequent centralized execution in the background - visual construction and execution of mathematical models, logic circuits, relay circuits and other;</li>
<li> providing, to OpenSCADA, object API functions; can be used to control the properties of the visualization interface from user procedures;</li>
<li> server construction for: frames, visualization elements and visualization interface projects; with the ability to service multiple client connections;</li>
<li> simple organization of client stations on different bases (Qt, Web, ...) with the connection to the central server;</li>
<li> full-featured mechanism for distributing authorities between users that allows you to create and execute projects with different rights to access their components;</li>
<li> flexible formation of rules of alarms and notifications, with the support of various methods of the notification;</li>
<li> support of custom formation of the palette and font preferences for the visualization interface, in styles;</li>
<li> support of the user forming of the events maps under various control equipment and user's preferences;</li>
<li> support for user profiles, allowing the identification of various properties of the visualization interface (colors, font features, the preferred card of events);</li>
<li> flexible storage and distribution of libraries of widgets, frames and projects of the visualization interfaces in the databases, supported by OpenSCADA; practically, the user only has to register the received database with the data.</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Tool_of_the_graphical_formation_of_the_VCA_interface"><span class="mw-headline-number">2</span> Tool of the graphical formation of the VCA interface</span></h2>
<p>Development of the VCA interface is performed in a single window, realizing many documents interface (MDI) (Fig.2.a). This approach allows you to simultaneously open multiple frames of various sizes. The following mechanisms to control the development are used: toolbars, menus and context menus. Most actions are duplicated by different mechanisms, that allows you to quickly find the tool by the convenient method. Navigational interfaces are implemented by the attached windows. Configuration of the toolbars and attached windows is saved on exit and restored at startup that lets you to customize the interface for yourself.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:939px;"><a class="image" href="http://oscada.org/wiki/File:Vision_win.png"><img class="thumbimage" height="567" src="../files/Vision_win.png" width="937" /></a>  <div class="thumbcaption">Fig.2.a. Window of development the VCA interface.</div></div></div></div>
<p>Access to major components of the VCA is made by attached windows, in the Figure 2.a these windows are shown on the left side. These windows contain:
</p>
<ul><li> Tree of the widgets libraries. Using the navigator you can quickly find the needed widget or library and to do with them necessary operations. The following operations are implemented: add, delete, copy, call for settings of the widgets and libraries, cleaning and call for visual editing of the widget. For flexible control, the context menu is supported with the following items:
<ul><li> "New library" — creation of the new library.</li>
<li> "Add visual item" — adding of the visual element to the library.</li>
<li> "Delete visual item" — deleting of the visual element from the library.</li>
<li> "Clear visual item changes" — clearing of the visual element with the inheritance of modified properties or setting them by default.</li>
<li> "Lower down visual item changes" — lowering down of the visual element changes to the parent, that will be used by other inheritances.</li>
<li> "Properties of the visual item" — call for configuration of the visual element.</li>
<li> "Edit visual item" — call visual editing of the element.</li>
<li> "Copy visual item" — copy of the visual element, at the time of paste.</li>
<li> "Cut visual item" — cut-move of the visual element, at the time of paste.</li>
<li> "Paste visual item" — paste of the visual element.</li>
<li> "Load from DB" — uploading data of the visual element from the database.</li>
<li> "Save to DB" — saving data of the visual element to the database.</li>
<li> "Manual on ..." — call manual on the selected library.</li>
<li> "Refresh libraries" — rereading of the configuration and composition of the libraries from the data model.</li></ul></li>
<li> Tree of the projects pages. Provides the mechanism for "Drag and drop" for creation of the user frames based on the libraries elements. For flexible control, the context menu is supported with the following items:
<ul><li> "Run project" — starting up of the chosen project execution.</li>
<li> "New project" — creation of the new project.</li>
<li> "Add visual item" — adding of the visual element to the project-page.</li>
<li> "Delete visual item" — deleting of the visual element from the project-page.</li>
<li> "Clear visual item changes" — clearing of the visual element with the inheritance of modified properties or setting them by default.</li>
<li> "Lower down visual item changes" — lowering down of the visual element changes to the parent, that will be used by other inheritances.</li>
<li> "Properties of the visual item" — call for configuration of the visual element.</li>
<li> "Edit visual item" — call visual editing of the element.</li>
<li> "Copy visual item" — copy of the visual element, at the time of paste.</li>
<li> "Cut visual item" — cut-move of the visual element, at the time of paste.</li>
<li> "Paste visual item" — paste of the visual element.</li>
<li> "Load from DB" — uploading data of the visual element from the database.</li>
<li> "Save to DB" — saving data of the visual element to the database.</li>
<li> "Refresh projects" — rereading of the configuration and composition of the projects from the data model.</li></ul></li>
<li> Control panel of the widget attributes;</li>
<li> Control panel of the widget links.</li></ul>
<p>In the main space of the working window the pages of projects, frames of the widgets' libraries, user elements and elements of primitives at the time of their visual editing are placed.
</p><p>At the top of the working window there is the menu. All the tools needed for development the VCA interfaces are placed in the menu. Menu has the following structure:
</p>
<ul><li> "File" — General operations.
<ul><li> "Load from DB" — uploading the data of the visual element from the database.</li>
<li> "Load from DB forcibly" — uploading data of the visual element from the database forcibly, not only when it changed.</li>
<li> "Save to DB" — saving data of visual element to the database.</li>
<li> "Save to DB forcibly" — saving data of the visual element to the database forcibly, not only when it changed.</li>
<li> "Close" — closing the editor's window</li>
<li> "Quit" — quiting the program.</li></ul></li>
<li> "Edit" — Editing operations of the visual elements.
<ul><li> "Undo visual item changes" — make visual item last changes undo.</li>
<li> "Redo visual item changes" — make repeat for visual item changes.</li>
<li> "Copy visual item" — copy of the visual element, at the time of paste.</li>
<li> "Cut visual item" — cut-move of the visual element, at the time of paste.</li>
<li> "Paste visual item" — paste of the visual element.</li></ul></li>
<li> "Project" — Operations over the projects.
<ul><li> "Run project" — starting up of the chosen project execution.</li>
<li> "New project" — creation of the new project.</li>
<li> "Add visual item" — adding of the visual element to the project.</li>
<li> "Delete visual item" — deleting of the visual element from the project.</li>
<li> "Clear visual item changes" — clearing of the visual element with the inheritance of modified properties or setting them by default.</li>
<li> "Lower down visual item changes" — lowering down of the visual element changes to the parent, that will be used by other inheritances.</li>
<li> "Properties of the visual item" — call for configuration of the visual element.</li>
<li> "Edit visual item" — call visual editing of the element.</li></ul></li>
<li> "Widget" — Operations over the widgets and the libraries of widgets.
<ul><li> "New library" — creation of the new library.</li>
<li> "Add visual item" — adding of the visual element to the library.</li>
<li> "Delete visual item" — deleting of the visual element from the library.</li>
<li> "Clear visual item changes" — clearing of the visual element with the inheritance of modified properties or setting them by default.</li>
<li> "Lower down visual item changes" — lowering down of the visual element changes to the parent, that will be used by other inheritances.</li>
<li> "Properties of the visual item" — call for configuration of the visual element.</li>
<li> "Edit visual item" — call visual editing of the element.</li>
<li> "View" — Management of the arrangement of visual elements on the frame.
<ul><li> "Rise up" — rising the widget above.</li>
<li> "Lower down" — lowering the widget below.</li>
<li> "Raise up to the top" — rising the widget to the top.</li>
<li> "Lower down to the bottom" — lowering the widget to the bottom.</li>
<li> "Align to the left" — alignment of the widget to the left.</li>
<li> "Align vertically to the center" — alignment of the widget vertically to the center.</li>
<li> "Align to the right" — alignment of the widget to the right.</li>
<li> "Align to the top" — alignment of the widget to the top.</li>
<li> "Align horizontally to the center" — alignment of the widget horizontally to the center.</li>
<li> "Align to the bottom" — alignment of the widget to the bottom.</li></ul></li>
<li> "Library: {Name of the library}" — menu items to access the frames-widgets in the library.</li></ul></li>
<li> "Window" — Management of the MDI windows.
<ul><li> "Close" — closing the active window.</li>
<li> "Close all" — closing all the windows.</li>
<li> "Tile" — tiling all the windows for visibility at the same time.</li>
<li> "Cascade" — cascading all the windows.</li>
<li> "Next" — activating the next window.</li>
<li> "Previous" — activating the previous window.</li>
<li> "Widget: {Name of the widget}" — activation items of a particular window.</li></ul></li>
<li> "View" — Management of the visibility of the working window and the toolbars on it.
<ul><li> "Full screen" — deploying the work window to the full screen.</li>
<li> "Visual items toolbar" — control panel of the visual items.</li>
<li> "Functions of the widgets visibility" — control panel of the location of the widgets on the frames.</li>
<li> "Elementary figure tools" — Additional toolbar for the editing the primitive of the elementary figure ("ElFigure").</li>
<li> "Projects" — attached window of control of the projects tree.</li>
<li> "Widgets" — attached window of control of the widgets libraries tree.</li>
<li> "Attributes" — attached window of the attributes manager.</li>
<li> "Links" — attached window of the links manager.</li>
<li> "Library: {Name of the library}" — control of the visibility of the toolbars of the widgets libraries.</li></ul></li>
<li> "Help" — Help for OpenSCADA and this module.
<ul><li> "About" — information about this module.</li>
<li> "About Qt" — Information about the Qt library, used by this module.</li>
<li> "Manual on 'Vision'" — call manual on this module.</li>
<li> "Manual on 'VCAEngine'" — call manual on the engine of the visualization and control area.</li>
<li> "Manual on 'OpenSCADA 0.9.0'" — call manual on OpenSCADA in whole.</li>
<li> "Manual on ..." — call manual on the selected library.</li>
<li> "What's this" — query of the description of the elements of the window's interface.</li></ul></li>
<li> "QTStarter" — Menu item, created by the module for running the Qt library modules. Contains start buttons for UI modules OpenSCADA, based on the Qt library. This option allows you to open several instances of the windows of this module or other modules.</li></ul>
<p>Above, under menu, or on the sides, there are the toolbars. Toolbars can be hidden or located, which is controlled in the menu item "View". The following toolbars are provided:
</p>
<ul><li> "Visual items toolbar" — Control panel of the visual items:
<ul><li> "Run the project execution for the selected item" — runs the project for execution and activates the selected page of the project.</li>
<li> "Load the item data from DB" — uploading the chosen elements data from the database.</li>
<li> "Save the item data to DB" — saving the chosen elements data to the database.</li>
<li> "New project" — creation the new project.</li>
<li> "New widgets library" — creation the new widgets library.</li>
<li> "Add visual item" — adding of the visual element.</li>
<li> "Delete visual item" — deleting of the visual element.</li>
<li> "Properties of the visual item" — call for configuration of the visual element.</li>
<li> "Edit visual item" — call visual editing of the element.</li>
<li> "Undo visual item changes" — make visual item last changes undo.</li>
<li> "Redo visual item changes" — make repeat for visual item changes.</li>
<li> "Copy visual item" — copy of the visual element, at the time of paste.</li>
<li> "Cut visual item" — cut-move of the visual element, at the time of paste.</li>
<li> "Paste visual item" — paste of the visual element.</li></ul></li>
<li> "Functions of the widgets visibility" — Control panel of the location of the widgets on the frames:
<ul><li> "Rise up" — rising the widget above.</li>
<li> "Lower down" — lowering the widget below.</li>
<li> "Raise up to the top" — rising the widget to the top.</li>
<li> "Lower down to the bottom" — lowering the widget to the bottom.</li>
<li> "Align to the left" — alignment of the widget to the left.</li>
<li> "Align vertically to the center" — alignment of the widget vertically to the center.</li>
<li> "Align to the right" — alignment of the widget to the right.</li>
<li> "Align to the top" — alignment of the widget to the top.</li>
<li> "Align horizontally to the center" — alignment of the widget horizontally to the center.</li>
<li> "Align to the bottom" — alignment of the widget to the bottom.</li></ul></li>
<li> "Elementary figure tools" — Additional toolbar for the editing the primitive of the elementary figure ("ElFigure"):
<ul><li> "Return the cursor" — returning to the cursor for the action over the figures on the widget.</li>
<li> "Add line" — adding the line to the elementary figure.</li>
<li> "Add arc" — adding the arc to the elementary figure.</li>
<li> "Add besier curve" — adding the Bézier curve to the elementary figure.</li>
<li> "Connections" — enabling of the of connections at the elementary figure.</li></ul></li>
<li> "Library: {Name of the library}" — The content of the panel depends on the contents of the library and includes the buttons for calling library items.</li></ul>
<p>At the bottom of the development window of the VCA there is the status line. On the right side of the status line there are indicators of the visual scale of the edited frame, of the mode of changing of the size of the elements, of the mode of the VCA engine station and the user on whose behalf the development of the VCA interface is done. By double-clicking on the indicator of the user it can be changed the current user, entering the new username and password. In the main field of the status line it is displayed various information and assistance messages.
</p><p>To edit properties of the visual elements there are two dialogues. The first dialogue allows you to edit the properties of containers of the visual elements, (Fig.2.b) — widgets libraries and projects. The second dialogue serves to edit the properties of the visual elements (Fig.2.d). Changes, made in the dialogues, at once, get to the VCA engine. To save these changes to the database, or restore from the database, it is necessary to use the appropriate tools of the main development window.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:724px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wlbpg.png"><img class="thumbimage" height="530" src="../files/Vision_wlbpg.png" width="722" /></a>  <div class="thumbcaption">Fig.2.b. Dialogue of editing of the properties of the containers of the visual elements.</div></div></div></div>
<p>With the help of the main tab of that dialog you can set:
</p>
<ul><li> State of the elements' container, that is: "Enabled", database of the container, usage counter, date and time of the last modification.</li>
<li> Identifier, name and description of the container.</li>
<li> For the project:
<ul><li> user, group of users and the access for: user, users' group and all other;</li>
<li> period of the project calculating in the execution.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:883px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wlbpg_diag.png"><img class="thumbimage" height="379" src="../files/Vision_wlbpg_diag.png" width="881" /></a>  <div class="thumbcaption">Fig.2.c. Tab "Diagnostics" of the project.</div></div></div></div>
<p>From this tab you can, for obtain the diagnostic messages: select the time, refresh to the current tiem and select the size-deep.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:631px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg.png"><img class="thumbimage" height="499" src="../files/Vision_wdg.png" width="629" /></a>  <div class="thumbcaption">Fig.2.d. Dialogue of editing of the properties of the visual elements.</div></div></div></div>
<p>With the help of the main tab of that dialog you can set:
</p>
<ul><li> State of the element, that is: "Enabled", parent widget, page type (for pages of the project), usage counter, date and time of the last modification.</li>
<li> Identifier, root, path, name and description of the element.</li></ul>
<p>Dialogue of editing the properties of the containers of the visual elements contains two tabs: configuration tab of the the main parameters (Fig.2.b) and configuration tab of the mime-data of the container (Fig.2.e).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:400px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wlbpg_mime.png"><img class="thumbimage" height="530" src="../files/Vision_wlbpg_mime.png" width="398" /></a>  <div class="thumbcaption">Fig.2.e. Editing tab of the mime-data of a container of the visual elements.</div></div></div></div>
<p>Dialogue of editing the properties of the visual elements contains four tabs: configuration tab of the main parameters (Fig.2.b), tab of the element attributes (Fig.2.f), tab of the element processing (Fig.2.g) and tab of the element links (Fig.2.h). At different levels of the visual elements hierarchy some tabs can be available, but some are not.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:631px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_attr.png"><img class="thumbimage" height="529" src="../files/Vision_wdg_attr.png" width="629" /></a>  <div class="thumbcaption">Fig.2.f. Attributes tab of the editing dialogue of the properties of the visual element.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:767px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_prc.png"><img class="thumbimage" height="622" src="../files/Vision_wdg_prc.png" width="765" /></a>  <div class="thumbcaption">Fig.2.g. Processing tab of the editing dialogue of the properties of the visual element.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:631px;"><a class="image" href="http://oscada.org/wiki/File:Vision_wdg_lnk.png"><img class="thumbimage" height="577" src="../files/Vision_wdg_lnk.png" width="629" /></a>  <div class="thumbcaption">Fig.2.g. Links tab of the editing dialog of the properties of the visual element.</div></div></div></div>
<h3><span class="mw-headline" id="Styles"><span class="mw-headline-number">2.1</span> Styles</span></h3>
<p>It knows that people can have individual features in the perception of graphical information. If these features are not taken into account, it is possible to obtain the rejection and abruption of the user to the interface of VC. This rejection and abruption can lead to fatal errors in the management of TP, as well as traumatize the human by the continuous work with the interface. In SCADA systems, arrangements have been made that regulate the requirements for creating the unified UI interface, which is normally perceived by most people. This is practically eliminates the features of people with some deviations.
</p><p>In order to take this into account and allow centralized and easy to change the visual properties of the interface module is implementing a theme manager of the visualization interface.
</p><p>User can create many themes, each of which will keep the color, font and other properties of the frame elements. Simple changing of the theme will allow you to change the interface of VC, and the possibility of appointing an individual theme in the user's profile allows to take into account his individual features.
</p><p>To realize this opportunity, when creating a frame, it is necessary for the properties of color, font and others set the "Configuration" (of the table in the "Process" tab) in the value of "From style". And in the parameter "Configuration template" to specify the identifier of the style field. Next, this field will automatically appear in the style manager and can be modified there. The style manager is available on the project configuration page in the tab "Styles". In this tab, you can the styles create, delete and edit, delete their fields.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_prj_stl.png"><img alt="Vision prj stl.png" height="460" src="../files/Vision_prj_stl.png" width="393" /></a></div></div>
<p>In general, the styles are available from the project level. At the level of the widget libraries you can only define the style fields for the widgets. At the project level, at the choice of style, it is started the work with styles, which includes access to the fields of styles instead of direct attribute values. In fact, this means that when reading or writing a widget attribute these operations will be carried out with the corresponding field of the chosen style.
</p><p>When starting a project, the project-style will be used. In the future, the user can choose a style from the list of available. The user-selected style will be saved and used the next time the project is launched.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Linkage_with_the_dynamics"><span class="mw-headline-number">2.2</span> Linkage with the dynamics</span></h3>
<p>To provide the visualization interface of relevant data, data from the subsystem "Data acquisition (DAQ)" should be used. The nature of these data is as follows:
</p>
<ol><li> parameters that contain some number of attributes;</li>
<li> attributes of the parameter can provide information of five types: Boolean, Integer, Real, String and Object;</li>
<li> attributes of the parameter can have their archive (history);</li>
<li> attributes of the parameter can be set to read, write and with full access.</li></ol>
<p>Given the first point, it is necessary to provide the possibility of group-based reference. To do this, we use <a href="../DAQ.html#LogicLev" title="Special:MyLanguage/Documents/DAQ">the logical level concept</a>.
</p><p>The links provide a transparent type conversion and do not require a special configuration.
</p><p>To satisfy the opportunities for accessing to archives links make check of the attribute type, and in the case of connection to the "Address", the address of the link is put into the value.
</p><p>In the VCA terms, the dynamic links and configuration of the dynamics are the one process, to describe a configuration of which the tab "Processing" of the widgets is provided (Fig.2.f). The tab contains a table of configuration of the attributes properties and the calculation procedure text of the widget.
</p><p>In addition to configuration fields of the attributes the column "Processing" in the table provides, for selective using of the attributes in the computational procedure of the widget, and the columns "Configuration", "Configuration template", to describe the links configuration.
</p><p>The column "Configuration" allows to specify the link type of the widget attribute:
</p>
<ul><li> <i>Constant</i> — in the tab of widget links the field for indication of a constant appears, for example, of the special color or header of the template frames.</li>
<li> <i>Input link</i> — linkage with the dynamics for read-only.</li>
<li> <i>Output link</i> — linkage with the dynamics just for writing.</li>
<li> <i>Full link</i> — complete linkage with dynamic, read/write.</li>
<li> <i>From style</i> — take the value from the project's style.</li></ul>
<p>The column "Configuration template" makes it possible to describe the groups of dynamic attributes. For example, it may be different types of parameters of the subsystem "DAQ" and other interface widgets. With the correct formation of this field, the mechanism of automatic assignment of attributes is worked, with only the parameter of the subsystem "DAQ" or the widget of the interface, which simplifies and accelerates the configuration process. Value of this column has the following format:
</p>
<ul><li> <i>For constant:</i> direct the attribute value.</li>
<li> <i>For link:</i> "<b>{parameter}|{identifier}</b>", where:
<ul><li> <i>parameter</i> — group of the attribute;</li>
<li> <i>identifier</i> — identifier of the attribute; same the value is compared with the attributes of the DAQ parameters with automatic linkage, after the group link indication.</li></ul></li>
<li> <i>For style:</i> identifier-name of the style field.</li></ul>
<p>There may be several types of links, that are defined by the prefix:
</p>
<ul><li> <i>val:</i> — Direct download value through the link mechanism. For example, the "val:100" link loads value 100 to the widget attribute. Often used in the absence of a terminal point of linking, for the purpose of directly setting the value.</li>
<li> <i>prm:</i> — Link to the parameter attribute or parameter, in general, for the attributes group of the "Data acquisition" subsystem. For example, the link "prm:/LogicLev/experiment/Pi/var" performs the access of the widget attribute to the parameter attribute of the subsystem "Data acquisition". Sign "(+)" at the end of the address indicate about successful linking and presence of the target. For object-type attributes, permissible hierarchical access to a specific property of the object, by specifying its path through the symbol '#', for example: "prm:/LogicLev/experiment/Pi/var#pr1/pr2".</li>
<li> <i>wdg:</i> — Link to the attribute of another widget or widget, in general, for the attributes group. For example, the link "wdg:/ses_AGLKS/pg_so/pg_1/pg_ggraph/pg_1/a_bordColor" performs the access of the attribute of one widget to the attribute of another one. Supported both absolute and relative paths of the links. The reference point of the address of the absolute link is the root object of the module "VCAEngine", which means — the first element of the absolute address is ID of the session or project. The first element, on the side of the session, drops, so the links, installed in the project, work there. Relative links take a countdown from the widget where the link is specified. A special element of relative link is an element of a higher node "..".</li>
<li> <i>arh:</i> — A special type of the link, available only for a separate attribute of the type "Address", which allows you to connect directly to the value archive ("arh:CPU_load"). It may be useful to specify the archive as a data source for the primitive "Diagram".</li></ul>
<p>Processing of the links occurs at a period of the widget calculating in the following order:
</p>
<ul><li> receiving the data from the input links;</li>
<li> performing the calculation of the widget procedure;</li>
<li> transmission the values by the output links.</li></ul>
<p>Figure 2.g presents the tab with the possibility of group and individual assignment of attributes.
</p><p>When placing a widget in the widget container, all links of the original widget are added to the list of resulting links of the widget container, however, only to a depth at one level of nesting.
</p><p>From the foregoing it is clear that the links are set by the user during the configuration of the interface. However, in order to allow the creation of general-purpose frames with the function of providing detailed data of different sources of the same type, a <span id="DynLink" title="#DynLink">dynamic linking mechanism</span> is required. Such a mechanism is foreseen:
</p>
<ul><li> reserving the key identifier "<b>&lt;page&gt;</b>" for the group of attributes of links in general purpose frames;</li>
<li> dynamically assigning links to the identifier "<b>&lt;page&gt;</b>" in the process of opening a general-purpose frame by the signal from another widget.</li></ul>
<p>Let's examine the example when we have the frame of general-purpose "Control panel of graph" and a lot of "Graphs" in different frames. "Control panel of graph" has links with the templates:
</p>
<ul><li> tSek -&gt; "&lt;page&gt;|tSek"</li>
<li> tSize -&gt; "&lt;page&gt;|tSize"</li>
<li> trcPer -&gt; "&lt;page&gt;|trcPer"</li>
<li> valArch -&gt; "&lt;page&gt;|valArch"</li></ul>
<p>In this case, each widget "Graph" has attributes "tSek", "tSize", "trcPer" and "valArch". Calling the "Control panel of graph" by opening signal from any widget "Graph", the attributes of the "Control panel of graph" are linked together with the attributes of the "Graph" widget, according to the template. As a result, all changes in the "Control panel of graph" will be displayed on the graph, through these links.
</p><p>If the "Graph" widget has external links to the parameters of the "Data acquisition" subsystem, the "Control panel of graph" links will be installed on the external source. Additionally, if the "Control panel of graph" will be declared the links to the missing attributes directly in the widget "Graph", then the search will be made for the presence of such attributes in the external source — the first one on which a direct link is established, performing, thereby, the addition of the missing links.
</p><p>To visualize this mechanism the table is provided.
</p><p><b>Table.</b> The mechanism of the dynamic linkage.
</p>
<table class="wikitable">

<tr>
<th> Attributes of the "Control panel of graph" (the template of dynamic linkage) </th>
<th> "Graph" attributes </th>
<th> Attributes of the external "Parameter" </th>
<th> Resulting link or value of the linking attribute
</th></tr>
<tr>
<td> tSek (&lt;page&gt;|tSek) </td>
<td> tSek </td>
<td> - </td>
<td> "Graph".tSek
</td></tr>
<tr>
<td> tSize (&lt;page&gt;|tSize) </td>
<td> tSize </td>
<td> - </td>
<td> "Graph".tSize
</td></tr>
<tr>
<td> trcPer (&lt;page&gt;|trcPer) </td>
<td> trcPer </td>
<td> - </td>
<td> "Graph".trcPer
</td></tr>
<tr>
<td> valArch (&lt;page&gt;|valArch) </td>
<td> valArch </td>
<td> - </td>
<td> "Graph".valArch
</td></tr>
<tr>
<td> var (&lt;page&gt;|var) </td>
<td> var </td>
<td> var </td>
<td> "Parameter".var
</td></tr>
<tr>
<td> ed (&lt;page&gt;|ed) </td>
<td> - </td>
<td> ed </td>
<td> "Parameter".ed
</td></tr>
<tr>
<td> max (&lt;page&gt;|max) </td>
<td> - </td>
<td> - </td>
<td> EVAL
</td></tr>
<tr>
<td> min (&lt;page&gt;|min) </td>
<td> - </td>
<td> - </td>
<td> EVAL
</td></tr></table>
<h2><span class="mw-headline" id="Execution_of_the_VCA_interfaces"><span class="mw-headline-number">3</span> <span id="RunTime" title="#RunTime">Execution of the VCA interfaces</span></span></h2>
<p>Execution of the IU interface consists in launching a new project session or connecting to the current one, at the level of the VCA engine. Then the module of direct visualization represents and controls the session data. The main window of the execution mode of this module has the view presented at Figure 3.
</p><p>Update of the contents of the open pages of the visual interface with periodicity of the project session is implemented. During the upgrade process:
</p>
<dl><dd>- request, in the model, of opened pages list and checking consistency of the really opened pages to this list;</dd>
<dd>- requests of modified data on each opened page and its widgets;</dd>
<dd>- updating content of the pages and their widgets in accordance with the received modified data.</dd></dl>
<p>When closing the "Runtime" window closes the project session in the data model if the session is not background and it was the last connection.
</p><p>The mechanism of the request for only modified data is based on the absolute counter of the session execution. When you make real changes in the attributes of widgets the remembering of the value of this counter is made, which allows us to identify the modified attributes. This approach allows to increase productivity and reduce the load on the traffic in case of access to the model through the network.
</p><p>Hierarchically, the module assumes the possibility of placing pages of the project as in the main window of execution (Fig. 3), and by placing inside the container widgets, as well as by opening additional windows over the main one.
</p><p>When you expand the main execution window, or moving to the full-screen mode, scaling of the page content of the VCA interface is performed, filling the entire space of the window and allowing to execute the projects, developed on one screen resolution, at different resolutions.
</p><p>The main window consists of menu (top) status line (bottom), and the executable contents of the session between them. Menu in the execution mode is positioned as the administrator tool of OpenSCADA, which contains system-wide functions, and is only available to privileged users in the "root" group. Menu has the following structure:
</p>
<ul><li> "File" — General operations.
<ul><li> "Print" — print:
<ul><li> "Page" — page of the user interface;</li>
<li> "Diagram" — diagram on the user interface;</li>
<li> "Document" — document on the user interface.</li></ul></li>
<li> "Export" — export:
<ul><li> "Page" — page of the user interface, to image;</li>
<li> "Diagram" — diagram on the user interface, to image and CSV;</li>
<li> "Document" — document on the user interface, to HTML and CSV for exporting tables.</li></ul></li>
<li> "Close" — close the editor window.</li>
<li> "Quit" — quit the program.</li></ul></li>
<li> "Alarm" — Alarm quietance:
<ul><li> "Alarm level" — all alarms;</li>
<li> "Light" — notification with the lighting;</li>
<li> "Buzzer" — notification with the buzzing;</li>
<li> "Sound/speech" — notification with the sound/speech.</li></ul></li>
<li> "View" — Display options of the project session.
<ul><li> "Full screen" — switcher of the full screen execution mode.</li></ul></li>
<li> "Help" — Help through the VCA project, this module and OpenSCADA.
<ul><li> "About" — information about this module.</li>
<li> "About Qt" — Information about the Qt library, used by this module.</li>
<li> "Manual on the project '{Name}'" — call the manual on the project of the visualization — a file with the name of the VCA project identifier.</li>
<li> "Manual on 'Vision'" — call the manual on this module.</li>
<li> "Manual on 'OpenSCADA 0.9.0'" — call the manual on OpenSCADA in whole.</li></ul></li>
<li> "QTStarter" — Menu item, created by the module for running the Qt library modules. Contains start buttons for UI modules OpenSCADA, based on the Qt library. This option allows you to open several instances of the windows of this module or other modules. In the case of the execution mode, this menu allows you to open the development window from the executing one, re-calling the module.</li></ul>
<p>On the status line locates:
</p>
<ul><li> On the right side:
<ul><li> the clock, in the full-screen mode;</li>
<li> the current VCA engine station;</li>
<li> the current user, on whose behalf the VCA interface is executed — by a double-clicking this user can be changed, typing of the new username and password;</li>
<li> the current interface style, which can be changed by a double-clicking.</li>
<li> the panel with buttons:
<ul><li> alarms quietance — by a click the violations can be quieted completely or just the desired type of the notification;</li>
<li> export and print — calls by a click for the dialog of exporting and printing the default element or selected from the menu, where the export for:
<ul><li> "Page" — page of the user interface, to image;</li>
<li> "Diagram" — diagram on the user interface, to image and CSV;</li>
<li> "Document" — document on the user interface, to HTML and CSV for exporting tables.</li></ul></li>
<li> manual on the VCA project — calls by a click the manual on the visualization project — a file with the name of the identifier of the VCA project.</li></ul></li>
<li> the panel of user actions, if specified in <a href="#SpecAttrs">the attribute "statLine"</a> — by clicking the left, right and double click forms the even to the main interface page.</li></ul></li>
<li> In the main field of the status line various messages and assistance messages are displayed.</li></ul>
<p>The Runtime mode mostly supports multi-language, which depends on the language of the selected user or the execution window, that is if you change the user you will get the Runtime interface at other language of the user. This function enabled for <a href="../Program_manual.html#ConfigTr" title="Special:MyLanguage/Documents/Program manual">dynamic messages translation of OpenSCADA</a>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1039px;"><a class="image" href="http://oscada.org/wiki/File:Vision_run.png"><img class="thumbimage" height="763" src="../files/Vision_run.png" width="1037" /></a>  <div class="thumbcaption">Fig.3. Main window in the execution mode.</div></div></div></div>
<h2><span class="mw-headline" id="Presentation_of_the_basic_elements_.28primitives.29"><span class="mw-headline-number">4</span> <span id="Primitives" title="#Primitives">Presentation of the basic elements (primitives)</span></span></h2>
<p>This version of the module does not implement all the shapes of the primitives laid by the project. In general, the project provides the following primitives:
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Function
</th></tr>
<tr>
<td> ElFigure </td>
<td> Elementary graphical figure </td>
<td>
<p>The primitive is the basis for drawing elementary graphical shapes with their possible combinations in a single object. The support of the following elementary figures is provided:
</p>
<ul><li> Line.</li>
<li> Arc.</li>
<li> Bézier curve.</li>
<li> Fill of the enclosed space.<br /></li></ul>
<p>For all the figures, contained in the widget, set the common properties of thickness, color, etc., provides the possibility to specify the above-mentioned attributes for each figure separately and their dynamization.
</p>
</td></tr>
<tr>
<td> FormEl </td>
<td> Element of the form </td>
<td>
<p>Includes support for the standard form components:
</p>
<ul><li> Line edit.</li>
<li> Text edit.</li>
<li> Check box.</li>
<li> Button.</li>
<li> Combo box.</li>
<li> List.</li>
<li> Tree.</li>
<li> Table.</li>
<li> Slider.</li>
<li> Scroll bar. </li></ul>
</td></tr>
<tr>
<td> Text </td>
<td> Text </td>
<td> Text element-label. Characterized by the font type, color, orientation and alignment. Support for arguments is provided.
</td></tr>
<tr>
<td> Media </td>
<td> Media </td>
<td> Element of the visualization of raster and vector images of various formats, playback of the animated images, playback of the audio fragments and view of the video fragments.
</td></tr>
<tr>
<td> Diagram </td>
<td> Diagram </td>
<td> Element of the diagram with the support of the visualization in the real-time for the flow of several: trends (time charts), spectrum, XY diagrams.
</td></tr>
<tr>
<td> Protocol </td>
<td> Protocol </td>
<td> Element of the protocol — visualizer of the program messages, with support of the multiple operating modes.
</td></tr>
<tr>
<td> Document </td>
<td> Document </td>
<td> Element of the generating reports, journals and other documentation on the basis of available data.
</td></tr>
<tr>
<td> Box </td>
<td> Container </td>
<td> Contains the mechanism for other widgets placement-including with the purpose of creation of new, more complex, widgets and pages of the end visualization.
</td></tr>
<tr>
<td> Function, <span style="color: red">in plane</span> </td>
<td> Function of API of the object model of OpenSCADA </td>
<td> Not visual widget, on the runtime side, which allows to include a computing function of the object model of OpenSCADA in the VCA.
</td></tr></table>
<p><a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="../files/At.png" width="22" /></a> For all implemented primitives, except "FormEl," this module supports the conditional generation of events from the mouse manipulator at the transparency of the pointed pixel, more than zero — not complete transparency.
</p><p><span id="SpecAttrs" title="#SpecAttrs">The visualizer module provides and uses set of specific attributes</span> of the generic means, the information of which is given in the table. These attributes are automatically created by the visualizer in their absence and during the first run, or created by the user in the frame of the specified area, as needed.
</p>
<table class="wikitable">

<tr>
<th> Identifier (area) </th>
<th> Name </th>
<th> Appointment
</th></tr>
<tr>
<td> notify{N}, notifyVisVision{N} (page) </td>
<td> Notification: type {N} </td>
<td> Specifies a notifier and a procedure of the notification resource obtaining and the same notification, used at missing Phonon, according to the <a href="../Modules/VCAEngine.html#Alarms" title="Special:MyLanguage/Modules/VCAEngine">"Signalling (Alarms)" conception</a>.
</td></tr>
<tr>
<td> statLine (main page) </td>
<td> Status line items </td>
<td>
<p>Text field with description of the status line item in the string form "<b>{Id}:{Label}:{ToolTip}:{Color}:{Img}</b>", where:
</p>
<ul><li> "Id" — identifier, uses also to form events from the widget "stIt_{Id}".</li>
<li> "Label" — visual label of the status element.</li>
<li> "ToolTip" — context help about the element.</li>
<li> "Color" — label color.</li>
<li> "Img" — image of the status element, instead the label.</li></ul>
</td></tr>
<tr>
<td> runWin (main page) </td>
<td> Window of the execution </td>
<td>
<p>Setting the mode of the main window execution:
</p>
<ul><li> "Original size (0)".</li>
<li> "Maximize (1)".</li>
<li> "Full screen (2)". </li></ul>
</td></tr>
<tr>
<td> keepAspectRatio (main page) </td>
<td> Keep aspect ratio on scale </td>
<td> Keep aspect ratio of the pages on scale.
</td></tr>
<tr>
<td> stBarNoShow (main page) </td>
<td> Do not show the status bar </td>
<td> Hide the status bar of the main window.
</td></tr>
<tr>
<td> winPosCntrSave (main page) </td>
<td> Control and save for position of the windows </td>
<td> Enabling the windows position control and save.
</td></tr>
<tr>
<td> userSetVis (main page, created manually, the type "String") </td>
<td> Setting the user </td>
<td>
<p>Change the user or call a dialog to select it. Variants of the value:
</p>
<ul><li> "*" — call for a selecting dialog of the user; </li>
<li> "$" — change the user to the default one;</li>
<li> "{user}[:{password}]" — direct change to <i>user</i> with <i>password</i>; for empty password, the user is changed only if its permission is lesser or equal and that is the local visualisation; a useful example of changing to the "user" after one minute inactivity:</li></ul>
<pre style="white-space: pre-wrap;&nbsp;; margin-left: 20pt">
if((SYS.time()-this.ownerSess().userActTm()) &lt; 60)userSetVis = "";
else if(this.ownerSess().reqUser()&nbsp;!= "user") userSetVis = "user:user";
</pre>
</td></tr>
<tr>
<td> vs_background (the views "Line edit", "Text edit", "Combo box", "List", "Tree", "Table" of the primitive "FormEl") </td>
<td> Custom background </td>
<td> Specifies for the custom background in the form <b>{color}-{transp} {image}</b>
</td></tr>
<tr>
<td> vs_border (the views "Line edit", "Text edit", "Combo box", "List", "Tree", "Table" of the primitive "FormEl") </td>
<td> Custom border </td>
<td> Specifies for the custom border in the standard CSS-form <b>{wdth}px {style} {color}</b>
</td></tr>
<tr>
<td> vs_winTitle (the view "Box") </td>
<td> Window title </td>
<td> Dynamic window title value
</td></tr></table>
<p>Consider the implementation of each primitive in more detail.
</p>
<h3><span class="mw-headline" id="Elementary_figure_primitive_.28ElFigure.29"><span class="mw-headline-number">4.1</span> Elementary figure primitive (ElFigure)</span></h3>
<p>Support of the following elementary figures is provided: line, elliptical arc, Bézier curve and fill of the closed circuit with the color and image. For the elementary figures the following operations are provided:
</p>
<ul><li> creation/deleting of the figures;</li>
<li> copying of the figure(s);</li>
<li> moving and resizing of the figures by the mouse manipulator and keyboard;</li>
<li> possibility to connect the elementary figures to each other, getting more complex figures, for which all the properties of the source elementary figures are available;</li>
<li> possibility of simultaneous movement of several figures;</li>
<li> fill of the closed circuit with the color and image;</li>
<li> generation of mouse key events at the time of the click on the filled spaces;</li>
<li> scaling;</li>
<li> transformation: rotation and mirroring.</li></ul>
<p>Figure shows a part of the screen with a frame containing the elementary figures.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_elfig_new.png"><img alt="Vision elfig new.png" height="298" src="../files/Vision_elfig_new.png" width="299" /></a></div></div>
<p>The figures underlying this widget, containing the points (the start and end ones) that can be connected with the according points of other figures; and the points with the help of which the geometry of the figure can be changed.
</p><p>It is possible to add the figure using the mouse manipulator:
</p>
<ol><li> Select the desired figure from the context menu.</li>
<li> Set, with the left mouse-button, start and end points (for line, with the SHIFT key hold its orthogonal drawing is made).</li></ol>
<p>The deleting of the figure(s) it is possible by pressing "Del", having selected figure(s).
</p><p>The copying of the figure(s) it is possible by pressing keys "Ctrl"+"C", having selected figure(s).
</p><p>Moving/resizing of the figure it is possible by using the mouse manipulator or keyboard:
</p>
<ol><li> Select the figure, by clicking on it with the left mouse button.</li>
<li> Drag (with the help of mouse or control keys) the figure or one of its control points in the desired location and release the mouse button (key).</li></ol>
<p>It is possible to move several selected figures, selected by holding "Ctrl" (works when the "Connections" button is unlocked) or by mouse.
</p><p>The connection of the figures with each other it is possible by the following way:
</p>
<ol><li> Press the button "Connections".</li>
<li> Select one of the figures and move its start or end point to the desired start or end point of the other figure so that it will get to the appeared circle. Connected figures are moving as well as the individual — the general point is moved for all connected figures, to which it refers, where the priority is given to the arc and two arcs can't be connected directly with each other.</li></ol>
<p>To fill the closed contour from the figures it is possible with the following way:
</p>
<ol><li> Press the button "Connections".</li>
<li> Create the closed contour.</li>
<li> Make the double-click of the mouse inside of it.</li></ol>
<p>To delete the fill of the closed contour it is possible:
</p>
<ul><li> from the context menu, right-clicking of the mouse manipulator over the fill;</li>
<li> breaking the closed contour;</li>
<li> double-clicking of the mouse manipulator on the filled space.</li></ul>
<p>Rotation of the figure is made around the widget center.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Text_primitive_.28Text.29"><span class="mw-headline-number">4.2</span> Text primitive (Text)</span></h3>
<p>Support of the text element with the following properties is implemented:
</p>
<ul><li> Font with the properties: type-class, size, bold, italic, strikeout and underline.</li>
<li> Text color.</li>
<li> Text orientation.</li>
<li> Automatic word wrap.</li>
<li> Alignment of the text horizontally and vertically with all variants.</li>
<li> Displaying the background as the color and image.</li>
<li> Displaying the border around the text, with the specified color, width and style.</li>
<li> Displaying HTML. </li>
<li> Addition of the text by arguments of different type and properties.</li></ul>
<p>Figure represents a part of the screen with the frame containing the text examples using various parameters.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_txt.png"><img alt="Vision run txt.png" height="112" src="../files/Vision_run_txt.png" width="161" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitive_of_the_form_element_.28FormEl.29"><span class="mw-headline-number">4.3</span> Primitive of the form element (FormEl)</span></h3>
<p>Provides support for the form elements on the VCA frames with the planed properties, including the types:
</p>
<ul><li> <i>Line edit</i> — Represented by the following types: "Text", "Combo", "Integer", "Real", "Time", "Date", "Date and time". All kinds of line editor support the confirmation of entry.</li>
<li> <i>Text edit</i> — Provides the flat-text editor with the confirmation or denial of entry.</li>
<li> <i>Check box</i> — Provides a field of binary flag.</li>
<li> <i>Button</i> — Provides the button with support of the button color, image in the button and the modes:
<ul><li> standard;</li>
<li> checkable;</li>
<li> call the menu;</li>
<li> call the file loading;</li>
<li> call the file saving.</li></ul></li>
<li> <i>Combo box</i> — Provides a field for selecting an item from the list of specified items</li>
<li> <i>List</i> — Provides the list box with the control of the current item.</li>
<li> <i>Tree</i> — Provides the tree element with possibility of an item selection.</li>
<li> <i>Table</i> — Provides the table element with the possibility of selecting for cells, rows or columns and editing the cell content.</li>
<li> <i>Slider</i> — Slider element.</li>
<li> <i>Scroll bar</i> — Scroll bar.</li>
<li> <i>Password</i> — Hidden password typing.</li></ul>
<p>The "Enabled" and "Active" modes are implemented, as well as the transfer of changes and events to the data model of the VCA — engine. The mode "Active" cause to the activity cursor set for not empty background and the addition conditions of the different views "Text", "Media" and "Box":
</p>
<ul><li> <i>Text</i> — not empty text;</li>
<li> <i>Media</i> — not empty source image.</li></ul>
<p>Figure represents a part of the screen with the frame containing the above-listed elements of the form.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_formel.png"><img alt="Vision run formel.png" height="255" src="../files/Vision_run_formel.png" width="452" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitive_of_the_displaying_the_media-materials_.28Media.29"><span class="mw-headline-number">4.4</span> Primitive of the displaying the media-materials (Media)</span></h3>
<p>Support of the element of the displaying of the media-materials with the following properties is provided:
</p>
<ul><li> Indication of the media data source: images or video-material.</li>
<li> Review of the images of most well-known formats with the possibility of fitting of it in the size of the widget.</li>
<li> Playback of the simple animated images and video formats with the possibility to control the playback speed.</li>
<li> Playback of the full-formatted video and audio by <a class="extiw" href="https://en.wikipedia.org/wiki/Phonon" title="wikipedia:Phonon">Phonon</a>.</li>
<li> Displaying the background as the color and image.</li>
<li> Displaying the border along the perimeter of the widget, with the specified color, width and style.</li>
<li> Formation of the active areas and generating the events when they are activated.</li></ul>
<p>Figure represents a part of the screen with the frame containing examples of reviewing/playback of the media-data.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_media.png"><img alt="Vision run media.png" height="205" src="../files/Vision_run_media.png" width="232" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitive_of_constructing_diagrams_.28Diagram.29"><span class="mw-headline-number">4.5</span> Primitive of constructing diagrams (Diagram)</span></h3>
<p>The diagrams construction element releases for types: "Graph", "Spectrum" and "XY", with properties:
</p>
<ul><li> General properties of the diagram types "Graph", "Spectrum" and "XY":
<ul><li> possibility to select the archiver, the archive buffer or all their, at working with the archiving data;</li>
<li> adaptation of the parameter graph to real data values by adjusting the scale, in the absence of a directly specified range of values;</li>
<li> controlling by axis ranges in way increasing, decreasing and shifting;</li>
<li> wide range of scaling and adapting the time axis with automatic fitting the requested data to quality pretty for imaging, or needed for export — specifying the maximum number of measurements per pixel;</li>
<li> imaging dimensional grid and markers in horizontal and vertical with adapting to the imaging range;</li>
<li> tracing mode of the current time by periodically updating and shifting the time of the diagram to the current time — the time of the last data in the archive buffer;</li>
<li> horizontal sliding by mouse;</li>
<li> scaling of a window selected part, by the mouse.</li></ul></li>
<li> Properties of the diagram type "Graph":
<ul><li> constructing graphics up to 100 parameters per diagram in a percentage scale and displaying the selected parameters in its own scale;</li>
<li> constructing graph for: current, archiving and users data;</li>
<li> forming of an intermediate display buffer for current values;</li>
<li> support for the active mode with cursor and getting values under the cursor;</li>
<li> possibility of construction graphics as into both linear and logarithmic scale of the values.</li></ul></li>
<li> Properties of the diagram type "Spectrum":
<ul><li> construction of graphics of the frequency spectrum of parameters up to 100 on one diagram in a percentage scale and the ability to display selected parameters in its own scale;</li>
<li> constructing graph for: archiving and users data;</li>
<li> support for the active mode with cursor and getting values under the cursor;</li></ul></li>
<li> Properties of the diagram type "XY":
<ul><li> construction of XY graphs of parameters up to 50 on one diagram in a percentage scale and the ability to display selected parameters on its own scale;</li>
<li> constructing graph for: current, archiving and users data;</li>
<li> forming of an intermediate display buffer for current values;</li>
<li> the parameters distributed by pairs at one graph, where paired by axis Y (0,2,4...) and unpaired by axis X (1,3,5...);</li>
<li> possibility of construction graphics as into both linear and logarithmic scale of the values.</li></ul></li></ul>
<p>The visualizer module provides and uses set of specific attributes of this primitive, the information is shown in the next table.
</p>
<table class="wikitable">

<tr>
<th> Identifier </th>
<th> Name </th>
<th> Appointment
</th></tr>
<tr>
<td> sclWin </td>
<td> Zooming the area framed by a window, mouse. </td>
<td> A logical attribute type that is created by the user manually, as needed. For true, activates the mode of zooming the trend area framed by the window with the mouse.
</td></tr></table>
<p>Figure represents a part of the screen with the frame containing examples of the diagrams: "Graph", "Spectrum" and "XY".
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_run_diag.png"><img alt="Vision run diag.png" height="447" src="../files/Vision_run_diag.png" width="347" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitive_of_the_protocol_formation_.28Protocol.29"><span class="mw-headline-number">4.6</span> Primitive of the protocol formation (Protocol)</span></h3>
<p>Provides for support of the element of the protocol formation with the following properties:
</p>
<ul><li> Protocol formation from the message archive for the specified time and depth.</li>
<li> Request of the data from the message archivers.</li>
<li> Selection of the data from the archives by the level of importance and the template of the message category.</li>
<li> Support the mode of the tracking for the messages appearance in the message archive.</li></ul>
<p>Figure represents a part of the screen with the frame containing an example of the protocol.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_prot.png"><img alt="Vision prot.png" height="244" src="../files/Vision_prot.png" width="736" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitive_of_the_report_formation_.28Document.29"><span class="mw-headline-number">4.7</span> Primitive of the report formation (Document)</span></h3>
<p>Provides for support element of the report formation with the following properties:
</p>
<ul><li> Flexible formation of document structure based on HyperText Markup Language, which provides support for a wide range of features in the documents formatting.</li>
<li> Formation of the documents at a command or a schedule, which necessary for creation of reports to the archive and then reviewing the archive.</li>
<li> Formation of the documents in real time, to provide them completely dynamically and on the basis of archives at the specified time.</li>
<li> Using the widget attributes for transmission to the document of values and addresses to the archives, which allows you to use the document widget as a template when generating reports with other input data.</li></ul>
<p>The basis of any document is the XHTML template. The XHTML-template is the tag "body" of the WEB-page which contains the document's static in the standard XHTML 1.0 and elements of the executable instructions in the user programming language of OpenSCADA in the view <b>&lt;?dp {procedure}&nbsp;?&gt;</b>. The resulting document is formed by the procedures execution and insertion of their result into the document.
</p><p>The source for values of the executable instructions are the widget attributes of the primitive, as well as all the mechanisms of the user programming language OpenSCADA. Attributes may be added by the user and they can be linked to the actual attributes or parameters or they can be autonomous, values of which will be formed in the widget procedure. In the case of linked attributes the values can be extracted from the archive-history.
</p><p>Figure represents the frame, containing a sample of the document.
</p>
<div class="center"><div class="floatnone"><a class="image" href="http://oscada.org/wiki/File:Vision_doc.png"><img alt="Vision doc.png" height="580" src="../files/Vision_doc.png" width="900" /></a></div></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Primitive_of_the_box-container_.28Box.29"><span class="mw-headline-number">4.8</span> Primitive of the box-container (Box)</span></h3>
<p>Provides for support of the container primitive, which, in combination, plays the role of project pages. This primitive is the only container-element, which can itself include links to frames from the library, thus forming the user elements of the desired configuration. The primitive implements the properties provided by the project. Let's list, in points, the properties of this primitive:
</p>
<ul><li> <i>Container</i> — Allows forming the desired objects by grouping in the primitive borders.</li>
<li> <i>Page</i> — Elements, constructed on the basis of the primitive, may serve as a page of the user interface.</li>
<li> <i>Container of pages</i> — Property of substitution, in the execution process, of its own content by another page. Used to create frames on the pages of the user interface. For example, the main page of the typical SCADA-system with signal objects is constructed in this way.</li>
<li> <i>Background</i> — Supports for ability to specify the background as color and image.</li>
<li> <i>Border</i> — Supports for displaying of the border with the specified color, width and style.</li></ul>
<p><br />
An example of editing a frame based on this primitive is shown in Figure 2.a, and Figure 3 shows a page that contains a page container built on this primitive.
</p>
<h2><span class="mw-headline" id="Vector_graphics_editor"><span class="mw-headline-number">5</span> <span id="ElFigure" title="#ElFigure">Vector graphics editor</span></span></h2>
<h3><span class="mw-headline" id="Purpose_2"><span class="mw-headline-number">5.1</span> Purpose</span></h3>
<p>The presence of own vector graphics editor is an integral part of self-respecting SCADA system. Experience shows that the most informative form of the technological process presentation is a mnemonic schemes — a set of signal devices, images of the equipment and internal connections of the controlled object, running on a PC. To create them, you can use any of the existing graphical editors. However, thus obtained the mnemonic schemes are static and do not reflect the dynamics of changes in the characteristics of the process and, consequently, they are inadequate and uncomfortable for perception. Thus, one of the tasks facing the developers of SCADA systems is the creation of a graphical editor for creation (painting) the objects, whose characteristics can be dynamically changed.
</p>
<h3><span class="mw-headline" id="Principles_and_functions_of_the_graphic_editor"><span class="mw-headline-number">5.2</span> Principles and functions of the graphic editor</span></h3>
<p>The basis of the described editor are three graphic primitives: line, arc, Bézier curve. The dynamically changing characteristics of these primitives include:
</p>
<ul><li> Coordinates of the control points used to define the shape of the line, arc or Bézier curve. The line has 2 control points, the arc — 5, Bézier curve — 4 (Fig.5.2.a).</li>
<li> Line width.</li>
<li> Border width.</li>
<li> Border color.</li>
<li> Line style.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigCntrPoints.png"><img class="thumbimage" height="150" src="../files/Vision_ElFigCntrPoints.png" width="400" /></a>  <div class="thumbcaption">Fig.5.2.a. Control points of the line, arcs and Bézier curve.</div></div></div></div>
<p>Examples of the primitives, of different colors, widths, styles, with borders or without ones, are shown in Figure 5.2.b.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigExamples.png"><img class="thumbimage" height="150" src="../files/Vision_ElFigExamples.png" width="400" /></a>  <div class="thumbcaption">Fig.5.2.b. Examples of the primitives, from left to right: line, arc and Bézier curve.</div></div></div></div>
<p>It is possible to connect various graphic primitives, to create complex graphic objects. If the connected primitives make the closed contour, it can be filled with color and image (Fig.5.2.c).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigFills.png"><img class="thumbimage" height="150" src="../files/Vision_ElFigFills.png" width="250" /></a>  <div class="thumbcaption">Fig.5.2.c. Fills of the closed contour with the color and image.</div></div></div></div>
<p>The graphics editor allows you to zoom and rotate the figures (Fig.5.2.d) — primitives and complex graphic objects.
</p><p>The features of the editor also include: selection, moving, copying and deleting the figures.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigScaleRotate.png"><img class="thumbimage" height="150" src="../files/Vision_ElFigScaleRotate.png" width="300" /></a>  <div class="thumbcaption">Fig.5.2.d. Zooming and rotating the figures.</div></div></div></div>
<h3><span class="mw-headline" id="Basic_principles_of_operation_in_the_graphical_editor"><span class="mw-headline-number">5.3</span> Basic principles of operation in the graphical editor</span></h3>
<p>In order to get started with the graphical editor, after launching the OpenSCADA project, you need to call "Operation user interface (Qt)". The "Widgets" tab contains a list of existing graphical libraries and items that belong to them.
</p><p>Suppose we need to add a graphic element to one of the existing libraries. To do this, select the library name, and click the button (<a class="image" href="http://oscada.org/wiki/File:Vision_ElFigCreate.png"><img alt="Vision ElFigCreate.png" height="36" src="../files/Vision_ElFigCreate.png" width="32" /></a>) on the toolbar. In the appeared window enter the Identifier and name of the new graphic element. After that, let's move on to this element and press the button (<a class="image" href="http://oscada.org/wiki/File:Vision_ElFigEdit.png"><img alt="Vision ElFigEdit.png" height="23" src="../files/Vision_ElFigEdit.png" width="25" /></a>). The drawing area will appear on the right. Using the double-click mouse over this field, or by using the context menu, we will enter the editing mode — the graphic editor mode, which allows you to perform all the provided manipulations with the figures. At that moment, when the graphic element we created is in focus, the tab "Attributes" will look like it is shown in Figure 5.3.a.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:365px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigAttrs.png"><img class="thumbimage" height="461" src="../files/Vision_ElFigAttrs.png" width="363" /></a>  <div class="thumbcaption">Fig.5.3.a. Attributes of the elementary figure.</div></div></div></div>
<p>With the help of mouse, or the "Geometry" field of the "Attributes" tab, let's define the drawing area size and scale coefficients.
</p><p>Using the "Line" field of the "Attributes" tab, lets define the width, color, line style of the figures, which we'll draw. With the "Border" field let's define the width and color of the border. The "Fill" field allows you to specify color, and image for the fills. "Elements list" contains a list of primitives used to create the graphical object. Elements of all fields of the "Attributes" tab can be dynamically changed in the user procedure.
</p><p>Graphical primitives can be drawn with the mouse or by specifying the list of graphical primitives ("Elements list"). In the first case, the coordinates of the control points of the primitive are computed automatically, and width, color, style of the line, width and color of the border are set by defaults, from the "Attributes" tab. In the second case, the primitive must be described in the "Elements list" as follows:
</p>
<dl><dd><i>line:(x1|y1):(x2|y2):width:color:border_width:border_color:style</i> <b>(1)</b></dd>
<dd><i>arc:(x1|y1):(x2|y2):(x3|y3):(x4|y4):(x5|y5):width:color:border_width:border_color:style</i> <b>(2)</b></dd>
<dd><i>bezier:(x1|y1):(x2|y2):(x3|y3):(x4|y4):width:color:border_width:border_color:style,</i> <b>(3)</b></dd></dl>
<p>Where:
</p>
<dl><dd><i>(x1|y1)</i> — coordinates of the first control point of the primitive;</dd>
<dd><i>(x2|y2)</i> — coordinates of the second control point of the primitive;</dd>
<dd><i>(x3|y3)</i> — coordinates of the third control point of the primitive;</dd>
<dd><i>(x4|y4)</i> — coordinates of the fourth control point of the primitive;</dd>
<dd><i>(x5|y5)</i> — coordinates of the fifth control point of the primitive;</dd>
<dd><i>width</i> — line width, with which the primitive will be drawn;</dd>
<dd><i>color</i> — line color, with which the primitive will be drawn;</dd>
<dd><i>border_width</i> — border width;</dd>
<dd><i>border_color</i> — border color;</dd>
<dd><i>style</i> — line style ("0" — solid, "1" — dashed, "2" — dotted).</dd></dl>
<p>In this case, the values of the width, color, style of the line, width, and color of the border in the elements list are priority. If you want to use any of the properties, that are set in the fields "Line" or "Border" of the "Attributes" tab, then during the description of the primitive they should be skipped. For example, we want to create a line with: width 3, red color, solid and without border. At the same time in the "Line" field the following properties are set: line width 3, black color and solid style; and in the "Border" field: border width 5, green color. Then the description of the primitive in the elements list will be as follows:
</p>
<dl><dd><i>line:(x1|y1):(x2|y2)::red:0::</i> <b>(4)</b></dd></dl>
<p>Expressions (1) - (4) define the static properties of the primitives that can not be changed in user's procedure. To specify the dynamic properties it is necessary to use the following expression:
</p>
<dl><dd><i>line:1:2:w1:c1:w2:c2:s1</i> <b>(5)</b></dd></dl>
<p>Then, the "Attributes" tab will be appended by the fields: Point 1 (<i>1</i>), Point 2 (<i>2</i>), Width 1(<i>w1</i>), Width 2(<i>w2</i>), Color 1(<i>c1</i>), Color 2(<i>c2</i>), Style 1 (<i>s1</i>) (Fig. 5.3.b). Values of these fields can be changed in user's procedure, using the user programming language of OpenSCADA. Obviously, if desired, not all properties of the primitive can be declared dynamic, but one or more, in addition, one dynamic property can be used repeatedly.
</p><p>Editing the coordinates of the control points is made using the mouse or by changing them in the elements list, for static points; or directly in the "Attributes" tab, with dynamic points in place ("Point 1", ...). Editing the other properties is made by means of changing the content of the fields "Line", "Border", "Fill" of the "Attributes" tab or the elements list.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:365px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDynAttrs.png"><img class="thumbimage" height="458" src="../files/Vision_ElFigDynAttrs.png" width="363" /></a>  <div class="thumbcaption">Fig.5.3.b. Dynamic attributes of the elementary figure.</div></div></div></div>
<p>There are possibilities:
</p>
<ul><li> selection:
<ul><li> left mouse click on the figure;</li>
<li> joint selection of the primitives — left mouse button + the "Ctrl" key pressed, having disabled the "Connections" button;</li>
<li> joint selection by the frame, drawn by holding down the left mouse button.</li></ul></li>
<li> moving, by keyboard/mouse;</li>
<li> copying and pasting — "Ctrl" + "C", "Ctrl" + "V" or from the popup menu;</li>
<li> deleting — "Del".</li></ul>
<p>To connect primitives with each other you need:
</p>
<ol><li> Press the button "Connections".</li>
<li> Select one of the figures and move its start or end point to the desired start or end point of the other figure so that it will get to the appeared circle.</li></ol>
<p>To fill the closed contour it is necessary to make double click of the left mouse button inside it or to specify the fill in the elements list as follows:
</p>
<dl><dd><i>fill:(x1:y1):(x2:y2):...:(xn:yn):color:image</i> — static;</dd>
<dd><i>fill:1:2:3:...:c1:i1</i> — dynamic.</dd></dl>
<p>Where:
</p>
<dl><dd><i>(x1:y1):(x2:y2):...:(xn:yn)</i> — coordinates of the start and end points of the primitives that form a closed contour;</dd>
<dd><i>color</i> — fill color;</dd>
<dd><i>image</i> — fill image.</dd></dl>
<p>The priority values are the color and image of the fill, set in the elements list. If you want to use the characteristics set by the "Fill" field of the "Attributes" tab, then, when describing the primitives, they should be omitted.
</p><p>To scale the figures it is necessary, in the "Geometry" field, to set the scale for the "X" and "Y" axes. In addition, there is the ability to visually zoom in/out the widget without changing the scale in the "Geometry" field. You must exit the editing mode, right click on the widget field, select in the popup menu "Zoom in (+10%)"/"Zoom out (-10%)" or rotate the mouse wheel while holding the "Ctrl" key pressed. Exit the editing mode is made either by pressing the "Esc" or using the popup menu of the widget.
</p><p>There is a possibility to rotate the content of the widget, for which it is necessary in the "Attributes" window to set "Orientation angle" from -360 to 360.
</p><p>The graphical editor supports color transparency, defined as follows: <b>{color}-{t}</b>, where <i>color</i> — the color, and <i>t</i> — transparency from 0 (fully transparent) to 255 (opaque).
</p>
<h3><span class="mw-headline" id="Popup_menu_of_the_graphic_editor"><span class="mw-headline-number">5.4</span> Popup menu of the graphic editor</span></h3>
<p>The popup menu by the right-clicking in the editable widget is provided. Depending on what an object is under the mouse, popup menu can take several different forms. Below, in Figure 5.4, there are examples of the popup menu.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:647px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigPopup.png"><img class="thumbimage" height="393" src="../files/Vision_ElFigPopup.png" width="645" /></a>  <div class="thumbcaption">Fig.5.4. Popup menu for the lines (line, arc, Bézier curve) and for the fill, from left to right.</div></div></div></div>
<p>The popup menu includes the following sections (from the top to the bottom):
</p>
<ul><li> drawing:
<ul><li> selecting the figure to paint;</li>
<li> selecting the mode "Connections";</li>
<li> returning to the selection mode — "Cursor".</li></ul></li>
<li> undo/redo the changes;</li>
<li> copy and paste the selected figures, within one widget;</li>
<li> rising and lowering the selected figures along the "Z" axis;</li>
<li> control for the primitives' attributes: to make static or dynamic;</li>
<li> calling the properties dialog of the elementary figure;</li>
<li> exiting the editing mode.</li></ul>
<h3><span class="mw-headline" id="Properties_dialog_of_the_elementary_figure"><span class="mw-headline-number">5.5</span> Properties dialog of the elementary figure</span></h3>
<p>Dialog, versions of which are shown in Figures 5.5.a, 5.5.b, 5.5.c, is implemented for interactive and comfortable user control of the properties of the figure(s).
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:779px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDlgLine.png"><img class="thumbimage" height="338" src="../files/Vision_ElFigDlgLine.png" width="777" /></a>  <div class="thumbcaption">Fig.5.5.a. Properties dialog of the elementary figure for single figure (line, arc or a Bézier curve).</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:867px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDlgLines.png"><img class="thumbimage" height="328" src="../files/Vision_ElFigDlgLines.png" width="865" /></a>  <div class="thumbcaption">Fig.5.5.b. Properties dialog of the elementary figure for the group of selected figures.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:387px;"><a class="image" href="http://oscada.org/wiki/File:Vision_ElFigDlgFill.png"><img class="thumbimage" height="190" src="../files/Vision_ElFigDlgFill.png" width="385" /></a>  <div class="thumbcaption">Fig.5.5.c. Properties dialog of the elementary figure for the fill.</div></div></div></div>
<p>As can be seen from the figures above, the dialog can be of three different forms, depending on the object for which it is called. In the title of the dialog there are the numbers of figures, for which it is called. These numbers correspond to the figures positions in the elements list, starting from the top.
</p><p>If the dialog called for a single figure (line, arc or a Bézier curve), then it is possible to edit the points' coordinates of the figure (Fig.5.5.a). If the point is connected to the point of another figure or figures, and "Connections" are enabled, then entered coordinates will be applied to all connected figures and fills, which involved the figure, will be redrawn accordingly.
</p><p>If the dialog is called for the group of selected figures (Fig.5.5.b), properties (attributes) listed in the dialog will be applied to all figures listed in the title of the dialog. When you call the dialog, in the fields of the properties will be shown the data of the figure from the group of selected ones, for which it was called the popup menu. There is the possibility to include/exclude certain properties of the dialog. For this the (<a class="image" href="http://oscada.org/wiki/File:Vision_disableButton.png"><img alt="Vision disableButton.png" height="28" src="../files/Vision_disableButton.png" width="32" /></a>) button is provided. In the case of exclusion of individual properties, they will not be processed upon acceptation of the dialog ("Ok" button). After the acceptation of the dialog, all of the data of the enabled properties will be applied to the whole group of figures.
</p><p>Dialog for the fill's properties (Fig.5.5.c) allows you to manage the properties of the specific fill.
</p><p>When selecting a check box to the right of a property, it (the property) after the acceptation of the dialog is set to the default value, which is listed in the "Attributes" tab. The "Dyn/Stat" buttons make the appropriate properties dynamic or static.
</p>
<h2><span class="mw-headline" id="General_module_configuration"><span class="mw-headline-number">6</span> <span id="Cfg" title="#Cfg">General module configuration</span></span></h2>
<p>To set up own behavior in non-obvious situations, the module provides the ability to configure individual parameters through the control interface of OpenSCADA (Fig.6).
</p>
<ul><li> Module state: "Running", number of individual displays in the library of Qt and main widows list.</li>
<li> Station of the VCA engine of the remote OpenSCADA and the link to the configuration page of the external OpenSCADA stations.</li>
<li> Starting user — points on behalf of what user to open the module window without requiring the password, for local station. For remote station it is points to an user different from the typical one, pointed into the host configuration.</li>
<li> User password (remote station) — password of the user different from the typical one, pointed into the host configuration.</li>
<li> Connection recovery time, in seconds — indicates the time that the lost remote connection is restored.</li>
<li> Lifetime and maximum number of the cached pages. The visualizer provides acceleration of the user interface placing previously opened pages into the cache, to control the storage time and maximum number of the pages in which this properties are intended. Indication of the zero value in general excludes cleaning the cache.</li>
<li> List of the projects for launch, separated by symbol ';', for their automatic execution with the launch of the module. To provide the possibility to indicate the opening of the window of the project execution on the desired display of many display systems, the recording format of the project "PrjName-1" is provided, where 1 — the number of the target display. To connect to the background or another open session use "<b>ses_ {SesID}</b>".</li>
<li> Exit when closing the last running project — useful for solutions that are immediately launched on the project interface.</li>
<li> Reset widget styles to common — required for some widget styles like "gtk" in some specific widgets in run mode, like buttons for the background color and images.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1057px;"><a class="image" href="http://oscada.org/wiki/File:Vision_cfg.png"><img class="thumbimage" height="567" src="../files/Vision_cfg.png" width="1055" /></a>  <div class="thumbcaption">Fig.6. Configuration page of the module.</div></div></div></div>






</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Modules/Vision/en">Modules/Vision/en</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">October 2020</td><td style="text-align: right;" width="40%">OpenSCADA 1+r2711</td></tr></table></body>
</html>