<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="UTF-8" />
<title>Modules/WebCfgD - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="../files/doc.css" rel="stylesheet" /></head>
<body><div class="floatright"><a href="http://oscada.org"><img alt="OpenSCADA" src="../../en/files/Logo-big.png" /></a></div><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="en">Modules/WebCfgD</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-pt-languages" dir="ltr" lang="en"><div class="mw-pt-languages-list autonym"><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">English</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../ru/Modules/WebCfgD.html" title="Модули/Динамический конфигуратор на Web (100% translated)">российский</a>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--complete" href="../../uk/Modules/WebCfgD.html" title="Модулі/Динамічний конфігуратор на Web (100% translated)">українська</a></div></div>
<table class="wikitable">

<tr>
<th> Module </th>
<th> Name </th>
<th> Version </th>
<th> License </th>
<th> Source </th>
<th> Languages </th>
<th> Platforms </th>
<th> Type </th>
<th> Author </th>
<th> Description
</th></tr>

<tr>
<td> <a href="../Modules/WebCfgD.html" title="Special:MyLanguage/Modules/WebCfgD">WebCfgD</a> </td>
<td> Program configurator (Dynamic WEB)
</td>
<td> 1.5 </td>
<td> GPL2 </td>
<td> ui_WebCfgD.so </td>
<td> en,uk,ru,de </td>
<td> x86,x86_64,ARM
</td>
<td> UI </td>
<td> Roman Savochenko<br />&nbsp;&nbsp;<font size="-2"><i>Maxim Lysenko (2009) — the page initial translation</i></font> </td>
<td> Provides the WEB-based configurator of OpenSCADA. The technologies are used: XHTML, CSS and JavaScript.
<ul><li> <b>To Do:</b></li></ul>
<dl><dd>- set up the context of the table fields to limit very big data.</dd></dl>
</td></tr></table>
<p>This module provides the configurator of OpenSCADA. The configurator is implemented on the basis of Web-technologies:
</p>
<ul><li> <i>HTTP</i> — hypertext transfer protocol;</li>
<li> <i>XHTML</i> — extended language of markup of the hypertext documents;</li>
<li> <i>CSS</i> — cascading style sheets of hypertext documents;</li>
<li> <i>JavaScript</i> — the browser programming language built-in into the hypertext document;</li>
<li> <i>DOM</i> — document object model of the internal structure of the browser;</li>
<li> <i>AJAX</i> — arrangement of asynchronous and synchronous requests from the JavaScript to the server;</li>
<li> <i>XML</i> — eXtensible Markup Language.</li></ul>
<p>The configurator interface forms in WEB-browser, by reference to the WEB-server and receiving from it XHTML-document over HTTP. In this case, the WEB-server — OpenSCADA, which supports standard communication mechanisms of the TCP-networks (module <a href="../Modules/Sockets.html" title="Special:MyLanguage/Modules/Sockets">Transport.Sockets</a>), hypertext transfer protocol (module <a href="../Modules/HTTP.html" title="Special:MyLanguage/Modules/HTTP">Protocol.HTTP</a>), as well as encryption of the traffic between the browser and the server (<a href="../Modules/SSL.html" title="Special:MyLanguage/Modules/SSL">Transport.SSL</a>). Therefore, in order to access the user interface provided by this module, OpenSCADA must configure transport (Transport.Sockets or Transport.SSL) in conjunction with the HTTP protocol (Protocol.HTTP). OpenSCADA comes with configuration files that contain the Transport.Sockets configuration for ports 10002 and 10004. Consequently, the module interface, in the default, will be available at URL: "http://localhost:10002" and "http://localhost:10004".
</p><p>After receiving the XHTML document, the browser launches the program in the JavaScript language, to create the configurator dynamic interface.
</p><p>The module is based on the control interface language of OpenSCADA, which means providing a single configuration interface. Update of the module may be required only in the case of updating the specification of the control interface language. To query the page context, group query of the control interface is used, which allows you to optimize the time of remote access on high-latency and slow communication channels.
</p><p>The module was implemented and tested on four WEB-browsers — representatives of the three types of WEB-engines, as follows:
</p>
<ul><li> Chromium 55</li>
<li> Mozilla Firefox 3.0, 45.7</li>
<li> Opera 9.6</li>
<li> Konqueror 3.5, 4</li></ul>
<p>Using the module starts with the opening of the session (the user authentication) by the module of the protocol HTTP (<a href="../Modules/HTTP.html" title="Special:MyLanguage/Modules/HTTP">Protocol.HTTP</a>). For the operation of the authentication and the mechanism of saving of the session, the browser must allow Cookies.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:619px;"><a class="image" href="http://oscada.org/wiki/File:HTTP_auth.png"><img class="thumbimage" height="302" src="../files/HTTP_auth.png" width="617" /></a>  <div class="thumbcaption">Fig.1. User authentication.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:781px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_workplacestruct.png"><img class="thumbimage" height="521" src="../files/WebCfgD_workplacestruct.png" width="779" /></a>  <div class="thumbcaption">Fig.2. Working window of the configurator.</div></div></div></div>
<p>Let's examine the working window of the configurator in Figure 2.
</p><p>The operating window of the configurator consists of the following parts:
</p>
<dl><dd>1 <i>Toolbar</i> — contains the control buttons.</dd>
<dd>2 <i>Address of the opened node</i> — displays the selected node address.</dd>
<dd>3 <i>Navigator</i> — designed for direct navigation by the control tree.</dd>
<dd>4 <i>Workplace field</i> — divided to parts:
<dl><dd>4.1 <i>Node name</i> — contains the current node name.</dd>
<dd>4.2 <i>Tabulator of the working areas</i> — the root pages (control areas) of the node are placed into the tabulator. The control areas of the following levels are placed on the main control place.</dd></dl></dd>
<dd>4 <i>Status line</i> — indicating the configurator status.</dd></dl>
<p>The toolbar contains the following control buttons (from left to right):
</p>
<ul><li> <i>Load from the DB</i> — loads the selected object or branch of the object from the database.</li>
<li> <i>Save to the DB</i> — saves the selected object or branch of the object to the database.</li>
<li> <i>Up</i> — goes to the parent page.</li>
<li> <i>Back</i> — goes back to the previous page.</li>
<li> <i>Forward</i> — goes forward to the forward page.</li>
<li> <i>Add</i> — adds a new object to the container.</li>
<li> <i>Delete</i> — deletes the selected object.</li>
<li> <i>Copy item</i> — copies the selected object.</li>
<li> <i>Cut item</i> — cuts of the selected object. The original object is removed after paste.</li>
<li> <i>Paste item</i> — pastes of the copied or cut item.</li>
<li> <i>Refresh</i> — refreshes the current page.</li>
<li> <i>Start</i> — runs periodically update of the current page content with an interval of one second.</li>
<li> <i>Stop</i> — stops periodically update of the current page content with an interval of one second.</li>
<li> <i>Manual on the page</i> — calls the selected page manual.</li>
<li> <i>About</i> — information about the module.</li></ul>
<p>The control elements are divided to: basic, commands, lists, tables and images. All items are displayed in the sequence strictly appropriate to their location in the description of the control interface language.
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Configuration"><span class="tocnumber">1</span> <span class="toctext">Configuration</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Basic_elements"><span class="tocnumber">2</span> <span class="toctext">Basic elements</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Commands"><span class="tocnumber">3</span> <span class="toctext">Commands</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Lists"><span class="tocnumber">4</span> <span class="toctext">Lists</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Tables"><span class="tocnumber">5</span> <span class="toctext">Tables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Images"><span class="tocnumber">6</span> <span class="toctext">Images</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Design"><span class="tocnumber">7</span> <span class="toctext">Design</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Errors"><span class="tocnumber">8</span> <span class="toctext">Errors</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Configuration"><span class="mw-headline-number">1</span> Configuration</span></h2>
<p>In order to customize its own behavior in some cases, the module provides the ability to configure the parameters through the control interface of OpenSCADA (Fig.3). These parameters are:
</p>
<ul><li> Go to the configuration of the list of remote stations of OpenSCADA, which is used to provide the remote configuration.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:755px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_webdcfg.png"><img class="thumbimage" height="413" src="../files/WebCfgD_webdcfg.png" width="753" /></a>  <div class="thumbcaption">Fig.3. Configuration page of the configurator.</div></div></div></div>
<h2><span class="mw-headline" id="Basic_elements"><span class="mw-headline-number">2</span> Basic elements</span></h2>
<p>Into the number of the basic elements are included: information elements, the field to input values, the elements of combo box, flags, text fields. In the case of absence of an element name, the basic element connects to the previous basic element. Examples of the basic elements with the connection is shown in Figure 4.
</p><p>For input elements that do not provide immediate changes and can be edited for a long time before final completion, a confirmation mechanism is provided. This mechanism eliminates the delay when editing, especially in the case of the remote stations configuration, and to make changes on the confirmation. The input elements with confirmation include: fields for entering text strings or numerical values and text fields. Confirmation is made by pressing the button that appears next to the input field after the start of editing.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1005px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_genelem.png"><img class="thumbimage" height="586" src="../files/WebCfgD_genelem.png" width="1003" /></a>  <div class="thumbcaption">Fig.4. Connection of the basic elements.</div></div></div></div>
<h2><span class="mw-headline" id="Commands"><span class="mw-headline-number">3</span> Commands</span></h2>
<p>The commands are the elements of transferring of certain instructions of an action to the node and for organization of links-transitions on other pages. Commands may contain parameters. The parameters are formed from the basic elements. Example of the commands with the parameters is shown in Figure 5.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:840px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_commandelem.png"><img class="thumbimage" height="527" src="../files/WebCfgD_commandelem.png" width="838" /></a>  <div class="thumbcaption">Fig.5. The command.</div></div></div></div>
<h2><span class="mw-headline" id="Lists"><span class="mw-headline-number">4</span> Lists</span></h2>
<p>The lists contain a group of basic elements of the same type. Operations under the elements are accessible via the context menu of the list, by the mouse click on the list. Through the elements of the list can be performed the moving operations to other pages, mostly children. Lists can be indexed. An example of the list is shown in Figure 6.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:621px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_listelem.png"><img class="thumbimage" height="415" src="../files/WebCfgD_listelem.png" width="619" /></a>  <div class="thumbcaption">Fig.6. The list.</div></div></div></div>
<h2><span class="mw-headline" id="Tables"><span class="mw-headline-number">5</span> Tables</span></h2>
<p>The tables contain values of the basic elements. Type of the basic element is an individual for each column. Example of the table is given in Figure 7. Operations on the structure of the table for editable tables are accessible through the context menu, by the mouse clicking on the service button with the line number. Editing of the table is done by double-clicking on the desired cell.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:811px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_tableelem.png"><img class="thumbimage" height="554" src="../files/WebCfgD_tableelem.png" width="809" /></a>  <div class="thumbcaption">Fig.7. The table.</div></div></div></div>
<h2><span class="mw-headline" id="Images"><span class="mw-headline-number">6</span> Images</span></h2>
<p>The images are designed to transmit graphic information into the configurators. Example of the image is shown in Figure 8.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:991px;"><a class="image" href="http://oscada.org/wiki/File:WebCfgD_imgelem.png"><img class="thumbimage" height="532" src="../files/WebCfgD_imgelem.png" width="989" /></a>  <div class="thumbcaption">Fig.8. The image.</div></div></div></div>
<h2><span class="mw-headline" id="Design"><span class="mw-headline-number">7</span> Design</span></h2>
<p>The Module supports the design changing, placing to the work/current directory the two files WebCfgDVCA.html and WebCfgDVCA.js, where the first one is the XHTML-template of the configurator page and the second one is the JavaScript program of the XHTML-template.
</p><p>Currently, the following designs are available:
</p>
<ul><li> New standard (default) design: <a class="external" href="http://oscada.org/wiki/File:WebCfgDVCA_std.html.gz" title="File:WebCfgDVCA std.html.gz">WebCfgDVCA.html</a>, <a class="external" href="http://oscada.org/wiki/File:WebCfgDVCA_std.js.gz" title="File:WebCfgDVCA std.js.gz">WebCfgDVCA.js</a></li>
<li> Old standard (default) design: <a class="external" href="http://oscada.org/wiki/File:WebCfgDVCA_std201701.html.gz" title="File:WebCfgDVCA std201701.html.gz">WebCfgDVCA.html</a>, <a class="external" href="http://oscada.org/wiki/File:WebCfgDVCA_std201701.js.gz" title="File:WebCfgDVCA std201701.js.gz">WebCfgDVCA.js</a></li></ul>
<h2><span class="mw-headline" id="Errors"><span class="mw-headline-number">8</span> Errors</span></h2>
<p>Representation of the configurator may differ somewhat in different types of browsers. This is due to the fact that in the basis of this module lies a lot of complicated technologies, as well as differences in their implementation on different types of WEB-drives.
</p><p>In addition, each Web-browser has its own problems. Some errors were made for workaround in the process of implementation, but part of them has stayed in sight of the significant difficulties in their workaround and also of actual impossibility to do so.
</p><p>This section contains a table of list of detected WEB browser errors that appear in the configurator.
</p>
<table class="wikitable">

<tr>
<th> Error </th>
<th> Description </th>
<th> Correction
</th></tr>
<tr>
<td colspan="3"> <i>Mozilla FireFox 3.0.4</i> (stable, few errors)
</td></tr>
<tr>
<td> Offset of the popup window of the editable combobox at 5 pixels to the up and to the left. </td>
<td>
<p>The problem lies in the fact that the calculation of the absolute position of the element of the document doesn't grab exactly 5 pixels. Error of 5 pixels is visible in relation to the coordinates of the mouse pointer and the position of the newly-created entirely-positioned window. The algorithm for computing the position:<br />
<i>for(&nbsp;; obj&nbsp;!= null; obj = obj.offsetParent ) posX += obj.offsetLeft;</i>
</p>
</td>
<td> To correction of this error to the estimated value on this browser the 5 pixels are added.
</td></tr>
<tr>
<td> In the element of the list (&lt;select size="10"/&gt;) the vertical scroll is always shows and never turned on the horizontal one. </td>
<td> This element is actively used for building the context menu and drop-down list of the editable combo-box. </td>
<td> <span style="color: blue">For workaround the browser error I must include the list in the block with scroll of the block itself.</span>
</td></tr>
<tr>
<td> The image field is not updating. </td>
<td> In order to eliminate the need for restructuring of the configurable page while updating the values of fields in the tree of the structure objects of the pages which was get from the XMLHttpRequest, the properties are created with the links to the object of the tags of the fields (addr_lab, addr_val_w). In objects with the name of the tag "img", these properties are not created by the browser. </td>
<td> <span style="color: red">not solved</span>
</td></tr>
<tr>
<td colspan="3"> <i>Opera</i> (stable, few errors)
</td></tr>
<tr>
<td> Scroll of the unit of the page does not turn on. For example when displaying large images of the trend. </td>
<td> The block is fixed with the parameters{ overflow: auto; width: 600px; } however, in the case of the exceeding the size of the interior elements the scroll is not turned on. </td>
<td> <span style="color: red">not solved</span>
</td></tr>
<tr>
<td colspan="3"> <i>Konqueror</i> (very unstable on the dynamic resources and contains many errors)
</td></tr>
<tr>
<td> Stable browser crashing. </td>
<td> Browser repeatedly and consistently crashes while the computation of JavaScript and when dealing with the external windows. </td>
<td> <span style="color: red">not solved</span>
</td></tr>
<tr>
<td> The scroll of the navigation tree doesn't returned. </td>
<td> If you drag the navigation tree to the vertical scroll, then scroll it down, then roll the large branch, the vertical scroll disappears, and some of the tree remains invisible behind the top of the block. That. the contents of the block are not updated. </td>
<td> <span style="color: red">not solved</span>
</td></tr>
<tr>
<td> The images do not update. </td>
<td> In the fields of images, to update the image from the server, the property "src" is to be changed. The browser does not sense it, or even updates the size of the frame, and the image is not updated. Methods to prevent caching of the images are used, but do not help. </td>
<td> <span style="color: red">not solved</span>
</td></tr>
<tr>
<td> Capturing button images </td>
<td> JavaScript of the module uses non-asynchronous but synchronous requests to the server to save the sequence of actions. At moments of such a request, if it was triggered by an event from an image (the image is a button), the image is captured as if it were for transfer, even for short-term mouse clicks. </td>
<td> <span style="color: red">not solved</span>
</td></tr>
<tr>
<td> Impossible to insert a new element to the tree of objects obtained as a result of XMLHttpRequest </td>
<td> To control the modification of the configuration page structure, the current structure tree was mapped to the newly received XMLHttpRequest. When inserting a new element into the structure tree using insertBefore(), a "DOM error 4" error occurs. If the insertion takes place in a tree created from scratch (and not from XMLHttpRequest), this error does not occur. The problem seems to be the difference between the "document" object of the owner of these trees. In such a tree it is not possible to add a node created as document.createElement(). Only the ones created as mytree.ownerDocument.createElement() are inserted. </td>
<td> The procedure for verifying the structure has been simplified and reduced to the definition of the fact of the change.
</td></tr>
<tr>
<td> The mechanisms of the context menu formation in the Konqueror 4 doesn't work. </td>
<td> Typically, to create a context menu, the oncontextmenu handler, on Firefox and IE, or onmousedown with the right key processing, on the other browsers, are used. In Konqueror, oncontextmenu does not work at all, and onmousedown works only in Konqueror 3.5. </td>
<td> <span style="color: red">not solved</span>
</td></tr></table>






</div><table style="border-top: dotted 2px #999999; margin-top: 20pt; color: gray;" width="100%"><tr><td style="text-align: left;" width="40%"><a href="http://oscada.org/wiki/Modules/WebCfgD/en">Modules/WebCfgD/en</a> - <a href="http://oscada.org/en/main/about-the-project/licenses/">GFDL</a></td><td style="text-align: center;">May 2020</td><td style="text-align: right;" width="40%">OpenSCADA 1+r2678</td></tr></table></body>
</html>